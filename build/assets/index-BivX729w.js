function S_(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in t)){const l=Object.getOwnPropertyDescriptor(r,o);l&&Object.defineProperty(t,o,l.get?l:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const d of l.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();var Xp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function x1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Zm={exports:{}},gd={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cw;function ZN(){if(Cw)return gd;Cw=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,o,l){var d=null;if(l!==void 0&&(d=""+l),o.key!==void 0&&(d=""+o.key),"key"in o){l={};for(var x in o)x!=="key"&&(l[x]=o[x])}else l=o;return o=l.ref,{$$typeof:t,type:r,key:d,ref:o!==void 0?o:null,props:l}}return gd.Fragment=e,gd.jsx=n,gd.jsxs=n,gd}var Sw;function JN(){return Sw||(Sw=1,Zm.exports=ZN()),Zm.exports}var U=JN(),Jm={exports:{}},Gt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Aw;function eM(){if(Aw)return Gt;Aw=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),d=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),I=Symbol.iterator;function N(ae){return ae===null||typeof ae!="object"?null:(ae=I&&ae[I]||ae["@@iterator"],typeof ae=="function"?ae:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,V={};function K(ae,ge,me){this.props=ae,this.context=ge,this.refs=V,this.updater=me||M}K.prototype.isReactComponent={},K.prototype.setState=function(ae,ge){if(typeof ae!="object"&&typeof ae!="function"&&ae!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ae,ge,"setState")},K.prototype.forceUpdate=function(ae){this.updater.enqueueForceUpdate(this,ae,"forceUpdate")};function Z(){}Z.prototype=K.prototype;function H(ae,ge,me){this.props=ae,this.context=ge,this.refs=V,this.updater=me||M}var W=H.prototype=new Z;W.constructor=H,k(W,K.prototype),W.isPureReactComponent=!0;var te=Array.isArray;function se(){}var z={H:null,A:null,T:null,S:null},j=Object.prototype.hasOwnProperty;function F(ae,ge,me){var Re=me.ref;return{$$typeof:t,type:ae,key:ge,ref:Re!==void 0?Re:null,props:me}}function J(ae,ge){return F(ae.type,ge,ae.props)}function Y(ae){return typeof ae=="object"&&ae!==null&&ae.$$typeof===t}function O(ae){var ge={"=":"=0",":":"=2"};return"$"+ae.replace(/[=:]/g,function(me){return ge[me]})}var q=/\/+/g;function ue(ae,ge){return typeof ae=="object"&&ae!==null&&ae.key!=null?O(""+ae.key):ge.toString(36)}function re(ae){switch(ae.status){case"fulfilled":return ae.value;case"rejected":throw ae.reason;default:switch(typeof ae.status=="string"?ae.then(se,se):(ae.status="pending",ae.then(function(ge){ae.status==="pending"&&(ae.status="fulfilled",ae.value=ge)},function(ge){ae.status==="pending"&&(ae.status="rejected",ae.reason=ge)})),ae.status){case"fulfilled":return ae.value;case"rejected":throw ae.reason}}throw ae}function ie(ae,ge,me,Re,ze){var we=typeof ae;(we==="undefined"||we==="boolean")&&(ae=null);var Ke=!1;if(ae===null)Ke=!0;else switch(we){case"bigint":case"string":case"number":Ke=!0;break;case"object":switch(ae.$$typeof){case t:case e:Ke=!0;break;case w:return Ke=ae._init,ie(Ke(ae._payload),ge,me,Re,ze)}}if(Ke)return ze=ze(ae),Ke=Re===""?"."+ue(ae,0):Re,te(ze)?(me="",Ke!=null&&(me=Ke.replace(q,"$&/")+"/"),ie(ze,ge,me,"",function(st){return st})):ze!=null&&(Y(ze)&&(ze=J(ze,me+(ze.key==null||ae&&ae.key===ze.key?"":(""+ze.key).replace(q,"$&/")+"/")+Ke)),ge.push(ze)),1;Ke=0;var tt=Re===""?".":Re+":";if(te(ae))for(var nt=0;nt<ae.length;nt++)Re=ae[nt],we=tt+ue(Re,nt),Ke+=ie(Re,ge,me,we,ze);else if(nt=N(ae),typeof nt=="function")for(ae=nt.call(ae),nt=0;!(Re=ae.next()).done;)Re=Re.value,we=tt+ue(Re,nt++),Ke+=ie(Re,ge,me,we,ze);else if(we==="object"){if(typeof ae.then=="function")return ie(re(ae),ge,me,Re,ze);throw ge=String(ae),Error("Objects are not valid as a React child (found: "+(ge==="[object Object]"?"object with keys {"+Object.keys(ae).join(", ")+"}":ge)+"). If you meant to render a collection of children, use an array instead.")}return Ke}function he(ae,ge,me){if(ae==null)return ae;var Re=[],ze=0;return ie(ae,Re,"","",function(we){return ge.call(me,we,ze++)}),Re}function Ne(ae){if(ae._status===-1){var ge=ae._result;ge=ge(),ge.then(function(me){(ae._status===0||ae._status===-1)&&(ae._status=1,ae._result=me)},function(me){(ae._status===0||ae._status===-1)&&(ae._status=2,ae._result=me)}),ae._status===-1&&(ae._status=0,ae._result=ge)}if(ae._status===1)return ae._result.default;throw ae._result}var Te=typeof reportError=="function"?reportError:function(ae){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ge=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof ae=="object"&&ae!==null&&typeof ae.message=="string"?String(ae.message):String(ae),error:ae});if(!window.dispatchEvent(ge))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",ae);return}console.error(ae)},We={map:he,forEach:function(ae,ge,me){he(ae,function(){ge.apply(this,arguments)},me)},count:function(ae){var ge=0;return he(ae,function(){ge++}),ge},toArray:function(ae){return he(ae,function(ge){return ge})||[]},only:function(ae){if(!Y(ae))throw Error("React.Children.only expected to receive a single React element child.");return ae}};return Gt.Activity=A,Gt.Children=We,Gt.Component=K,Gt.Fragment=n,Gt.Profiler=o,Gt.PureComponent=H,Gt.StrictMode=r,Gt.Suspense=E,Gt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=z,Gt.__COMPILER_RUNTIME={__proto__:null,c:function(ae){return z.H.useMemoCache(ae)}},Gt.cache=function(ae){return function(){return ae.apply(null,arguments)}},Gt.cacheSignal=function(){return null},Gt.cloneElement=function(ae,ge,me){if(ae==null)throw Error("The argument must be a React element, but you passed "+ae+".");var Re=k({},ae.props),ze=ae.key;if(ge!=null)for(we in ge.key!==void 0&&(ze=""+ge.key),ge)!j.call(ge,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&ge.ref===void 0||(Re[we]=ge[we]);var we=arguments.length-2;if(we===1)Re.children=me;else if(1<we){for(var Ke=Array(we),tt=0;tt<we;tt++)Ke[tt]=arguments[tt+2];Re.children=Ke}return F(ae.type,ze,Re)},Gt.createContext=function(ae){return ae={$$typeof:d,_currentValue:ae,_currentValue2:ae,_threadCount:0,Provider:null,Consumer:null},ae.Provider=ae,ae.Consumer={$$typeof:l,_context:ae},ae},Gt.createElement=function(ae,ge,me){var Re,ze={},we=null;if(ge!=null)for(Re in ge.key!==void 0&&(we=""+ge.key),ge)j.call(ge,Re)&&Re!=="key"&&Re!=="__self"&&Re!=="__source"&&(ze[Re]=ge[Re]);var Ke=arguments.length-2;if(Ke===1)ze.children=me;else if(1<Ke){for(var tt=Array(Ke),nt=0;nt<Ke;nt++)tt[nt]=arguments[nt+2];ze.children=tt}if(ae&&ae.defaultProps)for(Re in Ke=ae.defaultProps,Ke)ze[Re]===void 0&&(ze[Re]=Ke[Re]);return F(ae,we,ze)},Gt.createRef=function(){return{current:null}},Gt.forwardRef=function(ae){return{$$typeof:x,render:ae}},Gt.isValidElement=Y,Gt.lazy=function(ae){return{$$typeof:w,_payload:{_status:-1,_result:ae},_init:Ne}},Gt.memo=function(ae,ge){return{$$typeof:m,type:ae,compare:ge===void 0?null:ge}},Gt.startTransition=function(ae){var ge=z.T,me={};z.T=me;try{var Re=ae(),ze=z.S;ze!==null&&ze(me,Re),typeof Re=="object"&&Re!==null&&typeof Re.then=="function"&&Re.then(se,Te)}catch(we){Te(we)}finally{ge!==null&&me.types!==null&&(ge.types=me.types),z.T=ge}},Gt.unstable_useCacheRefresh=function(){return z.H.useCacheRefresh()},Gt.use=function(ae){return z.H.use(ae)},Gt.useActionState=function(ae,ge,me){return z.H.useActionState(ae,ge,me)},Gt.useCallback=function(ae,ge){return z.H.useCallback(ae,ge)},Gt.useContext=function(ae){return z.H.useContext(ae)},Gt.useDebugValue=function(){},Gt.useDeferredValue=function(ae,ge){return z.H.useDeferredValue(ae,ge)},Gt.useEffect=function(ae,ge){return z.H.useEffect(ae,ge)},Gt.useEffectEvent=function(ae){return z.H.useEffectEvent(ae)},Gt.useId=function(){return z.H.useId()},Gt.useImperativeHandle=function(ae,ge,me){return z.H.useImperativeHandle(ae,ge,me)},Gt.useInsertionEffect=function(ae,ge){return z.H.useInsertionEffect(ae,ge)},Gt.useLayoutEffect=function(ae,ge){return z.H.useLayoutEffect(ae,ge)},Gt.useMemo=function(ae,ge){return z.H.useMemo(ae,ge)},Gt.useOptimistic=function(ae,ge){return z.H.useOptimistic(ae,ge)},Gt.useReducer=function(ae,ge,me){return z.H.useReducer(ae,ge,me)},Gt.useRef=function(ae){return z.H.useRef(ae)},Gt.useState=function(ae){return z.H.useState(ae)},Gt.useSyncExternalStore=function(ae,ge,me){return z.H.useSyncExternalStore(ae,ge,me)},Gt.useTransition=function(){return z.H.useTransition()},Gt.version="19.2.0",Gt}var _w;function D2(){return _w||(_w=1,Jm.exports=eM()),Jm.exports}var L=D2();const Vt=x1(L),Dy=S_({__proto__:null,default:Vt},[L]);var ey={exports:{}},md={},ty={exports:{}},ny={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tw;function tM(){return Tw||(Tw=1,(function(t){function e(ie,he){var Ne=ie.length;ie.push(he);e:for(;0<Ne;){var Te=Ne-1>>>1,We=ie[Te];if(0<o(We,he))ie[Te]=he,ie[Ne]=We,Ne=Te;else break e}}function n(ie){return ie.length===0?null:ie[0]}function r(ie){if(ie.length===0)return null;var he=ie[0],Ne=ie.pop();if(Ne!==he){ie[0]=Ne;e:for(var Te=0,We=ie.length,ae=We>>>1;Te<ae;){var ge=2*(Te+1)-1,me=ie[ge],Re=ge+1,ze=ie[Re];if(0>o(me,Ne))Re<We&&0>o(ze,me)?(ie[Te]=ze,ie[Re]=Ne,Te=Re):(ie[Te]=me,ie[ge]=Ne,Te=ge);else if(Re<We&&0>o(ze,Ne))ie[Te]=ze,ie[Re]=Ne,Te=Re;else break e}}return he}function o(ie,he){var Ne=ie.sortIndex-he.sortIndex;return Ne!==0?Ne:ie.id-he.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var d=Date,x=d.now();t.unstable_now=function(){return d.now()-x}}var E=[],m=[],w=1,A=null,I=3,N=!1,M=!1,k=!1,V=!1,K=typeof setTimeout=="function"?setTimeout:null,Z=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function W(ie){for(var he=n(m);he!==null;){if(he.callback===null)r(m);else if(he.startTime<=ie)r(m),he.sortIndex=he.expirationTime,e(E,he);else break;he=n(m)}}function te(ie){if(k=!1,W(ie),!M)if(n(E)!==null)M=!0,se||(se=!0,O());else{var he=n(m);he!==null&&re(te,he.startTime-ie)}}var se=!1,z=-1,j=5,F=-1;function J(){return V?!0:!(t.unstable_now()-F<j)}function Y(){if(V=!1,se){var ie=t.unstable_now();F=ie;var he=!0;try{e:{M=!1,k&&(k=!1,Z(z),z=-1),N=!0;var Ne=I;try{t:{for(W(ie),A=n(E);A!==null&&!(A.expirationTime>ie&&J());){var Te=A.callback;if(typeof Te=="function"){A.callback=null,I=A.priorityLevel;var We=Te(A.expirationTime<=ie);if(ie=t.unstable_now(),typeof We=="function"){A.callback=We,W(ie),he=!0;break t}A===n(E)&&r(E),W(ie)}else r(E);A=n(E)}if(A!==null)he=!0;else{var ae=n(m);ae!==null&&re(te,ae.startTime-ie),he=!1}}break e}finally{A=null,I=Ne,N=!1}he=void 0}}finally{he?O():se=!1}}}var O;if(typeof H=="function")O=function(){H(Y)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,ue=q.port2;q.port1.onmessage=Y,O=function(){ue.postMessage(null)}}else O=function(){K(Y,0)};function re(ie,he){z=K(function(){ie(t.unstable_now())},he)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ie){ie.callback=null},t.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<ie?Math.floor(1e3/ie):5},t.unstable_getCurrentPriorityLevel=function(){return I},t.unstable_next=function(ie){switch(I){case 1:case 2:case 3:var he=3;break;default:he=I}var Ne=I;I=he;try{return ie()}finally{I=Ne}},t.unstable_requestPaint=function(){V=!0},t.unstable_runWithPriority=function(ie,he){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var Ne=I;I=ie;try{return he()}finally{I=Ne}},t.unstable_scheduleCallback=function(ie,he,Ne){var Te=t.unstable_now();switch(typeof Ne=="object"&&Ne!==null?(Ne=Ne.delay,Ne=typeof Ne=="number"&&0<Ne?Te+Ne:Te):Ne=Te,ie){case 1:var We=-1;break;case 2:We=250;break;case 5:We=1073741823;break;case 4:We=1e4;break;default:We=5e3}return We=Ne+We,ie={id:w++,callback:he,priorityLevel:ie,startTime:Ne,expirationTime:We,sortIndex:-1},Ne>Te?(ie.sortIndex=Ne,e(m,ie),n(E)===null&&ie===n(m)&&(k?(Z(z),z=-1):k=!0,re(te,Ne-Te))):(ie.sortIndex=We,e(E,ie),M||N||(M=!0,se||(se=!0,O()))),ie},t.unstable_shouldYield=J,t.unstable_wrapCallback=function(ie){var he=I;return function(){var Ne=I;I=he;try{return ie.apply(this,arguments)}finally{I=Ne}}}})(ny)),ny}var Iw;function nM(){return Iw||(Iw=1,ty.exports=tM()),ty.exports}var ry={exports:{}},Di={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rw;function rM(){if(Rw)return Di;Rw=1;var t=D2();function e(E){var m="https://react.dev/errors/"+E;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var w=2;w<arguments.length;w++)m+="&args[]="+encodeURIComponent(arguments[w])}return"Minified React error #"+E+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(E,m,w){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:E,containerInfo:m,implementation:w}}var d=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function x(E,m){if(E==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Di.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Di.createPortal=function(E,m){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return l(E,m,null,w)},Di.flushSync=function(E){var m=d.T,w=r.p;try{if(d.T=null,r.p=2,E)return E()}finally{d.T=m,r.p=w,r.d.f()}},Di.preconnect=function(E,m){typeof E=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(E,m))},Di.prefetchDNS=function(E){typeof E=="string"&&r.d.D(E)},Di.preinit=function(E,m){if(typeof E=="string"&&m&&typeof m.as=="string"){var w=m.as,A=x(w,m.crossOrigin),I=typeof m.integrity=="string"?m.integrity:void 0,N=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;w==="style"?r.d.S(E,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:A,integrity:I,fetchPriority:N}):w==="script"&&r.d.X(E,{crossOrigin:A,integrity:I,fetchPriority:N,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Di.preinitModule=function(E,m){if(typeof E=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var w=x(m.as,m.crossOrigin);r.d.M(E,{crossOrigin:w,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(E)},Di.preload=function(E,m){if(typeof E=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var w=m.as,A=x(w,m.crossOrigin);r.d.L(E,w,{crossOrigin:A,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Di.preloadModule=function(E,m){if(typeof E=="string")if(m){var w=x(m.as,m.crossOrigin);r.d.m(E,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:w,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(E)},Di.requestFormReset=function(E){r.d.r(E)},Di.unstable_batchedUpdates=function(E,m){return E(m)},Di.useFormState=function(E,m,w){return d.H.useFormState(E,m,w)},Di.useFormStatus=function(){return d.H.useHostTransitionStatus()},Di.version="19.2.0",Di}var Nw;function A_(){if(Nw)return ry.exports;Nw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ry.exports=rM(),ry.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mw;function iM(){if(Mw)return md;Mw=1;var t=nM(),e=D2(),n=A_();function r(i){var a="https://react.dev/errors/"+i;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)a+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var a=i,f=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(f=a.return),i=a.return;while(i)}return a.tag===3?f:null}function d(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function x(i){if(i.tag===31){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function E(i){if(l(i)!==i)throw Error(r(188))}function m(i){var a=i.alternate;if(!a){if(a=l(i),a===null)throw Error(r(188));return a!==i?null:i}for(var f=i,g=a;;){var C=f.return;if(C===null)break;var _=C.alternate;if(_===null){if(g=C.return,g!==null){f=g;continue}break}if(C.child===_.child){for(_=C.child;_;){if(_===f)return E(C),i;if(_===g)return E(C),a;_=_.sibling}throw Error(r(188))}if(f.return!==g.return)f=C,g=_;else{for(var P=!1,Q=C.child;Q;){if(Q===f){P=!0,f=C,g=_;break}if(Q===g){P=!0,g=C,f=_;break}Q=Q.sibling}if(!P){for(Q=_.child;Q;){if(Q===f){P=!0,f=_,g=C;break}if(Q===g){P=!0,g=_,f=C;break}Q=Q.sibling}if(!P)throw Error(r(189))}}if(f.alternate!==g)throw Error(r(190))}if(f.tag!==3)throw Error(r(188));return f.stateNode.current===f?i:a}function w(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i;for(i=i.child;i!==null;){if(a=w(i),a!==null)return a;i=i.sibling}return null}var A=Object.assign,I=Symbol.for("react.element"),N=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),K=Symbol.for("react.profiler"),Z=Symbol.for("react.consumer"),H=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),se=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),j=Symbol.for("react.lazy"),F=Symbol.for("react.activity"),J=Symbol.for("react.memo_cache_sentinel"),Y=Symbol.iterator;function O(i){return i===null||typeof i!="object"?null:(i=Y&&i[Y]||i["@@iterator"],typeof i=="function"?i:null)}var q=Symbol.for("react.client.reference");function ue(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===q?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case k:return"Fragment";case K:return"Profiler";case V:return"StrictMode";case te:return"Suspense";case se:return"SuspenseList";case F:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case M:return"Portal";case H:return i.displayName||"Context";case Z:return(i._context.displayName||"Context")+".Consumer";case W:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case z:return a=i.displayName||null,a!==null?a:ue(i.type)||"Memo";case j:a=i._payload,i=i._init;try{return ue(i(a))}catch{}}return null}var re=Array.isArray,ie=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ne={pending:!1,data:null,method:null,action:null},Te=[],We=-1;function ae(i){return{current:i}}function ge(i){0>We||(i.current=Te[We],Te[We]=null,We--)}function me(i,a){We++,Te[We]=i.current,i.current=a}var Re=ae(null),ze=ae(null),we=ae(null),Ke=ae(null);function tt(i,a){switch(me(we,a),me(ze,i),me(Re,null),a.nodeType){case 9:case 11:i=(i=a.documentElement)&&(i=i.namespaceURI)?qb(i):0;break;default:if(i=a.tagName,a=a.namespaceURI)a=qb(a),i=Wb(a,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ge(Re),me(Re,i)}function nt(){ge(Re),ge(ze),ge(we)}function st(i){i.memoizedState!==null&&me(Ke,i);var a=Re.current,f=Wb(a,i.type);a!==f&&(me(ze,i),me(Re,f))}function dt(i){ze.current===i&&(ge(Re),ge(ze)),Ke.current===i&&(ge(Ke),fd._currentValue=Ne)}var St,rt;function ht(i){if(St===void 0)try{throw Error()}catch(f){var a=f.stack.trim().match(/\n( *(at )?)/);St=a&&a[1]||"",rt=-1<f.stack.indexOf(`
    at`)?" (<anonymous>)":-1<f.stack.indexOf("@")?"@unknown:0:0":""}return`
`+St+i+rt}var Mt=!1;function wn(i,a){if(!i||Mt)return"";Mt=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(a){var Le=function(){throw Error()};if(Object.defineProperty(Le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Le,[])}catch(Ie){var Ce=Ie}Reflect.construct(i,[],Le)}else{try{Le.call()}catch(Ie){Ce=Ie}i.call(Le.prototype)}}else{try{throw Error()}catch(Ie){Ce=Ie}(Le=i())&&typeof Le.catch=="function"&&Le.catch(function(){})}}catch(Ie){if(Ie&&Ce&&typeof Ie.stack=="string")return[Ie.stack,Ce.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var C=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");C&&C.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=g.DetermineComponentFrameRoot(),P=_[0],Q=_[1];if(P&&Q){var le=P.split(`
`),be=Q.split(`
`);for(C=g=0;g<le.length&&!le[g].includes("DetermineComponentFrameRoot");)g++;for(;C<be.length&&!be[C].includes("DetermineComponentFrameRoot");)C++;if(g===le.length||C===be.length)for(g=le.length-1,C=be.length-1;1<=g&&0<=C&&le[g]!==be[C];)C--;for(;1<=g&&0<=C;g--,C--)if(le[g]!==be[C]){if(g!==1||C!==1)do if(g--,C--,0>C||le[g]!==be[C]){var Me=`
`+le[g].replace(" at new "," at ");return i.displayName&&Me.includes("<anonymous>")&&(Me=Me.replace("<anonymous>",i.displayName)),Me}while(1<=g&&0<=C);break}}}finally{Mt=!1,Error.prepareStackTrace=f}return(f=i?i.displayName||i.name:"")?ht(f):""}function vt(i,a){switch(i.tag){case 26:case 27:case 5:return ht(i.type);case 16:return ht("Lazy");case 13:return i.child!==a&&a!==null?ht("Suspense Fallback"):ht("Suspense");case 19:return ht("SuspenseList");case 0:case 15:return wn(i.type,!1);case 11:return wn(i.type.render,!1);case 1:return wn(i.type,!0);case 31:return ht("Activity");default:return""}}function mt(i){try{var a="",f=null;do a+=vt(i,f),f=i,i=i.return;while(i);return a}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}var Qe=Object.prototype.hasOwnProperty,Ot=t.unstable_scheduleCallback,je=t.unstable_cancelCallback,lt=t.unstable_shouldYield,rr=t.unstable_requestPaint,It=t.unstable_now,Ye=t.unstable_getCurrentPriorityLevel,Ve=t.unstable_ImmediatePriority,it=t.unstable_UserBlockingPriority,ct=t.unstable_NormalPriority,ot=t.unstable_LowPriority,bt=t.unstable_IdlePriority,Dt=t.log,er=t.unstable_setDisableYieldValue,wt=null,ke=null;function Xe(i){if(typeof Dt=="function"&&er(i),ke&&typeof ke.setStrictMode=="function")try{ke.setStrictMode(wt,i)}catch{}}var Je=Math.clz32?Math.clz32:zi,Pt=Math.log,Lr=Math.LN2;function zi(i){return i>>>=0,i===0?32:31-(Pt(i)/Lr|0)|0}var ai=256,Wt=262144,kt=4194304;function Nn(i){var a=i&42;if(a!==0)return a;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function li(i,a,f){var g=i.pendingLanes;if(g===0)return 0;var C=0,_=i.suspendedLanes,P=i.pingedLanes;i=i.warmLanes;var Q=g&134217727;return Q!==0?(g=Q&~_,g!==0?C=Nn(g):(P&=Q,P!==0?C=Nn(P):f||(f=Q&~i,f!==0&&(C=Nn(f))))):(Q=g&~_,Q!==0?C=Nn(Q):P!==0?C=Nn(P):f||(f=g&~i,f!==0&&(C=Nn(f)))),C===0?0:a!==0&&a!==C&&(a&_)===0&&(_=C&-C,f=a&-a,_>=f||_===32&&(f&4194048)!==0)?a:C}function $n(i,a){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&a)===0}function ci(i,a){switch(i){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pr(){var i=kt;return kt<<=1,(kt&62914560)===0&&(kt=4194304),i}function ui(i){for(var a=[],f=0;31>f;f++)a.push(i);return a}function ks(i,a){i.pendingLanes|=a,a!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Ji(i,a,f,g,C,_){var P=i.pendingLanes;i.pendingLanes=f,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=f,i.entangledLanes&=f,i.errorRecoveryDisabledLanes&=f,i.shellSuspendCounter=0;var Q=i.entanglements,le=i.expirationTimes,be=i.hiddenUpdates;for(f=P&~f;0<f;){var Me=31-Je(f),Le=1<<Me;Q[Me]=0,le[Me]=-1;var Ce=be[Me];if(Ce!==null)for(be[Me]=null,Me=0;Me<Ce.length;Me++){var Ie=Ce[Me];Ie!==null&&(Ie.lane&=-536870913)}f&=~Le}g!==0&&aa(i,g,0),_!==0&&C===0&&i.tag!==0&&(i.suspendedLanes|=_&~(P&~a))}function aa(i,a,f){i.pendingLanes|=a,i.suspendedLanes&=~a;var g=31-Je(a);i.entangledLanes|=a,i.entanglements[g]=i.entanglements[g]|1073741824|f&261930}function ps(i,a){var f=i.entangledLanes|=a;for(i=i.entanglements;f;){var g=31-Je(f),C=1<<g;C&a|i[g]&a&&(i[g]|=a),f&=~C}}function la(i,a){var f=a&-a;return f=(f&42)!==0?1:wr(f),(f&(i.suspendedLanes|a))!==0?0:f}function wr(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function fi(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function di(){var i=he.p;return i!==0?i:(i=window.event,i===void 0?32:mw(i.type))}function Ze(i,a){var f=he.p;try{return he.p=i,a()}finally{he.p=f}}var ti=Math.random().toString(36).slice(2),cr="__reactFiber$"+ti,An="__reactProps$"+ti,hi="__reactContainer$"+ti,oo="__reactEvents$"+ti,rl="__reactListeners$"+ti,ji="__reactHandles$"+ti,su="__reactResources$"+ti,Bs="__reactMarker$"+ti;function pi(i){delete i[cr],delete i[An],delete i[oo],delete i[rl],delete i[ji]}function tr(i){var a=i[cr];if(a)return a;for(var f=i.parentNode;f;){if(a=f[hi]||f[cr]){if(f=a.alternate,a.child!==null||f!==null&&f.child!==null)for(i=ew(i);i!==null;){if(f=i[cr])return f;i=ew(i)}return a}i=f,f=i.parentNode}return null}function tn(i){if(i=i[cr]||i[hi]){var a=i.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return i}return null}function Ti(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i.stateNode;throw Error(r(33))}function Qr(i){var a=i[su];return a||(a=i[su]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function ur(i){i[Bs]=!0}var Be=new Set,lc={};function _n(i,a){gi(i,a),gi(i+"Capture",a)}function gi(i,a){for(lc[i]=a,i=0;i<a.length;i++)Be.add(a[i])}var cc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),hn={},nn={};function Kt(i){return Qe.call(nn,i)?!0:Qe.call(hn,i)?!1:cc.test(i)?nn[i]=!0:(hn[i]=!0,!1)}function _o(i,a,f){if(Kt(a))if(f===null)i.removeAttribute(a);else{switch(typeof f){case"undefined":case"function":case"symbol":i.removeAttribute(a);return;case"boolean":var g=a.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){i.removeAttribute(a);return}}i.setAttribute(a,""+f)}}function mi(i,a,f){if(f===null)i.removeAttribute(a);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttribute(a,""+f)}}function fr(i,a,f,g){if(g===null)i.removeAttribute(f);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(f);return}i.setAttributeNS(a,f,""+g)}}function Jt(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function yi(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function uc(i,a,f){var g=Object.getOwnPropertyDescriptor(i.constructor.prototype,a);if(!i.hasOwnProperty(a)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var C=g.get,_=g.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return C.call(this)},set:function(P){f=""+P,_.call(this,P)}}),Object.defineProperty(i,a,{enumerable:g.enumerable}),{getValue:function(){return f},setValue:function(P){f=""+P},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function Rt(i){if(!i._valueTracker){var a=yi(i)?"checked":"value";i._valueTracker=uc(i,a,""+i[a])}}function Ii(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var f=a.getValue(),g="";return i&&(g=yi(i)?i.checked?"true":"false":i.value),i=g,i!==f?(a.setValue(i),!0):!1}function Us(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var es=/[\n"\\]/g;function Yt(i){return i.replace(es,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function xr(i,a,f,g,C,_,P,Q){i.name="",P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?i.type=P:i.removeAttribute("type"),a!=null?P==="number"?(a===0&&i.value===""||i.value!=a)&&(i.value=""+Jt(a)):i.value!==""+Jt(a)&&(i.value=""+Jt(a)):P!=="submit"&&P!=="reset"||i.removeAttribute("value"),a!=null?ne(i,P,Jt(a)):f!=null?ne(i,P,Jt(f)):g!=null&&i.removeAttribute("value"),C==null&&_!=null&&(i.defaultChecked=!!_),C!=null&&(i.checked=C&&typeof C!="function"&&typeof C!="symbol"),Q!=null&&typeof Q!="function"&&typeof Q!="symbol"&&typeof Q!="boolean"?i.name=""+Jt(Q):i.removeAttribute("name")}function Ee(i,a,f,g,C,_,P,Q){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(i.type=_),a!=null||f!=null){if(!(_!=="submit"&&_!=="reset"||a!=null)){Rt(i);return}f=f!=null?""+Jt(f):"",a=a!=null?""+Jt(a):f,Q||a===i.value||(i.value=a),i.defaultValue=a}g=g??C,g=typeof g!="function"&&typeof g!="symbol"&&!!g,i.checked=Q?i.checked:!!g,i.defaultChecked=!!g,P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"&&(i.name=P),Rt(i)}function ne(i,a,f){a==="number"&&Us(i.ownerDocument)===i||i.defaultValue===""+f||(i.defaultValue=""+f)}function pt(i,a,f,g){if(i=i.options,a){a={};for(var C=0;C<f.length;C++)a["$"+f[C]]=!0;for(f=0;f<i.length;f++)C=a.hasOwnProperty("$"+i[f].value),i[f].selected!==C&&(i[f].selected=C),C&&g&&(i[f].defaultSelected=!0)}else{for(f=""+Jt(f),a=null,C=0;C<i.length;C++){if(i[C].value===f){i[C].selected=!0,g&&(i[C].defaultSelected=!0);return}a!==null||i[C].disabled||(a=i[C])}a!==null&&(a.selected=!0)}}function Er(i,a,f){if(a!=null&&(a=""+Jt(a),a!==i.value&&(i.value=a),f==null)){i.defaultValue!==a&&(i.defaultValue=a);return}i.defaultValue=f!=null?""+Jt(f):""}function kr(i,a,f,g){if(a==null){if(g!=null){if(f!=null)throw Error(r(92));if(re(g)){if(1<g.length)throw Error(r(93));g=g[0]}f=g}f==null&&(f=""),a=f}f=Jt(a),i.defaultValue=f,g=i.textContent,g===f&&g!==""&&g!==null&&(i.value=g),Rt(i)}function Ri(i,a){if(a){var f=i.firstChild;if(f&&f===i.lastChild&&f.nodeType===3){f.nodeValue=a;return}}i.textContent=a}var il=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ni(i,a,f){var g=a.indexOf("--")===0;f==null||typeof f=="boolean"||f===""?g?i.setProperty(a,""):a==="float"?i.cssFloat="":i[a]="":g?i.setProperty(a,f):typeof f!="number"||f===0||il.has(a)?a==="float"?i.cssFloat=f:i[a]=(""+f).trim():i[a]=f+"px"}function Et(i,a,f){if(a!=null&&typeof a!="object")throw Error(r(62));if(i=i.style,f!=null){for(var g in f)!f.hasOwnProperty(g)||a!=null&&a.hasOwnProperty(g)||(g.indexOf("--")===0?i.setProperty(g,""):g==="float"?i.cssFloat="":i[g]="");for(var C in a)g=a[C],a.hasOwnProperty(C)&&f[C]!==g&&ni(i,C,g)}else for(var _ in a)a.hasOwnProperty(_)&&ni(i,_,a[_])}function Ln(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),To=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Io(i){return To.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Ni(){}var ca=null;function ts(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Kn=null,Mi=null;function Oi(i){var a=tn(i);if(a&&(i=a.stateNode)){var f=i[An]||null;e:switch(i=a.stateNode,a.type){case"input":if(xr(i,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name),a=f.name,f.type==="radio"&&a!=null){for(f=i;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll('input[name="'+Yt(""+a)+'"][type="radio"]'),a=0;a<f.length;a++){var g=f[a];if(g!==i&&g.form===i.form){var C=g[An]||null;if(!C)throw Error(r(90));xr(g,C.value,C.defaultValue,C.defaultValue,C.checked,C.defaultChecked,C.type,C.name)}}for(a=0;a<f.length;a++)g=f[a],g.form===i.form&&Ii(g)}break e;case"textarea":Er(i,f.value,f.defaultValue);break e;case"select":a=f.value,a!=null&&pt(i,!!f.multiple,a,!1)}}}var Ct=!1;function Ro(i,a,f){if(Ct)return i(a,f);Ct=!0;try{var g=i(a);return g}finally{if(Ct=!1,(Kn!==null||Mi!==null)&&(Tp(),Kn&&(a=Kn,i=Mi,Mi=Kn=null,Oi(a),i)))for(a=0;a<i.length;a++)Oi(i[a])}}function Tt(i,a){var f=i.stateNode;if(f===null)return null;var g=f[An]||null;if(g===null)return null;f=g[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(i=i.type,g=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!g;break e;default:i=!1}if(i)return null;if(f&&typeof f!="function")throw Error(r(231,a,typeof f));return f}var Pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ua=!1;if(Pn)try{var Tn={};Object.defineProperty(Tn,"passive",{get:function(){ua=!0}}),window.addEventListener("test",Tn,Tn),window.removeEventListener("test",Tn,Tn)}catch{ua=!1}var gs=null,ms=null,fa=null;function ao(){if(fa)return fa;var i,a=ms,f=a.length,g,C="value"in gs?gs.value:gs.textContent,_=C.length;for(i=0;i<f&&a[i]===C[i];i++);var P=f-i;for(g=1;g<=P&&a[f-g]===C[_-g];g++);return fa=C.slice(i,1<g?1-g:void 0)}function ys(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function Hi(){return!0}function ns(){return!1}function vr(i){function a(f,g,C,_,P){this._reactName=f,this._targetInst=C,this.type=g,this.nativeEvent=_,this.target=P,this.currentTarget=null;for(var Q in i)i.hasOwnProperty(Q)&&(f=i[Q],this[Q]=f?f(_):_[Q]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Hi:ns,this.isPropagationStopped=ns,this}return A(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=Hi)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=Hi)},persist:function(){},isPersistent:Hi}),a}var Gi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ir=vr(Gi),lo=A({},Gi,{view:0,detail:0}),sl=vr(lo),co,ol,Fs,al=A({},lo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zs,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Fs&&(Fs&&i.type==="mousemove"?(co=i.screenX-Fs.screenX,ol=i.screenY-Fs.screenY):ol=co=0,Fs=i),co)},movementY:function(i){return"movementY"in i?i.movementY:ol}}),Cn=vr(al),No=A({},al,{dataTransfer:0}),da=vr(No),xs=A({},lo,{relatedTarget:0}),ha=vr(xs),Se=A({},Gi,{animationName:0,elapsedTime:0,pseudoElement:0}),Ht=vr(Se),dr=A({},Gi,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),pa=vr(dr),dc=A({},Gi,{data:0}),Vs=vr(dc),ou={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},au={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ll={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hr(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=ll[i])?!!a[i]:!1}function zs(){return hr}var en=A({},lo,{key:function(i){if(i.key){var a=ou[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=ys(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?au[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zs,charCode:function(i){return i.type==="keypress"?ys(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?ys(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),ga=vr(en),js=A({},al,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rn=vr(js),v=A({},lo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zs}),R=vr(v),B=A({},Gi,{propertyName:0,elapsedTime:0,pseudoElement:0}),ee=vr(B),ye=A({},al,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),_e=vr(ye),qe=A({},Gi,{newState:0,oldState:0}),Ft=vr(qe),pr=[9,13,27,32],vn=Pn&&"CompositionEvent"in window,Qn=null;Pn&&"documentMode"in document&&(Qn=document.documentMode);var $i=Pn&&"TextEvent"in window&&!Qn,Hs=Pn&&(!vn||Qn&&8<Qn&&11>=Qn),ri=" ",qi=!1;function ma(i,a){switch(i){case"keyup":return pr.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gs(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var cl=!1;function Mo(i,a){switch(i){case"compositionend":return Gs(a);case"keypress":return a.which!==32?null:(qi=!0,ri);case"textInput":return i=a.data,i===ri&&qi?null:i;default:return null}}function lu(i,a){if(cl)return i==="compositionend"||!vn&&ma(i,a)?(i=ao(),fa=ms=gs=null,cl=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Hs&&a.locale!=="ko"?null:a.data;default:return null}}var rs={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pf(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!rs[i.type]:a==="textarea"}function Es(i,a,f,g){Kn?Mi?Mi.push(g):Mi=[g]:Kn=g,a=Lp(a,"onChange"),0<a.length&&(f=new ir("onChange","change",null,f,g),i.push({event:f,listeners:a}))}var hc=null,ya=null;function fg(i){Vb(i,0)}function pc(i){var a=Ti(i);if(Ii(a))return i}function vs(i,a){if(i==="change")return a}var $h=!1;if(Pn){var gc;if(Pn){var xa="oninput"in document;if(!xa){var pn=document.createElement("div");pn.setAttribute("oninput","return;"),xa=typeof pn.oninput=="function"}gc=xa}else gc=!1;$h=gc&&(!document.documentMode||9<document.documentMode)}function mc(){hc&&(hc.detachEvent("onpropertychange",G),ya=hc=null)}function G(i){if(i.propertyName==="value"&&pc(ya)){var a=[];Es(a,ya,i,ts(i)),Ro(fg,a)}}function s(i,a,f){i==="focusin"?(mc(),hc=a,ya=f,hc.attachEvent("onpropertychange",G)):i==="focusout"&&mc()}function c(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return pc(ya)}function u(i,a){if(i==="click")return pc(a)}function h(i,a){if(i==="input"||i==="change")return pc(a)}function p(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var y=typeof Object.is=="function"?Object.is:p;function b(i,a){if(y(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var f=Object.keys(i),g=Object.keys(a);if(f.length!==g.length)return!1;for(g=0;g<f.length;g++){var C=f[g];if(!Qe.call(a,C)||!y(i[C],a[C]))return!1}return!0}function S(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function T(i,a){var f=S(i);i=0;for(var g;f;){if(f.nodeType===3){if(g=i+f.textContent.length,i<=a&&g>=a)return{node:f,offset:a-i};i=g}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=S(f)}}function D(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?D(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function $(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var a=Us(i.document);a instanceof i.HTMLIFrameElement;){try{var f=typeof a.contentWindow.location.href=="string"}catch{f=!1}if(f)i=a.contentWindow;else break;a=Us(i.document)}return a}function X(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}var oe=Pn&&"documentMode"in document&&11>=document.documentMode,ce=null,fe=null,xe=null,Ae=!1;function $e(i,a,f){var g=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;Ae||ce==null||ce!==Us(g)||(g=ce,"selectionStart"in g&&X(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),xe&&b(xe,g)||(xe=g,g=Lp(fe,"onSelect"),0<g.length&&(a=new ir("onSelect","select",null,a,f),i.push({event:a,listeners:g}),a.target=ce)))}function He(i,a){var f={};return f[i.toLowerCase()]=a.toLowerCase(),f["Webkit"+i]="webkit"+a,f["Moz"+i]="moz"+a,f}var Fe={animationend:He("Animation","AnimationEnd"),animationiteration:He("Animation","AnimationIteration"),animationstart:He("Animation","AnimationStart"),transitionrun:He("Transition","TransitionRun"),transitionstart:He("Transition","TransitionStart"),transitioncancel:He("Transition","TransitionCancel"),transitionend:He("Transition","TransitionEnd")},Qt={},zt={};Pn&&(zt=document.createElement("div").style,"AnimationEvent"in window||(delete Fe.animationend.animation,delete Fe.animationiteration.animation,delete Fe.animationstart.animation),"TransitionEvent"in window||delete Fe.transitionend.transition);function Cr(i){if(Qt[i])return Qt[i];if(!Fe[i])return i;var a=Fe[i],f;for(f in a)if(a.hasOwnProperty(f)&&f in zt)return Qt[i]=a[f];return i}var is=Cr("animationend"),xi=Cr("animationiteration"),kn=Cr("animationstart"),Zr=Cr("transitionrun"),Wi=Cr("transitionstart"),ul=Cr("transitioncancel"),Ea=Cr("transitionend"),qh=new Map,kf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");kf.push("scrollEnd");function uo(i,a){qh.set(i,a),_n(a,[i])}var Wh=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},$s=[],cu=0,dg=0;function Yh(){for(var i=cu,a=dg=cu=0;a<i;){var f=$s[a];$s[a++]=null;var g=$s[a];$s[a++]=null;var C=$s[a];$s[a++]=null;var _=$s[a];if($s[a++]=null,g!==null&&C!==null){var P=g.pending;P===null?C.next=C:(C.next=P.next,P.next=C),g.pending=C}_!==0&&bE(f,C,_)}}function Xh(i,a,f,g){$s[cu++]=i,$s[cu++]=a,$s[cu++]=f,$s[cu++]=g,dg|=g,i.lanes|=g,i=i.alternate,i!==null&&(i.lanes|=g)}function hg(i,a,f,g){return Xh(i,a,f,g),Kh(i)}function yc(i,a){return Xh(i,null,null,a),Kh(i)}function bE(i,a,f){i.lanes|=f;var g=i.alternate;g!==null&&(g.lanes|=f);for(var C=!1,_=i.return;_!==null;)_.childLanes|=f,g=_.alternate,g!==null&&(g.childLanes|=f),_.tag===22&&(i=_.stateNode,i===null||i._visibility&1||(C=!0)),i=_,_=_.return;return i.tag===3?(_=i.stateNode,C&&a!==null&&(C=31-Je(f),i=_.hiddenUpdates,g=i[C],g===null?i[C]=[a]:g.push(a),a.lane=f|536870912),_):null}function Kh(i){if(50<id)throw id=0,wm=null,Error(r(185));for(var a=i.return;a!==null;)i=a,a=i.return;return i.tag===3?i.stateNode:null}var uu={};function P4(i,a,f,g){this.tag=i,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bs(i,a,f,g){return new P4(i,a,f,g)}function pg(i){return i=i.prototype,!(!i||!i.isReactComponent)}function va(i,a){var f=i.alternate;return f===null?(f=bs(i.tag,a,i.key,i.mode),f.elementType=i.elementType,f.type=i.type,f.stateNode=i.stateNode,f.alternate=i,i.alternate=f):(f.pendingProps=a,f.type=i.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=i.flags&65011712,f.childLanes=i.childLanes,f.lanes=i.lanes,f.child=i.child,f.memoizedProps=i.memoizedProps,f.memoizedState=i.memoizedState,f.updateQueue=i.updateQueue,a=i.dependencies,f.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},f.sibling=i.sibling,f.index=i.index,f.ref=i.ref,f.refCleanup=i.refCleanup,f}function wE(i,a){i.flags&=65011714;var f=i.alternate;return f===null?(i.childLanes=0,i.lanes=a,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=f.childLanes,i.lanes=f.lanes,i.child=f.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=f.memoizedProps,i.memoizedState=f.memoizedState,i.updateQueue=f.updateQueue,i.type=f.type,a=f.dependencies,i.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),i}function Qh(i,a,f,g,C,_){var P=0;if(g=i,typeof i=="function")pg(i)&&(P=1);else if(typeof i=="string")P=VN(i,f,Re.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case F:return i=bs(31,f,a,C),i.elementType=F,i.lanes=_,i;case k:return xc(f.children,C,_,a);case V:P=8,C|=24;break;case K:return i=bs(12,f,a,C|2),i.elementType=K,i.lanes=_,i;case te:return i=bs(13,f,a,C),i.elementType=te,i.lanes=_,i;case se:return i=bs(19,f,a,C),i.elementType=se,i.lanes=_,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case H:P=10;break e;case Z:P=9;break e;case W:P=11;break e;case z:P=14;break e;case j:P=16,g=null;break e}P=29,f=Error(r(130,i===null?"null":typeof i,"")),g=null}return a=bs(P,f,a,C),a.elementType=i,a.type=g,a.lanes=_,a}function xc(i,a,f,g){return i=bs(7,i,g,a),i.lanes=f,i}function gg(i,a,f){return i=bs(6,i,null,a),i.lanes=f,i}function CE(i){var a=bs(18,null,null,0);return a.stateNode=i,a}function mg(i,a,f){return a=bs(4,i.children!==null?i.children:[],i.key,a),a.lanes=f,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}var SE=new WeakMap;function qs(i,a){if(typeof i=="object"&&i!==null){var f=SE.get(i);return f!==void 0?f:(a={value:i,source:a,stack:mt(a)},SE.set(i,a),a)}return{value:i,source:a,stack:mt(a)}}var fu=[],du=0,Zh=null,Bf=0,Ws=[],Ys=0,fl=null,Oo=1,Do="";function ba(i,a){fu[du++]=Bf,fu[du++]=Zh,Zh=i,Bf=a}function AE(i,a,f){Ws[Ys++]=Oo,Ws[Ys++]=Do,Ws[Ys++]=fl,fl=i;var g=Oo;i=Do;var C=32-Je(g)-1;g&=~(1<<C),f+=1;var _=32-Je(a)+C;if(30<_){var P=C-C%5;_=(g&(1<<P)-1).toString(32),g>>=P,C-=P,Oo=1<<32-Je(a)+C|f<<C|g,Do=_+i}else Oo=1<<_|f<<C|g,Do=i}function yg(i){i.return!==null&&(ba(i,1),AE(i,1,0))}function xg(i){for(;i===Zh;)Zh=fu[--du],fu[du]=null,Bf=fu[--du],fu[du]=null;for(;i===fl;)fl=Ws[--Ys],Ws[Ys]=null,Do=Ws[--Ys],Ws[Ys]=null,Oo=Ws[--Ys],Ws[Ys]=null}function _E(i,a){Ws[Ys++]=Oo,Ws[Ys++]=Do,Ws[Ys++]=fl,Oo=a.id,Do=a.overflow,fl=i}var Ei=null,sr=null,bn=!1,dl=null,Xs=!1,Eg=Error(r(519));function hl(i){var a=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Uf(qs(a,i)),Eg}function TE(i){var a=i.stateNode,f=i.type,g=i.memoizedProps;switch(a[cr]=i,a[An]=g,f){case"dialog":on("cancel",a),on("close",a);break;case"iframe":case"object":case"embed":on("load",a);break;case"video":case"audio":for(f=0;f<od.length;f++)on(od[f],a);break;case"source":on("error",a);break;case"img":case"image":case"link":on("error",a),on("load",a);break;case"details":on("toggle",a);break;case"input":on("invalid",a),Ee(a,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0);break;case"select":on("invalid",a);break;case"textarea":on("invalid",a),kr(a,g.value,g.defaultValue,g.children)}f=g.children,typeof f!="string"&&typeof f!="number"&&typeof f!="bigint"||a.textContent===""+f||g.suppressHydrationWarning===!0||Gb(a.textContent,f)?(g.popover!=null&&(on("beforetoggle",a),on("toggle",a)),g.onScroll!=null&&on("scroll",a),g.onScrollEnd!=null&&on("scrollend",a),g.onClick!=null&&(a.onclick=Ni),a=!0):a=!1,a||hl(i,!0)}function IE(i){for(Ei=i.return;Ei;)switch(Ei.tag){case 5:case 31:case 13:Xs=!1;return;case 27:case 3:Xs=!0;return;default:Ei=Ei.return}}function hu(i){if(i!==Ei)return!1;if(!bn)return IE(i),bn=!0,!1;var a=i.tag,f;if((f=a!==3&&a!==27)&&((f=a===5)&&(f=i.type,f=!(f!=="form"&&f!=="button")||Bm(i.type,i.memoizedProps)),f=!f),f&&sr&&hl(i),IE(i),a===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));sr=Jb(i)}else if(a===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));sr=Jb(i)}else a===27?(a=sr,Tl(i.type)?(i=jm,jm=null,sr=i):sr=a):sr=Ei?Qs(i.stateNode.nextSibling):null;return!0}function Ec(){sr=Ei=null,bn=!1}function vg(){var i=dl;return i!==null&&(ls===null?ls=i:ls.push.apply(ls,i),dl=null),i}function Uf(i){dl===null?dl=[i]:dl.push(i)}var bg=ae(null),vc=null,wa=null;function pl(i,a,f){me(bg,a._currentValue),a._currentValue=f}function Ca(i){i._currentValue=bg.current,ge(bg)}function wg(i,a,f){for(;i!==null;){var g=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,g!==null&&(g.childLanes|=a)):g!==null&&(g.childLanes&a)!==a&&(g.childLanes|=a),i===f)break;i=i.return}}function Cg(i,a,f,g){var C=i.child;for(C!==null&&(C.return=i);C!==null;){var _=C.dependencies;if(_!==null){var P=C.child;_=_.firstContext;e:for(;_!==null;){var Q=_;_=C;for(var le=0;le<a.length;le++)if(Q.context===a[le]){_.lanes|=f,Q=_.alternate,Q!==null&&(Q.lanes|=f),wg(_.return,f,i),g||(P=null);break e}_=Q.next}}else if(C.tag===18){if(P=C.return,P===null)throw Error(r(341));P.lanes|=f,_=P.alternate,_!==null&&(_.lanes|=f),wg(P,f,i),P=null}else P=C.child;if(P!==null)P.return=C;else for(P=C;P!==null;){if(P===i){P=null;break}if(C=P.sibling,C!==null){C.return=P.return,P=C;break}P=P.return}C=P}}function pu(i,a,f,g){i=null;for(var C=a,_=!1;C!==null;){if(!_){if((C.flags&524288)!==0)_=!0;else if((C.flags&262144)!==0)break}if(C.tag===10){var P=C.alternate;if(P===null)throw Error(r(387));if(P=P.memoizedProps,P!==null){var Q=C.type;y(C.pendingProps.value,P.value)||(i!==null?i.push(Q):i=[Q])}}else if(C===Ke.current){if(P=C.alternate,P===null)throw Error(r(387));P.memoizedState.memoizedState!==C.memoizedState.memoizedState&&(i!==null?i.push(fd):i=[fd])}C=C.return}i!==null&&Cg(a,i,f,g),a.flags|=262144}function Jh(i){for(i=i.firstContext;i!==null;){if(!y(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function bc(i){vc=i,wa=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function vi(i){return RE(vc,i)}function ep(i,a){return vc===null&&bc(i),RE(i,a)}function RE(i,a){var f=a._currentValue;if(a={context:a,memoizedValue:f,next:null},wa===null){if(i===null)throw Error(r(308));wa=a,i.dependencies={lanes:0,firstContext:a},i.flags|=524288}else wa=wa.next=a;return f}var k4=typeof AbortController<"u"?AbortController:function(){var i=[],a=this.signal={aborted:!1,addEventListener:function(f,g){i.push(g)}};this.abort=function(){a.aborted=!0,i.forEach(function(f){return f()})}},B4=t.unstable_scheduleCallback,U4=t.unstable_NormalPriority,Hr={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Sg(){return{controller:new k4,data:new Map,refCount:0}}function Ff(i){i.refCount--,i.refCount===0&&B4(U4,function(){i.controller.abort()})}var Vf=null,Ag=0,gu=0,mu=null;function F4(i,a){if(Vf===null){var f=Vf=[];Ag=0,gu=Im(),mu={status:"pending",value:void 0,then:function(g){f.push(g)}}}return Ag++,a.then(NE,NE),a}function NE(){if(--Ag===0&&Vf!==null){mu!==null&&(mu.status="fulfilled");var i=Vf;Vf=null,gu=0,mu=null;for(var a=0;a<i.length;a++)(0,i[a])()}}function V4(i,a){var f=[],g={status:"pending",value:null,reason:null,then:function(C){f.push(C)}};return i.then(function(){g.status="fulfilled",g.value=a;for(var C=0;C<f.length;C++)(0,f[C])(a)},function(C){for(g.status="rejected",g.reason=C,C=0;C<f.length;C++)(0,f[C])(void 0)}),g}var ME=ie.S;ie.S=function(i,a){pb=It(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&F4(i,a),ME!==null&&ME(i,a)};var wc=ae(null);function _g(){var i=wc.current;return i!==null?i:Zn.pooledCache}function tp(i,a){a===null?me(wc,wc.current):me(wc,a.pool)}function OE(){var i=_g();return i===null?null:{parent:Hr._currentValue,pool:i}}var yu=Error(r(460)),Tg=Error(r(474)),np=Error(r(542)),rp={then:function(){}};function DE(i){return i=i.status,i==="fulfilled"||i==="rejected"}function LE(i,a,f){switch(f=i[f],f===void 0?i.push(a):f!==a&&(a.then(Ni,Ni),a=f),a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,kE(i),i;default:if(typeof a.status=="string")a.then(Ni,Ni);else{if(i=Zn,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=a,i.status="pending",i.then(function(g){if(a.status==="pending"){var C=a;C.status="fulfilled",C.value=g}},function(g){if(a.status==="pending"){var C=a;C.status="rejected",C.reason=g}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,kE(i),i}throw Sc=a,yu}}function Cc(i){try{var a=i._init;return a(i._payload)}catch(f){throw f!==null&&typeof f=="object"&&typeof f.then=="function"?(Sc=f,yu):f}}var Sc=null;function PE(){if(Sc===null)throw Error(r(459));var i=Sc;return Sc=null,i}function kE(i){if(i===yu||i===np)throw Error(r(483))}var xu=null,zf=0;function ip(i){var a=zf;return zf+=1,xu===null&&(xu=[]),LE(xu,i,a)}function jf(i,a){a=a.props.ref,i.ref=a!==void 0?a:null}function sp(i,a){throw a.$$typeof===I?Error(r(525)):(i=Object.prototype.toString.call(a),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i)))}function BE(i){function a(pe,de){if(i){var ve=pe.deletions;ve===null?(pe.deletions=[de],pe.flags|=16):ve.push(de)}}function f(pe,de){if(!i)return null;for(;de!==null;)a(pe,de),de=de.sibling;return null}function g(pe){for(var de=new Map;pe!==null;)pe.key!==null?de.set(pe.key,pe):de.set(pe.index,pe),pe=pe.sibling;return de}function C(pe,de){return pe=va(pe,de),pe.index=0,pe.sibling=null,pe}function _(pe,de,ve){return pe.index=ve,i?(ve=pe.alternate,ve!==null?(ve=ve.index,ve<de?(pe.flags|=67108866,de):ve):(pe.flags|=67108866,de)):(pe.flags|=1048576,de)}function P(pe){return i&&pe.alternate===null&&(pe.flags|=67108866),pe}function Q(pe,de,ve,De){return de===null||de.tag!==6?(de=gg(ve,pe.mode,De),de.return=pe,de):(de=C(de,ve),de.return=pe,de)}function le(pe,de,ve,De){var At=ve.type;return At===k?Me(pe,de,ve.props.children,De,ve.key):de!==null&&(de.elementType===At||typeof At=="object"&&At!==null&&At.$$typeof===j&&Cc(At)===de.type)?(de=C(de,ve.props),jf(de,ve),de.return=pe,de):(de=Qh(ve.type,ve.key,ve.props,null,pe.mode,De),jf(de,ve),de.return=pe,de)}function be(pe,de,ve,De){return de===null||de.tag!==4||de.stateNode.containerInfo!==ve.containerInfo||de.stateNode.implementation!==ve.implementation?(de=mg(ve,pe.mode,De),de.return=pe,de):(de=C(de,ve.children||[]),de.return=pe,de)}function Me(pe,de,ve,De,At){return de===null||de.tag!==7?(de=xc(ve,pe.mode,De,At),de.return=pe,de):(de=C(de,ve),de.return=pe,de)}function Le(pe,de,ve){if(typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint")return de=gg(""+de,pe.mode,ve),de.return=pe,de;if(typeof de=="object"&&de!==null){switch(de.$$typeof){case N:return ve=Qh(de.type,de.key,de.props,null,pe.mode,ve),jf(ve,de),ve.return=pe,ve;case M:return de=mg(de,pe.mode,ve),de.return=pe,de;case j:return de=Cc(de),Le(pe,de,ve)}if(re(de)||O(de))return de=xc(de,pe.mode,ve,null),de.return=pe,de;if(typeof de.then=="function")return Le(pe,ip(de),ve);if(de.$$typeof===H)return Le(pe,ep(pe,de),ve);sp(pe,de)}return null}function Ce(pe,de,ve,De){var At=de!==null?de.key:null;if(typeof ve=="string"&&ve!==""||typeof ve=="number"||typeof ve=="bigint")return At!==null?null:Q(pe,de,""+ve,De);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case N:return ve.key===At?le(pe,de,ve,De):null;case M:return ve.key===At?be(pe,de,ve,De):null;case j:return ve=Cc(ve),Ce(pe,de,ve,De)}if(re(ve)||O(ve))return At!==null?null:Me(pe,de,ve,De,null);if(typeof ve.then=="function")return Ce(pe,de,ip(ve),De);if(ve.$$typeof===H)return Ce(pe,de,ep(pe,ve),De);sp(pe,ve)}return null}function Ie(pe,de,ve,De,At){if(typeof De=="string"&&De!==""||typeof De=="number"||typeof De=="bigint")return pe=pe.get(ve)||null,Q(de,pe,""+De,At);if(typeof De=="object"&&De!==null){switch(De.$$typeof){case N:return pe=pe.get(De.key===null?ve:De.key)||null,le(de,pe,De,At);case M:return pe=pe.get(De.key===null?ve:De.key)||null,be(de,pe,De,At);case j:return De=Cc(De),Ie(pe,de,ve,De,At)}if(re(De)||O(De))return pe=pe.get(ve)||null,Me(de,pe,De,At,null);if(typeof De.then=="function")return Ie(pe,de,ve,ip(De),At);if(De.$$typeof===H)return Ie(pe,de,ve,ep(de,De),At);sp(de,De)}return null}function gt(pe,de,ve,De){for(var At=null,In=null,yt=de,Xt=de=0,mn=null;yt!==null&&Xt<ve.length;Xt++){yt.index>Xt?(mn=yt,yt=null):mn=yt.sibling;var Rn=Ce(pe,yt,ve[Xt],De);if(Rn===null){yt===null&&(yt=mn);break}i&&yt&&Rn.alternate===null&&a(pe,yt),de=_(Rn,de,Xt),In===null?At=Rn:In.sibling=Rn,In=Rn,yt=mn}if(Xt===ve.length)return f(pe,yt),bn&&ba(pe,Xt),At;if(yt===null){for(;Xt<ve.length;Xt++)yt=Le(pe,ve[Xt],De),yt!==null&&(de=_(yt,de,Xt),In===null?At=yt:In.sibling=yt,In=yt);return bn&&ba(pe,Xt),At}for(yt=g(yt);Xt<ve.length;Xt++)mn=Ie(yt,pe,Xt,ve[Xt],De),mn!==null&&(i&&mn.alternate!==null&&yt.delete(mn.key===null?Xt:mn.key),de=_(mn,de,Xt),In===null?At=mn:In.sibling=mn,In=mn);return i&&yt.forEach(function(Ol){return a(pe,Ol)}),bn&&ba(pe,Xt),At}function Nt(pe,de,ve,De){if(ve==null)throw Error(r(151));for(var At=null,In=null,yt=de,Xt=de=0,mn=null,Rn=ve.next();yt!==null&&!Rn.done;Xt++,Rn=ve.next()){yt.index>Xt?(mn=yt,yt=null):mn=yt.sibling;var Ol=Ce(pe,yt,Rn.value,De);if(Ol===null){yt===null&&(yt=mn);break}i&&yt&&Ol.alternate===null&&a(pe,yt),de=_(Ol,de,Xt),In===null?At=Ol:In.sibling=Ol,In=Ol,yt=mn}if(Rn.done)return f(pe,yt),bn&&ba(pe,Xt),At;if(yt===null){for(;!Rn.done;Xt++,Rn=ve.next())Rn=Le(pe,Rn.value,De),Rn!==null&&(de=_(Rn,de,Xt),In===null?At=Rn:In.sibling=Rn,In=Rn);return bn&&ba(pe,Xt),At}for(yt=g(yt);!Rn.done;Xt++,Rn=ve.next())Rn=Ie(yt,pe,Xt,Rn.value,De),Rn!==null&&(i&&Rn.alternate!==null&&yt.delete(Rn.key===null?Xt:Rn.key),de=_(Rn,de,Xt),In===null?At=Rn:In.sibling=Rn,In=Rn);return i&&yt.forEach(function(QN){return a(pe,QN)}),bn&&ba(pe,Xt),At}function Yn(pe,de,ve,De){if(typeof ve=="object"&&ve!==null&&ve.type===k&&ve.key===null&&(ve=ve.props.children),typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case N:e:{for(var At=ve.key;de!==null;){if(de.key===At){if(At=ve.type,At===k){if(de.tag===7){f(pe,de.sibling),De=C(de,ve.props.children),De.return=pe,pe=De;break e}}else if(de.elementType===At||typeof At=="object"&&At!==null&&At.$$typeof===j&&Cc(At)===de.type){f(pe,de.sibling),De=C(de,ve.props),jf(De,ve),De.return=pe,pe=De;break e}f(pe,de);break}else a(pe,de);de=de.sibling}ve.type===k?(De=xc(ve.props.children,pe.mode,De,ve.key),De.return=pe,pe=De):(De=Qh(ve.type,ve.key,ve.props,null,pe.mode,De),jf(De,ve),De.return=pe,pe=De)}return P(pe);case M:e:{for(At=ve.key;de!==null;){if(de.key===At)if(de.tag===4&&de.stateNode.containerInfo===ve.containerInfo&&de.stateNode.implementation===ve.implementation){f(pe,de.sibling),De=C(de,ve.children||[]),De.return=pe,pe=De;break e}else{f(pe,de);break}else a(pe,de);de=de.sibling}De=mg(ve,pe.mode,De),De.return=pe,pe=De}return P(pe);case j:return ve=Cc(ve),Yn(pe,de,ve,De)}if(re(ve))return gt(pe,de,ve,De);if(O(ve)){if(At=O(ve),typeof At!="function")throw Error(r(150));return ve=At.call(ve),Nt(pe,de,ve,De)}if(typeof ve.then=="function")return Yn(pe,de,ip(ve),De);if(ve.$$typeof===H)return Yn(pe,de,ep(pe,ve),De);sp(pe,ve)}return typeof ve=="string"&&ve!==""||typeof ve=="number"||typeof ve=="bigint"?(ve=""+ve,de!==null&&de.tag===6?(f(pe,de.sibling),De=C(de,ve),De.return=pe,pe=De):(f(pe,de),De=gg(ve,pe.mode,De),De.return=pe,pe=De),P(pe)):f(pe,de)}return function(pe,de,ve,De){try{zf=0;var At=Yn(pe,de,ve,De);return xu=null,At}catch(yt){if(yt===yu||yt===np)throw yt;var In=bs(29,yt,null,pe.mode);return In.lanes=De,In.return=pe,In}finally{}}}var Ac=BE(!0),UE=BE(!1),gl=!1;function Ig(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Rg(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function ml(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function yl(i,a,f){var g=i.updateQueue;if(g===null)return null;if(g=g.shared,(Mn&2)!==0){var C=g.pending;return C===null?a.next=a:(a.next=C.next,C.next=a),g.pending=a,a=Kh(i),bE(i,null,f),a}return Xh(i,g,a,f),Kh(i)}function Hf(i,a,f){if(a=a.updateQueue,a!==null&&(a=a.shared,(f&4194048)!==0)){var g=a.lanes;g&=i.pendingLanes,f|=g,a.lanes=f,ps(i,f)}}function Ng(i,a){var f=i.updateQueue,g=i.alternate;if(g!==null&&(g=g.updateQueue,f===g)){var C=null,_=null;if(f=f.firstBaseUpdate,f!==null){do{var P={lane:f.lane,tag:f.tag,payload:f.payload,callback:null,next:null};_===null?C=_=P:_=_.next=P,f=f.next}while(f!==null);_===null?C=_=a:_=_.next=a}else C=_=a;f={baseState:g.baseState,firstBaseUpdate:C,lastBaseUpdate:_,shared:g.shared,callbacks:g.callbacks},i.updateQueue=f;return}i=f.lastBaseUpdate,i===null?f.firstBaseUpdate=a:i.next=a,f.lastBaseUpdate=a}var Mg=!1;function Gf(){if(Mg){var i=mu;if(i!==null)throw i}}function $f(i,a,f,g){Mg=!1;var C=i.updateQueue;gl=!1;var _=C.firstBaseUpdate,P=C.lastBaseUpdate,Q=C.shared.pending;if(Q!==null){C.shared.pending=null;var le=Q,be=le.next;le.next=null,P===null?_=be:P.next=be,P=le;var Me=i.alternate;Me!==null&&(Me=Me.updateQueue,Q=Me.lastBaseUpdate,Q!==P&&(Q===null?Me.firstBaseUpdate=be:Q.next=be,Me.lastBaseUpdate=le))}if(_!==null){var Le=C.baseState;P=0,Me=be=le=null,Q=_;do{var Ce=Q.lane&-536870913,Ie=Ce!==Q.lane;if(Ie?(gn&Ce)===Ce:(g&Ce)===Ce){Ce!==0&&Ce===gu&&(Mg=!0),Me!==null&&(Me=Me.next={lane:0,tag:Q.tag,payload:Q.payload,callback:null,next:null});e:{var gt=i,Nt=Q;Ce=a;var Yn=f;switch(Nt.tag){case 1:if(gt=Nt.payload,typeof gt=="function"){Le=gt.call(Yn,Le,Ce);break e}Le=gt;break e;case 3:gt.flags=gt.flags&-65537|128;case 0:if(gt=Nt.payload,Ce=typeof gt=="function"?gt.call(Yn,Le,Ce):gt,Ce==null)break e;Le=A({},Le,Ce);break e;case 2:gl=!0}}Ce=Q.callback,Ce!==null&&(i.flags|=64,Ie&&(i.flags|=8192),Ie=C.callbacks,Ie===null?C.callbacks=[Ce]:Ie.push(Ce))}else Ie={lane:Ce,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null},Me===null?(be=Me=Ie,le=Le):Me=Me.next=Ie,P|=Ce;if(Q=Q.next,Q===null){if(Q=C.shared.pending,Q===null)break;Ie=Q,Q=Ie.next,Ie.next=null,C.lastBaseUpdate=Ie,C.shared.pending=null}}while(!0);Me===null&&(le=Le),C.baseState=le,C.firstBaseUpdate=be,C.lastBaseUpdate=Me,_===null&&(C.shared.lanes=0),wl|=P,i.lanes=P,i.memoizedState=Le}}function FE(i,a){if(typeof i!="function")throw Error(r(191,i));i.call(a)}function VE(i,a){var f=i.callbacks;if(f!==null)for(i.callbacks=null,i=0;i<f.length;i++)FE(f[i],a)}var Eu=ae(null),op=ae(0);function zE(i,a){i=Oa,me(op,i),me(Eu,a),Oa=i|a.baseLanes}function Og(){me(op,Oa),me(Eu,Eu.current)}function Dg(){Oa=op.current,ge(Eu),ge(op)}var ws=ae(null),Ks=null;function xl(i){var a=i.alternate;me(Br,Br.current&1),me(ws,i),Ks===null&&(a===null||Eu.current!==null||a.memoizedState!==null)&&(Ks=i)}function Lg(i){me(Br,Br.current),me(ws,i),Ks===null&&(Ks=i)}function jE(i){i.tag===22?(me(Br,Br.current),me(ws,i),Ks===null&&(Ks=i)):El()}function El(){me(Br,Br.current),me(ws,ws.current)}function Cs(i){ge(ws),Ks===i&&(Ks=null),ge(Br)}var Br=ae(0);function ap(i){for(var a=i;a!==null;){if(a.tag===13){var f=a.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||Vm(f)||zm(f)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Sa=0,qt=null,qn=null,Gr=null,lp=!1,vu=!1,_c=!1,cp=0,qf=0,bu=null,z4=0;function Sr(){throw Error(r(321))}function Pg(i,a){if(a===null)return!1;for(var f=0;f<a.length&&f<i.length;f++)if(!y(i[f],a[f]))return!1;return!0}function kg(i,a,f,g,C,_){return Sa=_,qt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,ie.H=i===null||i.memoizedState===null?Av:Qg,_c=!1,_=f(g,C),_c=!1,vu&&(_=GE(a,f,g,C)),HE(i),_}function HE(i){ie.H=Xf;var a=qn!==null&&qn.next!==null;if(Sa=0,Gr=qn=qt=null,lp=!1,qf=0,bu=null,a)throw Error(r(300));i===null||$r||(i=i.dependencies,i!==null&&Jh(i)&&($r=!0))}function GE(i,a,f,g){qt=i;var C=0;do{if(vu&&(bu=null),qf=0,vu=!1,25<=C)throw Error(r(301));if(C+=1,Gr=qn=null,i.updateQueue!=null){var _=i.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}ie.H=_v,_=a(f,g)}while(vu);return _}function j4(){var i=ie.H,a=i.useState()[0];return a=typeof a.then=="function"?Wf(a):a,i=i.useState()[0],(qn!==null?qn.memoizedState:null)!==i&&(qt.flags|=1024),a}function Bg(){var i=cp!==0;return cp=0,i}function Ug(i,a,f){a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~f}function Fg(i){if(lp){for(i=i.memoizedState;i!==null;){var a=i.queue;a!==null&&(a.pending=null),i=i.next}lp=!1}Sa=0,Gr=qn=qt=null,vu=!1,qf=cp=0,bu=null}function Yi(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gr===null?qt.memoizedState=Gr=i:Gr=Gr.next=i,Gr}function Ur(){if(qn===null){var i=qt.alternate;i=i!==null?i.memoizedState:null}else i=qn.next;var a=Gr===null?qt.memoizedState:Gr.next;if(a!==null)Gr=a,qn=i;else{if(i===null)throw qt.alternate===null?Error(r(467)):Error(r(310));qn=i,i={memoizedState:qn.memoizedState,baseState:qn.baseState,baseQueue:qn.baseQueue,queue:qn.queue,next:null},Gr===null?qt.memoizedState=Gr=i:Gr=Gr.next=i}return Gr}function up(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Wf(i){var a=qf;return qf+=1,bu===null&&(bu=[]),i=LE(bu,i,a),a=qt,(Gr===null?a.memoizedState:Gr.next)===null&&(a=a.alternate,ie.H=a===null||a.memoizedState===null?Av:Qg),i}function fp(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Wf(i);if(i.$$typeof===H)return vi(i)}throw Error(r(438,String(i)))}function Vg(i){var a=null,f=qt.updateQueue;if(f!==null&&(a=f.memoCache),a==null){var g=qt.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(a={data:g.data.map(function(C){return C.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),f===null&&(f=up(),qt.updateQueue=f),f.memoCache=a,f=a.data[a.index],f===void 0)for(f=a.data[a.index]=Array(i),g=0;g<i;g++)f[g]=J;return a.index++,f}function Aa(i,a){return typeof a=="function"?a(i):a}function dp(i){var a=Ur();return zg(a,qn,i)}function zg(i,a,f){var g=i.queue;if(g===null)throw Error(r(311));g.lastRenderedReducer=f;var C=i.baseQueue,_=g.pending;if(_!==null){if(C!==null){var P=C.next;C.next=_.next,_.next=P}a.baseQueue=C=_,g.pending=null}if(_=i.baseState,C===null)i.memoizedState=_;else{a=C.next;var Q=P=null,le=null,be=a,Me=!1;do{var Le=be.lane&-536870913;if(Le!==be.lane?(gn&Le)===Le:(Sa&Le)===Le){var Ce=be.revertLane;if(Ce===0)le!==null&&(le=le.next={lane:0,revertLane:0,gesture:null,action:be.action,hasEagerState:be.hasEagerState,eagerState:be.eagerState,next:null}),Le===gu&&(Me=!0);else if((Sa&Ce)===Ce){be=be.next,Ce===gu&&(Me=!0);continue}else Le={lane:0,revertLane:be.revertLane,gesture:null,action:be.action,hasEagerState:be.hasEagerState,eagerState:be.eagerState,next:null},le===null?(Q=le=Le,P=_):le=le.next=Le,qt.lanes|=Ce,wl|=Ce;Le=be.action,_c&&f(_,Le),_=be.hasEagerState?be.eagerState:f(_,Le)}else Ce={lane:Le,revertLane:be.revertLane,gesture:be.gesture,action:be.action,hasEagerState:be.hasEagerState,eagerState:be.eagerState,next:null},le===null?(Q=le=Ce,P=_):le=le.next=Ce,qt.lanes|=Le,wl|=Le;be=be.next}while(be!==null&&be!==a);if(le===null?P=_:le.next=Q,!y(_,i.memoizedState)&&($r=!0,Me&&(f=mu,f!==null)))throw f;i.memoizedState=_,i.baseState=P,i.baseQueue=le,g.lastRenderedState=_}return C===null&&(g.lanes=0),[i.memoizedState,g.dispatch]}function jg(i){var a=Ur(),f=a.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=i;var g=f.dispatch,C=f.pending,_=a.memoizedState;if(C!==null){f.pending=null;var P=C=C.next;do _=i(_,P.action),P=P.next;while(P!==C);y(_,a.memoizedState)||($r=!0),a.memoizedState=_,a.baseQueue===null&&(a.baseState=_),f.lastRenderedState=_}return[_,g]}function $E(i,a,f){var g=qt,C=Ur(),_=bn;if(_){if(f===void 0)throw Error(r(407));f=f()}else f=a();var P=!y((qn||C).memoizedState,f);if(P&&(C.memoizedState=f,$r=!0),C=C.queue,$g(YE.bind(null,g,C,i),[i]),C.getSnapshot!==a||P||Gr!==null&&Gr.memoizedState.tag&1){if(g.flags|=2048,wu(9,{destroy:void 0},WE.bind(null,g,C,f,a),null),Zn===null)throw Error(r(349));_||(Sa&127)!==0||qE(g,a,f)}return f}function qE(i,a,f){i.flags|=16384,i={getSnapshot:a,value:f},a=qt.updateQueue,a===null?(a=up(),qt.updateQueue=a,a.stores=[i]):(f=a.stores,f===null?a.stores=[i]:f.push(i))}function WE(i,a,f,g){a.value=f,a.getSnapshot=g,XE(a)&&KE(i)}function YE(i,a,f){return f(function(){XE(a)&&KE(i)})}function XE(i){var a=i.getSnapshot;i=i.value;try{var f=a();return!y(i,f)}catch{return!0}}function KE(i){var a=yc(i,2);a!==null&&cs(a,i,2)}function Hg(i){var a=Yi();if(typeof i=="function"){var f=i;if(i=f(),_c){Xe(!0);try{f()}finally{Xe(!1)}}}return a.memoizedState=a.baseState=i,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Aa,lastRenderedState:i},a}function QE(i,a,f,g){return i.baseState=f,zg(i,qn,typeof g=="function"?g:Aa)}function H4(i,a,f,g,C){if(gp(i))throw Error(r(485));if(i=a.action,i!==null){var _={payload:C,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(P){_.listeners.push(P)}};ie.T!==null?f(!0):_.isTransition=!1,g(_),f=a.pending,f===null?(_.next=a.pending=_,ZE(a,_)):(_.next=f.next,a.pending=f.next=_)}}function ZE(i,a){var f=a.action,g=a.payload,C=i.state;if(a.isTransition){var _=ie.T,P={};ie.T=P;try{var Q=f(C,g),le=ie.S;le!==null&&le(P,Q),JE(i,a,Q)}catch(be){Gg(i,a,be)}finally{_!==null&&P.types!==null&&(_.types=P.types),ie.T=_}}else try{_=f(C,g),JE(i,a,_)}catch(be){Gg(i,a,be)}}function JE(i,a,f){f!==null&&typeof f=="object"&&typeof f.then=="function"?f.then(function(g){ev(i,a,g)},function(g){return Gg(i,a,g)}):ev(i,a,f)}function ev(i,a,f){a.status="fulfilled",a.value=f,tv(a),i.state=f,a=i.pending,a!==null&&(f=a.next,f===a?i.pending=null:(f=f.next,a.next=f,ZE(i,f)))}function Gg(i,a,f){var g=i.pending;if(i.pending=null,g!==null){g=g.next;do a.status="rejected",a.reason=f,tv(a),a=a.next;while(a!==g)}i.action=null}function tv(i){i=i.listeners;for(var a=0;a<i.length;a++)(0,i[a])()}function nv(i,a){return a}function rv(i,a){if(bn){var f=Zn.formState;if(f!==null){e:{var g=qt;if(bn){if(sr){t:{for(var C=sr,_=Xs;C.nodeType!==8;){if(!_){C=null;break t}if(C=Qs(C.nextSibling),C===null){C=null;break t}}_=C.data,C=_==="F!"||_==="F"?C:null}if(C){sr=Qs(C.nextSibling),g=C.data==="F!";break e}}hl(g)}g=!1}g&&(a=f[0])}}return f=Yi(),f.memoizedState=f.baseState=a,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:nv,lastRenderedState:a},f.queue=g,f=wv.bind(null,qt,g),g.dispatch=f,g=Hg(!1),_=Kg.bind(null,qt,!1,g.queue),g=Yi(),C={state:a,dispatch:null,action:i,pending:null},g.queue=C,f=H4.bind(null,qt,C,_,f),C.dispatch=f,g.memoizedState=i,[a,f,!1]}function iv(i){var a=Ur();return sv(a,qn,i)}function sv(i,a,f){if(a=zg(i,a,nv)[0],i=dp(Aa)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var g=Wf(a)}catch(P){throw P===yu?np:P}else g=a;a=Ur();var C=a.queue,_=C.dispatch;return f!==a.memoizedState&&(qt.flags|=2048,wu(9,{destroy:void 0},G4.bind(null,C,f),null)),[g,_,i]}function G4(i,a){i.action=a}function ov(i){var a=Ur(),f=qn;if(f!==null)return sv(a,f,i);Ur(),a=a.memoizedState,f=Ur();var g=f.queue.dispatch;return f.memoizedState=i,[a,g,!1]}function wu(i,a,f,g){return i={tag:i,create:f,deps:g,inst:a,next:null},a=qt.updateQueue,a===null&&(a=up(),qt.updateQueue=a),f=a.lastEffect,f===null?a.lastEffect=i.next=i:(g=f.next,f.next=i,i.next=g,a.lastEffect=i),i}function av(){return Ur().memoizedState}function hp(i,a,f,g){var C=Yi();qt.flags|=i,C.memoizedState=wu(1|a,{destroy:void 0},f,g===void 0?null:g)}function pp(i,a,f,g){var C=Ur();g=g===void 0?null:g;var _=C.memoizedState.inst;qn!==null&&g!==null&&Pg(g,qn.memoizedState.deps)?C.memoizedState=wu(a,_,f,g):(qt.flags|=i,C.memoizedState=wu(1|a,_,f,g))}function lv(i,a){hp(8390656,8,i,a)}function $g(i,a){pp(2048,8,i,a)}function $4(i){qt.flags|=4;var a=qt.updateQueue;if(a===null)a=up(),qt.updateQueue=a,a.events=[i];else{var f=a.events;f===null?a.events=[i]:f.push(i)}}function cv(i){var a=Ur().memoizedState;return $4({ref:a,nextImpl:i}),function(){if((Mn&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}function uv(i,a){return pp(4,2,i,a)}function fv(i,a){return pp(4,4,i,a)}function dv(i,a){if(typeof a=="function"){i=i();var f=a(i);return function(){typeof f=="function"?f():a(null)}}if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function hv(i,a,f){f=f!=null?f.concat([i]):null,pp(4,4,dv.bind(null,a,i),f)}function qg(){}function pv(i,a){var f=Ur();a=a===void 0?null:a;var g=f.memoizedState;return a!==null&&Pg(a,g[1])?g[0]:(f.memoizedState=[i,a],i)}function gv(i,a){var f=Ur();a=a===void 0?null:a;var g=f.memoizedState;if(a!==null&&Pg(a,g[1]))return g[0];if(g=i(),_c){Xe(!0);try{i()}finally{Xe(!1)}}return f.memoizedState=[g,a],g}function Wg(i,a,f){return f===void 0||(Sa&1073741824)!==0&&(gn&261930)===0?i.memoizedState=a:(i.memoizedState=f,i=mb(),qt.lanes|=i,wl|=i,f)}function mv(i,a,f,g){return y(f,a)?f:Eu.current!==null?(i=Wg(i,f,g),y(i,a)||($r=!0),i):(Sa&42)===0||(Sa&1073741824)!==0&&(gn&261930)===0?($r=!0,i.memoizedState=f):(i=mb(),qt.lanes|=i,wl|=i,a)}function yv(i,a,f,g,C){var _=he.p;he.p=_!==0&&8>_?_:8;var P=ie.T,Q={};ie.T=Q,Kg(i,!1,a,f);try{var le=C(),be=ie.S;if(be!==null&&be(Q,le),le!==null&&typeof le=="object"&&typeof le.then=="function"){var Me=V4(le,g);Yf(i,a,Me,_s(i))}else Yf(i,a,g,_s(i))}catch(Le){Yf(i,a,{then:function(){},status:"rejected",reason:Le},_s())}finally{he.p=_,P!==null&&Q.types!==null&&(P.types=Q.types),ie.T=P}}function q4(){}function Yg(i,a,f,g){if(i.tag!==5)throw Error(r(476));var C=xv(i).queue;yv(i,C,a,Ne,f===null?q4:function(){return Ev(i),f(g)})}function xv(i){var a=i.memoizedState;if(a!==null)return a;a={memoizedState:Ne,baseState:Ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Aa,lastRenderedState:Ne},next:null};var f={};return a.next={memoizedState:f,baseState:f,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Aa,lastRenderedState:f},next:null},i.memoizedState=a,i=i.alternate,i!==null&&(i.memoizedState=a),a}function Ev(i){var a=xv(i);a.next===null&&(a=i.alternate.memoizedState),Yf(i,a.next.queue,{},_s())}function Xg(){return vi(fd)}function vv(){return Ur().memoizedState}function bv(){return Ur().memoizedState}function W4(i){for(var a=i.return;a!==null;){switch(a.tag){case 24:case 3:var f=_s();i=ml(f);var g=yl(a,i,f);g!==null&&(cs(g,a,f),Hf(g,a,f)),a={cache:Sg()},i.payload=a;return}a=a.return}}function Y4(i,a,f){var g=_s();f={lane:g,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},gp(i)?Cv(a,f):(f=hg(i,a,f,g),f!==null&&(cs(f,i,g),Sv(f,a,g)))}function wv(i,a,f){var g=_s();Yf(i,a,f,g)}function Yf(i,a,f,g){var C={lane:g,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null};if(gp(i))Cv(a,C);else{var _=i.alternate;if(i.lanes===0&&(_===null||_.lanes===0)&&(_=a.lastRenderedReducer,_!==null))try{var P=a.lastRenderedState,Q=_(P,f);if(C.hasEagerState=!0,C.eagerState=Q,y(Q,P))return Xh(i,a,C,0),Zn===null&&Yh(),!1}catch{}finally{}if(f=hg(i,a,C,g),f!==null)return cs(f,i,g),Sv(f,a,g),!0}return!1}function Kg(i,a,f,g){if(g={lane:2,revertLane:Im(),gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},gp(i)){if(a)throw Error(r(479))}else a=hg(i,f,g,2),a!==null&&cs(a,i,2)}function gp(i){var a=i.alternate;return i===qt||a!==null&&a===qt}function Cv(i,a){vu=lp=!0;var f=i.pending;f===null?a.next=a:(a.next=f.next,f.next=a),i.pending=a}function Sv(i,a,f){if((f&4194048)!==0){var g=a.lanes;g&=i.pendingLanes,f|=g,a.lanes=f,ps(i,f)}}var Xf={readContext:vi,use:fp,useCallback:Sr,useContext:Sr,useEffect:Sr,useImperativeHandle:Sr,useLayoutEffect:Sr,useInsertionEffect:Sr,useMemo:Sr,useReducer:Sr,useRef:Sr,useState:Sr,useDebugValue:Sr,useDeferredValue:Sr,useTransition:Sr,useSyncExternalStore:Sr,useId:Sr,useHostTransitionStatus:Sr,useFormState:Sr,useActionState:Sr,useOptimistic:Sr,useMemoCache:Sr,useCacheRefresh:Sr};Xf.useEffectEvent=Sr;var Av={readContext:vi,use:fp,useCallback:function(i,a){return Yi().memoizedState=[i,a===void 0?null:a],i},useContext:vi,useEffect:lv,useImperativeHandle:function(i,a,f){f=f!=null?f.concat([i]):null,hp(4194308,4,dv.bind(null,a,i),f)},useLayoutEffect:function(i,a){return hp(4194308,4,i,a)},useInsertionEffect:function(i,a){hp(4,2,i,a)},useMemo:function(i,a){var f=Yi();a=a===void 0?null:a;var g=i();if(_c){Xe(!0);try{i()}finally{Xe(!1)}}return f.memoizedState=[g,a],g},useReducer:function(i,a,f){var g=Yi();if(f!==void 0){var C=f(a);if(_c){Xe(!0);try{f(a)}finally{Xe(!1)}}}else C=a;return g.memoizedState=g.baseState=C,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:C},g.queue=i,i=i.dispatch=Y4.bind(null,qt,i),[g.memoizedState,i]},useRef:function(i){var a=Yi();return i={current:i},a.memoizedState=i},useState:function(i){i=Hg(i);var a=i.queue,f=wv.bind(null,qt,a);return a.dispatch=f,[i.memoizedState,f]},useDebugValue:qg,useDeferredValue:function(i,a){var f=Yi();return Wg(f,i,a)},useTransition:function(){var i=Hg(!1);return i=yv.bind(null,qt,i.queue,!0,!1),Yi().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,a,f){var g=qt,C=Yi();if(bn){if(f===void 0)throw Error(r(407));f=f()}else{if(f=a(),Zn===null)throw Error(r(349));(gn&127)!==0||qE(g,a,f)}C.memoizedState=f;var _={value:f,getSnapshot:a};return C.queue=_,lv(YE.bind(null,g,_,i),[i]),g.flags|=2048,wu(9,{destroy:void 0},WE.bind(null,g,_,f,a),null),f},useId:function(){var i=Yi(),a=Zn.identifierPrefix;if(bn){var f=Do,g=Oo;f=(g&~(1<<32-Je(g)-1)).toString(32)+f,a="_"+a+"R_"+f,f=cp++,0<f&&(a+="H"+f.toString(32)),a+="_"}else f=z4++,a="_"+a+"r_"+f.toString(32)+"_";return i.memoizedState=a},useHostTransitionStatus:Xg,useFormState:rv,useActionState:rv,useOptimistic:function(i){var a=Yi();a.memoizedState=a.baseState=i;var f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=f,a=Kg.bind(null,qt,!0,f),f.dispatch=a,[i,a]},useMemoCache:Vg,useCacheRefresh:function(){return Yi().memoizedState=W4.bind(null,qt)},useEffectEvent:function(i){var a=Yi(),f={impl:i};return a.memoizedState=f,function(){if((Mn&2)!==0)throw Error(r(440));return f.impl.apply(void 0,arguments)}}},Qg={readContext:vi,use:fp,useCallback:pv,useContext:vi,useEffect:$g,useImperativeHandle:hv,useInsertionEffect:uv,useLayoutEffect:fv,useMemo:gv,useReducer:dp,useRef:av,useState:function(){return dp(Aa)},useDebugValue:qg,useDeferredValue:function(i,a){var f=Ur();return mv(f,qn.memoizedState,i,a)},useTransition:function(){var i=dp(Aa)[0],a=Ur().memoizedState;return[typeof i=="boolean"?i:Wf(i),a]},useSyncExternalStore:$E,useId:vv,useHostTransitionStatus:Xg,useFormState:iv,useActionState:iv,useOptimistic:function(i,a){var f=Ur();return QE(f,qn,i,a)},useMemoCache:Vg,useCacheRefresh:bv};Qg.useEffectEvent=cv;var _v={readContext:vi,use:fp,useCallback:pv,useContext:vi,useEffect:$g,useImperativeHandle:hv,useInsertionEffect:uv,useLayoutEffect:fv,useMemo:gv,useReducer:jg,useRef:av,useState:function(){return jg(Aa)},useDebugValue:qg,useDeferredValue:function(i,a){var f=Ur();return qn===null?Wg(f,i,a):mv(f,qn.memoizedState,i,a)},useTransition:function(){var i=jg(Aa)[0],a=Ur().memoizedState;return[typeof i=="boolean"?i:Wf(i),a]},useSyncExternalStore:$E,useId:vv,useHostTransitionStatus:Xg,useFormState:ov,useActionState:ov,useOptimistic:function(i,a){var f=Ur();return qn!==null?QE(f,qn,i,a):(f.baseState=i,[i,f.queue.dispatch])},useMemoCache:Vg,useCacheRefresh:bv};_v.useEffectEvent=cv;function Zg(i,a,f,g){a=i.memoizedState,f=f(g,a),f=f==null?a:A({},a,f),i.memoizedState=f,i.lanes===0&&(i.updateQueue.baseState=f)}var Jg={enqueueSetState:function(i,a,f){i=i._reactInternals;var g=_s(),C=ml(g);C.payload=a,f!=null&&(C.callback=f),a=yl(i,C,g),a!==null&&(cs(a,i,g),Hf(a,i,g))},enqueueReplaceState:function(i,a,f){i=i._reactInternals;var g=_s(),C=ml(g);C.tag=1,C.payload=a,f!=null&&(C.callback=f),a=yl(i,C,g),a!==null&&(cs(a,i,g),Hf(a,i,g))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var f=_s(),g=ml(f);g.tag=2,a!=null&&(g.callback=a),a=yl(i,g,f),a!==null&&(cs(a,i,f),Hf(a,i,f))}};function Tv(i,a,f,g,C,_,P){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(g,_,P):a.prototype&&a.prototype.isPureReactComponent?!b(f,g)||!b(C,_):!0}function Iv(i,a,f,g){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(f,g),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(f,g),a.state!==i&&Jg.enqueueReplaceState(a,a.state,null)}function Tc(i,a){var f=a;if("ref"in a){f={};for(var g in a)g!=="ref"&&(f[g]=a[g])}if(i=i.defaultProps){f===a&&(f=A({},f));for(var C in i)f[C]===void 0&&(f[C]=i[C])}return f}function Rv(i){Wh(i)}function Nv(i){console.error(i)}function Mv(i){Wh(i)}function mp(i,a){try{var f=i.onUncaughtError;f(a.value,{componentStack:a.stack})}catch(g){setTimeout(function(){throw g})}}function Ov(i,a,f){try{var g=i.onCaughtError;g(f.value,{componentStack:f.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(C){setTimeout(function(){throw C})}}function em(i,a,f){return f=ml(f),f.tag=3,f.payload={element:null},f.callback=function(){mp(i,a)},f}function Dv(i){return i=ml(i),i.tag=3,i}function Lv(i,a,f,g){var C=f.type.getDerivedStateFromError;if(typeof C=="function"){var _=g.value;i.payload=function(){return C(_)},i.callback=function(){Ov(a,f,g)}}var P=f.stateNode;P!==null&&typeof P.componentDidCatch=="function"&&(i.callback=function(){Ov(a,f,g),typeof C!="function"&&(Cl===null?Cl=new Set([this]):Cl.add(this));var Q=g.stack;this.componentDidCatch(g.value,{componentStack:Q!==null?Q:""})})}function X4(i,a,f,g,C){if(f.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(a=f.alternate,a!==null&&pu(a,f,C,!0),f=ws.current,f!==null){switch(f.tag){case 31:case 13:return Ks===null?Ip():f.alternate===null&&Ar===0&&(Ar=3),f.flags&=-257,f.flags|=65536,f.lanes=C,g===rp?f.flags|=16384:(a=f.updateQueue,a===null?f.updateQueue=new Set([g]):a.add(g),Am(i,g,C)),!1;case 22:return f.flags|=65536,g===rp?f.flags|=16384:(a=f.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([g])},f.updateQueue=a):(f=a.retryQueue,f===null?a.retryQueue=new Set([g]):f.add(g)),Am(i,g,C)),!1}throw Error(r(435,f.tag))}return Am(i,g,C),Ip(),!1}if(bn)return a=ws.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=C,g!==Eg&&(i=Error(r(422),{cause:g}),Uf(qs(i,f)))):(g!==Eg&&(a=Error(r(423),{cause:g}),Uf(qs(a,f))),i=i.current.alternate,i.flags|=65536,C&=-C,i.lanes|=C,g=qs(g,f),C=em(i.stateNode,g,C),Ng(i,C),Ar!==4&&(Ar=2)),!1;var _=Error(r(520),{cause:g});if(_=qs(_,f),rd===null?rd=[_]:rd.push(_),Ar!==4&&(Ar=2),a===null)return!0;g=qs(g,f),f=a;do{switch(f.tag){case 3:return f.flags|=65536,i=C&-C,f.lanes|=i,i=em(f.stateNode,g,i),Ng(f,i),!1;case 1:if(a=f.type,_=f.stateNode,(f.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Cl===null||!Cl.has(_))))return f.flags|=65536,C&=-C,f.lanes|=C,C=Dv(C),Lv(C,i,f,g),Ng(f,C),!1}f=f.return}while(f!==null);return!1}var tm=Error(r(461)),$r=!1;function bi(i,a,f,g){a.child=i===null?UE(a,null,f,g):Ac(a,i.child,f,g)}function Pv(i,a,f,g,C){f=f.render;var _=a.ref;if("ref"in g){var P={};for(var Q in g)Q!=="ref"&&(P[Q]=g[Q])}else P=g;return bc(a),g=kg(i,a,f,P,_,C),Q=Bg(),i!==null&&!$r?(Ug(i,a,C),_a(i,a,C)):(bn&&Q&&yg(a),a.flags|=1,bi(i,a,g,C),a.child)}function kv(i,a,f,g,C){if(i===null){var _=f.type;return typeof _=="function"&&!pg(_)&&_.defaultProps===void 0&&f.compare===null?(a.tag=15,a.type=_,Bv(i,a,_,g,C)):(i=Qh(f.type,null,g,a,a.mode,C),i.ref=a.ref,i.return=a,a.child=i)}if(_=i.child,!cm(i,C)){var P=_.memoizedProps;if(f=f.compare,f=f!==null?f:b,f(P,g)&&i.ref===a.ref)return _a(i,a,C)}return a.flags|=1,i=va(_,g),i.ref=a.ref,i.return=a,a.child=i}function Bv(i,a,f,g,C){if(i!==null){var _=i.memoizedProps;if(b(_,g)&&i.ref===a.ref)if($r=!1,a.pendingProps=g=_,cm(i,C))(i.flags&131072)!==0&&($r=!0);else return a.lanes=i.lanes,_a(i,a,C)}return nm(i,a,f,g,C)}function Uv(i,a,f,g){var C=g.children,_=i!==null?i.memoizedState:null;if(i===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),g.mode==="hidden"){if((a.flags&128)!==0){if(_=_!==null?_.baseLanes|f:f,i!==null){for(g=a.child=i.child,C=0;g!==null;)C=C|g.lanes|g.childLanes,g=g.sibling;g=C&~_}else g=0,a.child=null;return Fv(i,a,_,f,g)}if((f&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},i!==null&&tp(a,_!==null?_.cachePool:null),_!==null?zE(a,_):Og(),jE(a);else return g=a.lanes=536870912,Fv(i,a,_!==null?_.baseLanes|f:f,f,g)}else _!==null?(tp(a,_.cachePool),zE(a,_),El(),a.memoizedState=null):(i!==null&&tp(a,null),Og(),El());return bi(i,a,C,f),a.child}function Kf(i,a){return i!==null&&i.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function Fv(i,a,f,g,C){var _=_g();return _=_===null?null:{parent:Hr._currentValue,pool:_},a.memoizedState={baseLanes:f,cachePool:_},i!==null&&tp(a,null),Og(),jE(a),i!==null&&pu(i,a,g,!0),a.childLanes=C,null}function yp(i,a){return a=Ep({mode:a.mode,children:a.children},i.mode),a.ref=i.ref,i.child=a,a.return=i,a}function Vv(i,a,f){return Ac(a,i.child,null,f),i=yp(a,a.pendingProps),i.flags|=2,Cs(a),a.memoizedState=null,i}function K4(i,a,f){var g=a.pendingProps,C=(a.flags&128)!==0;if(a.flags&=-129,i===null){if(bn){if(g.mode==="hidden")return i=yp(a,g),a.lanes=536870912,Kf(null,i);if(Lg(a),(i=sr)?(i=Zb(i,Xs),i=i!==null&&i.data==="&"?i:null,i!==null&&(a.memoizedState={dehydrated:i,treeContext:fl!==null?{id:Oo,overflow:Do}:null,retryLane:536870912,hydrationErrors:null},f=CE(i),f.return=a,a.child=f,Ei=a,sr=null)):i=null,i===null)throw hl(a);return a.lanes=536870912,null}return yp(a,g)}var _=i.memoizedState;if(_!==null){var P=_.dehydrated;if(Lg(a),C)if(a.flags&256)a.flags&=-257,a=Vv(i,a,f);else if(a.memoizedState!==null)a.child=i.child,a.flags|=128,a=null;else throw Error(r(558));else if($r||pu(i,a,f,!1),C=(f&i.childLanes)!==0,$r||C){if(g=Zn,g!==null&&(P=la(g,f),P!==0&&P!==_.retryLane))throw _.retryLane=P,yc(i,P),cs(g,i,P),tm;Ip(),a=Vv(i,a,f)}else i=_.treeContext,sr=Qs(P.nextSibling),Ei=a,bn=!0,dl=null,Xs=!1,i!==null&&_E(a,i),a=yp(a,g),a.flags|=4096;return a}return i=va(i.child,{mode:g.mode,children:g.children}),i.ref=a.ref,a.child=i,i.return=a,i}function xp(i,a){var f=a.ref;if(f===null)i!==null&&i.ref!==null&&(a.flags|=4194816);else{if(typeof f!="function"&&typeof f!="object")throw Error(r(284));(i===null||i.ref!==f)&&(a.flags|=4194816)}}function nm(i,a,f,g,C){return bc(a),f=kg(i,a,f,g,void 0,C),g=Bg(),i!==null&&!$r?(Ug(i,a,C),_a(i,a,C)):(bn&&g&&yg(a),a.flags|=1,bi(i,a,f,C),a.child)}function zv(i,a,f,g,C,_){return bc(a),a.updateQueue=null,f=GE(a,g,f,C),HE(i),g=Bg(),i!==null&&!$r?(Ug(i,a,_),_a(i,a,_)):(bn&&g&&yg(a),a.flags|=1,bi(i,a,f,_),a.child)}function jv(i,a,f,g,C){if(bc(a),a.stateNode===null){var _=uu,P=f.contextType;typeof P=="object"&&P!==null&&(_=vi(P)),_=new f(g,_),a.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=Jg,a.stateNode=_,_._reactInternals=a,_=a.stateNode,_.props=g,_.state=a.memoizedState,_.refs={},Ig(a),P=f.contextType,_.context=typeof P=="object"&&P!==null?vi(P):uu,_.state=a.memoizedState,P=f.getDerivedStateFromProps,typeof P=="function"&&(Zg(a,f,P,g),_.state=a.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(P=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),P!==_.state&&Jg.enqueueReplaceState(_,_.state,null),$f(a,g,_,C),Gf(),_.state=a.memoizedState),typeof _.componentDidMount=="function"&&(a.flags|=4194308),g=!0}else if(i===null){_=a.stateNode;var Q=a.memoizedProps,le=Tc(f,Q);_.props=le;var be=_.context,Me=f.contextType;P=uu,typeof Me=="object"&&Me!==null&&(P=vi(Me));var Le=f.getDerivedStateFromProps;Me=typeof Le=="function"||typeof _.getSnapshotBeforeUpdate=="function",Q=a.pendingProps!==Q,Me||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(Q||be!==P)&&Iv(a,_,g,P),gl=!1;var Ce=a.memoizedState;_.state=Ce,$f(a,g,_,C),Gf(),be=a.memoizedState,Q||Ce!==be||gl?(typeof Le=="function"&&(Zg(a,f,Le,g),be=a.memoizedState),(le=gl||Tv(a,f,le,g,Ce,be,P))?(Me||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(a.flags|=4194308)):(typeof _.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=g,a.memoizedState=be),_.props=g,_.state=be,_.context=P,g=le):(typeof _.componentDidMount=="function"&&(a.flags|=4194308),g=!1)}else{_=a.stateNode,Rg(i,a),P=a.memoizedProps,Me=Tc(f,P),_.props=Me,Le=a.pendingProps,Ce=_.context,be=f.contextType,le=uu,typeof be=="object"&&be!==null&&(le=vi(be)),Q=f.getDerivedStateFromProps,(be=typeof Q=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(P!==Le||Ce!==le)&&Iv(a,_,g,le),gl=!1,Ce=a.memoizedState,_.state=Ce,$f(a,g,_,C),Gf();var Ie=a.memoizedState;P!==Le||Ce!==Ie||gl||i!==null&&i.dependencies!==null&&Jh(i.dependencies)?(typeof Q=="function"&&(Zg(a,f,Q,g),Ie=a.memoizedState),(Me=gl||Tv(a,f,Me,g,Ce,Ie,le)||i!==null&&i.dependencies!==null&&Jh(i.dependencies))?(be||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(g,Ie,le),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(g,Ie,le)),typeof _.componentDidUpdate=="function"&&(a.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof _.componentDidUpdate!="function"||P===i.memoizedProps&&Ce===i.memoizedState||(a.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||P===i.memoizedProps&&Ce===i.memoizedState||(a.flags|=1024),a.memoizedProps=g,a.memoizedState=Ie),_.props=g,_.state=Ie,_.context=le,g=Me):(typeof _.componentDidUpdate!="function"||P===i.memoizedProps&&Ce===i.memoizedState||(a.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||P===i.memoizedProps&&Ce===i.memoizedState||(a.flags|=1024),g=!1)}return _=g,xp(i,a),g=(a.flags&128)!==0,_||g?(_=a.stateNode,f=g&&typeof f.getDerivedStateFromError!="function"?null:_.render(),a.flags|=1,i!==null&&g?(a.child=Ac(a,i.child,null,C),a.child=Ac(a,null,f,C)):bi(i,a,f,C),a.memoizedState=_.state,i=a.child):i=_a(i,a,C),i}function Hv(i,a,f,g){return Ec(),a.flags|=256,bi(i,a,f,g),a.child}var rm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function im(i){return{baseLanes:i,cachePool:OE()}}function sm(i,a,f){return i=i!==null?i.childLanes&~f:0,a&&(i|=As),i}function Gv(i,a,f){var g=a.pendingProps,C=!1,_=(a.flags&128)!==0,P;if((P=_)||(P=i!==null&&i.memoizedState===null?!1:(Br.current&2)!==0),P&&(C=!0,a.flags&=-129),P=(a.flags&32)!==0,a.flags&=-33,i===null){if(bn){if(C?xl(a):El(),(i=sr)?(i=Zb(i,Xs),i=i!==null&&i.data!=="&"?i:null,i!==null&&(a.memoizedState={dehydrated:i,treeContext:fl!==null?{id:Oo,overflow:Do}:null,retryLane:536870912,hydrationErrors:null},f=CE(i),f.return=a,a.child=f,Ei=a,sr=null)):i=null,i===null)throw hl(a);return zm(i)?a.lanes=32:a.lanes=536870912,null}var Q=g.children;return g=g.fallback,C?(El(),C=a.mode,Q=Ep({mode:"hidden",children:Q},C),g=xc(g,C,f,null),Q.return=a,g.return=a,Q.sibling=g,a.child=Q,g=a.child,g.memoizedState=im(f),g.childLanes=sm(i,P,f),a.memoizedState=rm,Kf(null,g)):(xl(a),om(a,Q))}var le=i.memoizedState;if(le!==null&&(Q=le.dehydrated,Q!==null)){if(_)a.flags&256?(xl(a),a.flags&=-257,a=am(i,a,f)):a.memoizedState!==null?(El(),a.child=i.child,a.flags|=128,a=null):(El(),Q=g.fallback,C=a.mode,g=Ep({mode:"visible",children:g.children},C),Q=xc(Q,C,f,null),Q.flags|=2,g.return=a,Q.return=a,g.sibling=Q,a.child=g,Ac(a,i.child,null,f),g=a.child,g.memoizedState=im(f),g.childLanes=sm(i,P,f),a.memoizedState=rm,a=Kf(null,g));else if(xl(a),zm(Q)){if(P=Q.nextSibling&&Q.nextSibling.dataset,P)var be=P.dgst;P=be,g=Error(r(419)),g.stack="",g.digest=P,Uf({value:g,source:null,stack:null}),a=am(i,a,f)}else if($r||pu(i,a,f,!1),P=(f&i.childLanes)!==0,$r||P){if(P=Zn,P!==null&&(g=la(P,f),g!==0&&g!==le.retryLane))throw le.retryLane=g,yc(i,g),cs(P,i,g),tm;Vm(Q)||Ip(),a=am(i,a,f)}else Vm(Q)?(a.flags|=192,a.child=i.child,a=null):(i=le.treeContext,sr=Qs(Q.nextSibling),Ei=a,bn=!0,dl=null,Xs=!1,i!==null&&_E(a,i),a=om(a,g.children),a.flags|=4096);return a}return C?(El(),Q=g.fallback,C=a.mode,le=i.child,be=le.sibling,g=va(le,{mode:"hidden",children:g.children}),g.subtreeFlags=le.subtreeFlags&65011712,be!==null?Q=va(be,Q):(Q=xc(Q,C,f,null),Q.flags|=2),Q.return=a,g.return=a,g.sibling=Q,a.child=g,Kf(null,g),g=a.child,Q=i.child.memoizedState,Q===null?Q=im(f):(C=Q.cachePool,C!==null?(le=Hr._currentValue,C=C.parent!==le?{parent:le,pool:le}:C):C=OE(),Q={baseLanes:Q.baseLanes|f,cachePool:C}),g.memoizedState=Q,g.childLanes=sm(i,P,f),a.memoizedState=rm,Kf(i.child,g)):(xl(a),f=i.child,i=f.sibling,f=va(f,{mode:"visible",children:g.children}),f.return=a,f.sibling=null,i!==null&&(P=a.deletions,P===null?(a.deletions=[i],a.flags|=16):P.push(i)),a.child=f,a.memoizedState=null,f)}function om(i,a){return a=Ep({mode:"visible",children:a},i.mode),a.return=i,i.child=a}function Ep(i,a){return i=bs(22,i,null,a),i.lanes=0,i}function am(i,a,f){return Ac(a,i.child,null,f),i=om(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function $v(i,a,f){i.lanes|=a;var g=i.alternate;g!==null&&(g.lanes|=a),wg(i.return,a,f)}function lm(i,a,f,g,C,_){var P=i.memoizedState;P===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:g,tail:f,tailMode:C,treeForkCount:_}:(P.isBackwards=a,P.rendering=null,P.renderingStartTime=0,P.last=g,P.tail=f,P.tailMode=C,P.treeForkCount=_)}function qv(i,a,f){var g=a.pendingProps,C=g.revealOrder,_=g.tail;g=g.children;var P=Br.current,Q=(P&2)!==0;if(Q?(P=P&1|2,a.flags|=128):P&=1,me(Br,P),bi(i,a,g,f),g=bn?Bf:0,!Q&&i!==null&&(i.flags&128)!==0)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&$v(i,f,a);else if(i.tag===19)$v(i,f,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(C){case"forwards":for(f=a.child,C=null;f!==null;)i=f.alternate,i!==null&&ap(i)===null&&(C=f),f=f.sibling;f=C,f===null?(C=a.child,a.child=null):(C=f.sibling,f.sibling=null),lm(a,!1,C,f,_,g);break;case"backwards":case"unstable_legacy-backwards":for(f=null,C=a.child,a.child=null;C!==null;){if(i=C.alternate,i!==null&&ap(i)===null){a.child=C;break}i=C.sibling,C.sibling=f,f=C,C=i}lm(a,!0,f,null,_,g);break;case"together":lm(a,!1,null,null,void 0,g);break;default:a.memoizedState=null}return a.child}function _a(i,a,f){if(i!==null&&(a.dependencies=i.dependencies),wl|=a.lanes,(f&a.childLanes)===0)if(i!==null){if(pu(i,a,f,!1),(f&a.childLanes)===0)return null}else return null;if(i!==null&&a.child!==i.child)throw Error(r(153));if(a.child!==null){for(i=a.child,f=va(i,i.pendingProps),a.child=f,f.return=a;i.sibling!==null;)i=i.sibling,f=f.sibling=va(i,i.pendingProps),f.return=a;f.sibling=null}return a.child}function cm(i,a){return(i.lanes&a)!==0?!0:(i=i.dependencies,!!(i!==null&&Jh(i)))}function Q4(i,a,f){switch(a.tag){case 3:tt(a,a.stateNode.containerInfo),pl(a,Hr,i.memoizedState.cache),Ec();break;case 27:case 5:st(a);break;case 4:tt(a,a.stateNode.containerInfo);break;case 10:pl(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,Lg(a),null;break;case 13:var g=a.memoizedState;if(g!==null)return g.dehydrated!==null?(xl(a),a.flags|=128,null):(f&a.child.childLanes)!==0?Gv(i,a,f):(xl(a),i=_a(i,a,f),i!==null?i.sibling:null);xl(a);break;case 19:var C=(i.flags&128)!==0;if(g=(f&a.childLanes)!==0,g||(pu(i,a,f,!1),g=(f&a.childLanes)!==0),C){if(g)return qv(i,a,f);a.flags|=128}if(C=a.memoizedState,C!==null&&(C.rendering=null,C.tail=null,C.lastEffect=null),me(Br,Br.current),g)break;return null;case 22:return a.lanes=0,Uv(i,a,f,a.pendingProps);case 24:pl(a,Hr,i.memoizedState.cache)}return _a(i,a,f)}function Wv(i,a,f){if(i!==null)if(i.memoizedProps!==a.pendingProps)$r=!0;else{if(!cm(i,f)&&(a.flags&128)===0)return $r=!1,Q4(i,a,f);$r=(i.flags&131072)!==0}else $r=!1,bn&&(a.flags&1048576)!==0&&AE(a,Bf,a.index);switch(a.lanes=0,a.tag){case 16:e:{var g=a.pendingProps;if(i=Cc(a.elementType),a.type=i,typeof i=="function")pg(i)?(g=Tc(i,g),a.tag=1,a=jv(null,a,i,g,f)):(a.tag=0,a=nm(null,a,i,g,f));else{if(i!=null){var C=i.$$typeof;if(C===W){a.tag=11,a=Pv(null,a,i,g,f);break e}else if(C===z){a.tag=14,a=kv(null,a,i,g,f);break e}}throw a=ue(i)||i,Error(r(306,a,""))}}return a;case 0:return nm(i,a,a.type,a.pendingProps,f);case 1:return g=a.type,C=Tc(g,a.pendingProps),jv(i,a,g,C,f);case 3:e:{if(tt(a,a.stateNode.containerInfo),i===null)throw Error(r(387));g=a.pendingProps;var _=a.memoizedState;C=_.element,Rg(i,a),$f(a,g,null,f);var P=a.memoizedState;if(g=P.cache,pl(a,Hr,g),g!==_.cache&&Cg(a,[Hr],f,!0),Gf(),g=P.element,_.isDehydrated)if(_={element:g,isDehydrated:!1,cache:P.cache},a.updateQueue.baseState=_,a.memoizedState=_,a.flags&256){a=Hv(i,a,g,f);break e}else if(g!==C){C=qs(Error(r(424)),a),Uf(C),a=Hv(i,a,g,f);break e}else{switch(i=a.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(sr=Qs(i.firstChild),Ei=a,bn=!0,dl=null,Xs=!0,f=UE(a,null,g,f),a.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling}else{if(Ec(),g===C){a=_a(i,a,f);break e}bi(i,a,g,f)}a=a.child}return a;case 26:return xp(i,a),i===null?(f=iw(a.type,null,a.pendingProps,null))?a.memoizedState=f:bn||(f=a.type,i=a.pendingProps,g=Pp(we.current).createElement(f),g[cr]=a,g[An]=i,wi(g,f,i),ur(g),a.stateNode=g):a.memoizedState=iw(a.type,i.memoizedProps,a.pendingProps,i.memoizedState),null;case 27:return st(a),i===null&&bn&&(g=a.stateNode=tw(a.type,a.pendingProps,we.current),Ei=a,Xs=!0,C=sr,Tl(a.type)?(jm=C,sr=Qs(g.firstChild)):sr=C),bi(i,a,a.pendingProps.children,f),xp(i,a),i===null&&(a.flags|=4194304),a.child;case 5:return i===null&&bn&&((C=g=sr)&&(g=TN(g,a.type,a.pendingProps,Xs),g!==null?(a.stateNode=g,Ei=a,sr=Qs(g.firstChild),Xs=!1,C=!0):C=!1),C||hl(a)),st(a),C=a.type,_=a.pendingProps,P=i!==null?i.memoizedProps:null,g=_.children,Bm(C,_)?g=null:P!==null&&Bm(C,P)&&(a.flags|=32),a.memoizedState!==null&&(C=kg(i,a,j4,null,null,f),fd._currentValue=C),xp(i,a),bi(i,a,g,f),a.child;case 6:return i===null&&bn&&((i=f=sr)&&(f=IN(f,a.pendingProps,Xs),f!==null?(a.stateNode=f,Ei=a,sr=null,i=!0):i=!1),i||hl(a)),null;case 13:return Gv(i,a,f);case 4:return tt(a,a.stateNode.containerInfo),g=a.pendingProps,i===null?a.child=Ac(a,null,g,f):bi(i,a,g,f),a.child;case 11:return Pv(i,a,a.type,a.pendingProps,f);case 7:return bi(i,a,a.pendingProps,f),a.child;case 8:return bi(i,a,a.pendingProps.children,f),a.child;case 12:return bi(i,a,a.pendingProps.children,f),a.child;case 10:return g=a.pendingProps,pl(a,a.type,g.value),bi(i,a,g.children,f),a.child;case 9:return C=a.type._context,g=a.pendingProps.children,bc(a),C=vi(C),g=g(C),a.flags|=1,bi(i,a,g,f),a.child;case 14:return kv(i,a,a.type,a.pendingProps,f);case 15:return Bv(i,a,a.type,a.pendingProps,f);case 19:return qv(i,a,f);case 31:return K4(i,a,f);case 22:return Uv(i,a,f,a.pendingProps);case 24:return bc(a),g=vi(Hr),i===null?(C=_g(),C===null&&(C=Zn,_=Sg(),C.pooledCache=_,_.refCount++,_!==null&&(C.pooledCacheLanes|=f),C=_),a.memoizedState={parent:g,cache:C},Ig(a),pl(a,Hr,C)):((i.lanes&f)!==0&&(Rg(i,a),$f(a,null,null,f),Gf()),C=i.memoizedState,_=a.memoizedState,C.parent!==g?(C={parent:g,cache:g},a.memoizedState=C,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=C),pl(a,Hr,g)):(g=_.cache,pl(a,Hr,g),g!==C.cache&&Cg(a,[Hr],f,!0))),bi(i,a,a.pendingProps.children,f),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function Ta(i){i.flags|=4}function um(i,a,f,g,C){if((a=(i.mode&32)!==0)&&(a=!1),a){if(i.flags|=16777216,(C&335544128)===C)if(i.stateNode.complete)i.flags|=8192;else if(vb())i.flags|=8192;else throw Sc=rp,Tg}else i.flags&=-16777217}function Yv(i,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!cw(a))if(vb())i.flags|=8192;else throw Sc=rp,Tg}function vp(i,a){a!==null&&(i.flags|=4),i.flags&16384&&(a=i.tag!==22?Pr():536870912,i.lanes|=a,_u|=a)}function Qf(i,a){if(!bn)switch(i.tailMode){case"hidden":a=i.tail;for(var f=null;a!==null;)a.alternate!==null&&(f=a),a=a.sibling;f===null?i.tail=null:f.sibling=null;break;case"collapsed":f=i.tail;for(var g=null;f!==null;)f.alternate!==null&&(g=f),f=f.sibling;g===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:g.sibling=null}}function or(i){var a=i.alternate!==null&&i.alternate.child===i.child,f=0,g=0;if(a)for(var C=i.child;C!==null;)f|=C.lanes|C.childLanes,g|=C.subtreeFlags&65011712,g|=C.flags&65011712,C.return=i,C=C.sibling;else for(C=i.child;C!==null;)f|=C.lanes|C.childLanes,g|=C.subtreeFlags,g|=C.flags,C.return=i,C=C.sibling;return i.subtreeFlags|=g,i.childLanes=f,a}function Z4(i,a,f){var g=a.pendingProps;switch(xg(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return or(a),null;case 1:return or(a),null;case 3:return f=a.stateNode,g=null,i!==null&&(g=i.memoizedState.cache),a.memoizedState.cache!==g&&(a.flags|=2048),Ca(Hr),nt(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(i===null||i.child===null)&&(hu(a)?Ta(a):i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,vg())),or(a),null;case 26:var C=a.type,_=a.memoizedState;return i===null?(Ta(a),_!==null?(or(a),Yv(a,_)):(or(a),um(a,C,null,g,f))):_?_!==i.memoizedState?(Ta(a),or(a),Yv(a,_)):(or(a),a.flags&=-16777217):(i=i.memoizedProps,i!==g&&Ta(a),or(a),um(a,C,i,g,f)),null;case 27:if(dt(a),f=we.current,C=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==g&&Ta(a);else{if(!g){if(a.stateNode===null)throw Error(r(166));return or(a),null}i=Re.current,hu(a)?TE(a):(i=tw(C,g,f),a.stateNode=i,Ta(a))}return or(a),null;case 5:if(dt(a),C=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==g&&Ta(a);else{if(!g){if(a.stateNode===null)throw Error(r(166));return or(a),null}if(_=Re.current,hu(a))TE(a);else{var P=Pp(we.current);switch(_){case 1:_=P.createElementNS("http://www.w3.org/2000/svg",C);break;case 2:_=P.createElementNS("http://www.w3.org/1998/Math/MathML",C);break;default:switch(C){case"svg":_=P.createElementNS("http://www.w3.org/2000/svg",C);break;case"math":_=P.createElementNS("http://www.w3.org/1998/Math/MathML",C);break;case"script":_=P.createElement("div"),_.innerHTML="<script><\/script>",_=_.removeChild(_.firstChild);break;case"select":_=typeof g.is=="string"?P.createElement("select",{is:g.is}):P.createElement("select"),g.multiple?_.multiple=!0:g.size&&(_.size=g.size);break;default:_=typeof g.is=="string"?P.createElement(C,{is:g.is}):P.createElement(C)}}_[cr]=a,_[An]=g;e:for(P=a.child;P!==null;){if(P.tag===5||P.tag===6)_.appendChild(P.stateNode);else if(P.tag!==4&&P.tag!==27&&P.child!==null){P.child.return=P,P=P.child;continue}if(P===a)break e;for(;P.sibling===null;){if(P.return===null||P.return===a)break e;P=P.return}P.sibling.return=P.return,P=P.sibling}a.stateNode=_;e:switch(wi(_,C,g),C){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}g&&Ta(a)}}return or(a),um(a,a.type,i===null?null:i.memoizedProps,a.pendingProps,f),null;case 6:if(i&&a.stateNode!=null)i.memoizedProps!==g&&Ta(a);else{if(typeof g!="string"&&a.stateNode===null)throw Error(r(166));if(i=we.current,hu(a)){if(i=a.stateNode,f=a.memoizedProps,g=null,C=Ei,C!==null)switch(C.tag){case 27:case 5:g=C.memoizedProps}i[cr]=a,i=!!(i.nodeValue===f||g!==null&&g.suppressHydrationWarning===!0||Gb(i.nodeValue,f)),i||hl(a,!0)}else i=Pp(i).createTextNode(g),i[cr]=a,a.stateNode=i}return or(a),null;case 31:if(f=a.memoizedState,i===null||i.memoizedState!==null){if(g=hu(a),f!==null){if(i===null){if(!g)throw Error(r(318));if(i=a.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[cr]=a}else Ec(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;or(a),i=!1}else f=vg(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=f),i=!0;if(!i)return a.flags&256?(Cs(a),a):(Cs(a),null);if((a.flags&128)!==0)throw Error(r(558))}return or(a),null;case 13:if(g=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(C=hu(a),g!==null&&g.dehydrated!==null){if(i===null){if(!C)throw Error(r(318));if(C=a.memoizedState,C=C!==null?C.dehydrated:null,!C)throw Error(r(317));C[cr]=a}else Ec(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;or(a),C=!1}else C=vg(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=C),C=!0;if(!C)return a.flags&256?(Cs(a),a):(Cs(a),null)}return Cs(a),(a.flags&128)!==0?(a.lanes=f,a):(f=g!==null,i=i!==null&&i.memoizedState!==null,f&&(g=a.child,C=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(C=g.alternate.memoizedState.cachePool.pool),_=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(_=g.memoizedState.cachePool.pool),_!==C&&(g.flags|=2048)),f!==i&&f&&(a.child.flags|=8192),vp(a,a.updateQueue),or(a),null);case 4:return nt(),i===null&&Om(a.stateNode.containerInfo),or(a),null;case 10:return Ca(a.type),or(a),null;case 19:if(ge(Br),g=a.memoizedState,g===null)return or(a),null;if(C=(a.flags&128)!==0,_=g.rendering,_===null)if(C)Qf(g,!1);else{if(Ar!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(_=ap(i),_!==null){for(a.flags|=128,Qf(g,!1),i=_.updateQueue,a.updateQueue=i,vp(a,i),a.subtreeFlags=0,i=f,f=a.child;f!==null;)wE(f,i),f=f.sibling;return me(Br,Br.current&1|2),bn&&ba(a,g.treeForkCount),a.child}i=i.sibling}g.tail!==null&&It()>Ap&&(a.flags|=128,C=!0,Qf(g,!1),a.lanes=4194304)}else{if(!C)if(i=ap(_),i!==null){if(a.flags|=128,C=!0,i=i.updateQueue,a.updateQueue=i,vp(a,i),Qf(g,!0),g.tail===null&&g.tailMode==="hidden"&&!_.alternate&&!bn)return or(a),null}else 2*It()-g.renderingStartTime>Ap&&f!==536870912&&(a.flags|=128,C=!0,Qf(g,!1),a.lanes=4194304);g.isBackwards?(_.sibling=a.child,a.child=_):(i=g.last,i!==null?i.sibling=_:a.child=_,g.last=_)}return g.tail!==null?(i=g.tail,g.rendering=i,g.tail=i.sibling,g.renderingStartTime=It(),i.sibling=null,f=Br.current,me(Br,C?f&1|2:f&1),bn&&ba(a,g.treeForkCount),i):(or(a),null);case 22:case 23:return Cs(a),Dg(),g=a.memoizedState!==null,i!==null?i.memoizedState!==null!==g&&(a.flags|=8192):g&&(a.flags|=8192),g?(f&536870912)!==0&&(a.flags&128)===0&&(or(a),a.subtreeFlags&6&&(a.flags|=8192)):or(a),f=a.updateQueue,f!==null&&vp(a,f.retryQueue),f=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(f=i.memoizedState.cachePool.pool),g=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(g=a.memoizedState.cachePool.pool),g!==f&&(a.flags|=2048),i!==null&&ge(wc),null;case 24:return f=null,i!==null&&(f=i.memoizedState.cache),a.memoizedState.cache!==f&&(a.flags|=2048),Ca(Hr),or(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function J4(i,a){switch(xg(a),a.tag){case 1:return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return Ca(Hr),nt(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 26:case 27:case 5:return dt(a),null;case 31:if(a.memoizedState!==null){if(Cs(a),a.alternate===null)throw Error(r(340));Ec()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 13:if(Cs(a),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(r(340));Ec()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return ge(Br),null;case 4:return nt(),null;case 10:return Ca(a.type),null;case 22:case 23:return Cs(a),Dg(),i!==null&&ge(wc),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 24:return Ca(Hr),null;case 25:return null;default:return null}}function Xv(i,a){switch(xg(a),a.tag){case 3:Ca(Hr),nt();break;case 26:case 27:case 5:dt(a);break;case 4:nt();break;case 31:a.memoizedState!==null&&Cs(a);break;case 13:Cs(a);break;case 19:ge(Br);break;case 10:Ca(a.type);break;case 22:case 23:Cs(a),Dg(),i!==null&&ge(wc);break;case 24:Ca(Hr)}}function Zf(i,a){try{var f=a.updateQueue,g=f!==null?f.lastEffect:null;if(g!==null){var C=g.next;f=C;do{if((f.tag&i)===i){g=void 0;var _=f.create,P=f.inst;g=_(),P.destroy=g}f=f.next}while(f!==C)}}catch(Q){Vn(a,a.return,Q)}}function vl(i,a,f){try{var g=a.updateQueue,C=g!==null?g.lastEffect:null;if(C!==null){var _=C.next;g=_;do{if((g.tag&i)===i){var P=g.inst,Q=P.destroy;if(Q!==void 0){P.destroy=void 0,C=a;var le=f,be=Q;try{be()}catch(Me){Vn(C,le,Me)}}}g=g.next}while(g!==_)}}catch(Me){Vn(a,a.return,Me)}}function Kv(i){var a=i.updateQueue;if(a!==null){var f=i.stateNode;try{VE(a,f)}catch(g){Vn(i,i.return,g)}}}function Qv(i,a,f){f.props=Tc(i.type,i.memoizedProps),f.state=i.memoizedState;try{f.componentWillUnmount()}catch(g){Vn(i,a,g)}}function Jf(i,a){try{var f=i.ref;if(f!==null){switch(i.tag){case 26:case 27:case 5:var g=i.stateNode;break;case 30:g=i.stateNode;break;default:g=i.stateNode}typeof f=="function"?i.refCleanup=f(g):f.current=g}}catch(C){Vn(i,a,C)}}function Lo(i,a){var f=i.ref,g=i.refCleanup;if(f!==null)if(typeof g=="function")try{g()}catch(C){Vn(i,a,C)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof f=="function")try{f(null)}catch(C){Vn(i,a,C)}else f.current=null}function Zv(i){var a=i.type,f=i.memoizedProps,g=i.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":f.autoFocus&&g.focus();break e;case"img":f.src?g.src=f.src:f.srcSet&&(g.srcset=f.srcSet)}}catch(C){Vn(i,i.return,C)}}function fm(i,a,f){try{var g=i.stateNode;bN(g,i.type,f,a),g[An]=a}catch(C){Vn(i,i.return,C)}}function Jv(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Tl(i.type)||i.tag===4}function dm(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Jv(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Tl(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function hm(i,a,f){var g=i.tag;if(g===5||g===6)i=i.stateNode,a?(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f).insertBefore(i,a):(a=f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,a.appendChild(i),f=f._reactRootContainer,f!=null||a.onclick!==null||(a.onclick=Ni));else if(g!==4&&(g===27&&Tl(i.type)&&(f=i.stateNode,a=null),i=i.child,i!==null))for(hm(i,a,f),i=i.sibling;i!==null;)hm(i,a,f),i=i.sibling}function bp(i,a,f){var g=i.tag;if(g===5||g===6)i=i.stateNode,a?f.insertBefore(i,a):f.appendChild(i);else if(g!==4&&(g===27&&Tl(i.type)&&(f=i.stateNode),i=i.child,i!==null))for(bp(i,a,f),i=i.sibling;i!==null;)bp(i,a,f),i=i.sibling}function eb(i){var a=i.stateNode,f=i.memoizedProps;try{for(var g=i.type,C=a.attributes;C.length;)a.removeAttributeNode(C[0]);wi(a,g,f),a[cr]=i,a[An]=f}catch(_){Vn(i,i.return,_)}}var Ia=!1,qr=!1,pm=!1,tb=typeof WeakSet=="function"?WeakSet:Set,ii=null;function eN(i,a){if(i=i.containerInfo,Pm=jp,i=$(i),X(i)){if("selectionStart"in i)var f={start:i.selectionStart,end:i.selectionEnd};else e:{f=(f=i.ownerDocument)&&f.defaultView||window;var g=f.getSelection&&f.getSelection();if(g&&g.rangeCount!==0){f=g.anchorNode;var C=g.anchorOffset,_=g.focusNode;g=g.focusOffset;try{f.nodeType,_.nodeType}catch{f=null;break e}var P=0,Q=-1,le=-1,be=0,Me=0,Le=i,Ce=null;t:for(;;){for(var Ie;Le!==f||C!==0&&Le.nodeType!==3||(Q=P+C),Le!==_||g!==0&&Le.nodeType!==3||(le=P+g),Le.nodeType===3&&(P+=Le.nodeValue.length),(Ie=Le.firstChild)!==null;)Ce=Le,Le=Ie;for(;;){if(Le===i)break t;if(Ce===f&&++be===C&&(Q=P),Ce===_&&++Me===g&&(le=P),(Ie=Le.nextSibling)!==null)break;Le=Ce,Ce=Le.parentNode}Le=Ie}f=Q===-1||le===-1?null:{start:Q,end:le}}else f=null}f=f||{start:0,end:0}}else f=null;for(km={focusedElem:i,selectionRange:f},jp=!1,ii=a;ii!==null;)if(a=ii,i=a.child,(a.subtreeFlags&1028)!==0&&i!==null)i.return=a,ii=i;else for(;ii!==null;){switch(a=ii,_=a.alternate,i=a.flags,a.tag){case 0:if((i&4)!==0&&(i=a.updateQueue,i=i!==null?i.events:null,i!==null))for(f=0;f<i.length;f++)C=i[f],C.ref.impl=C.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&_!==null){i=void 0,f=a,C=_.memoizedProps,_=_.memoizedState,g=f.stateNode;try{var gt=Tc(f.type,C);i=g.getSnapshotBeforeUpdate(gt,_),g.__reactInternalSnapshotBeforeUpdate=i}catch(Nt){Vn(f,f.return,Nt)}}break;case 3:if((i&1024)!==0){if(i=a.stateNode.containerInfo,f=i.nodeType,f===9)Fm(i);else if(f===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Fm(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=a.sibling,i!==null){i.return=a.return,ii=i;break}ii=a.return}}function nb(i,a,f){var g=f.flags;switch(f.tag){case 0:case 11:case 15:Na(i,f),g&4&&Zf(5,f);break;case 1:if(Na(i,f),g&4)if(i=f.stateNode,a===null)try{i.componentDidMount()}catch(P){Vn(f,f.return,P)}else{var C=Tc(f.type,a.memoizedProps);a=a.memoizedState;try{i.componentDidUpdate(C,a,i.__reactInternalSnapshotBeforeUpdate)}catch(P){Vn(f,f.return,P)}}g&64&&Kv(f),g&512&&Jf(f,f.return);break;case 3:if(Na(i,f),g&64&&(i=f.updateQueue,i!==null)){if(a=null,f.child!==null)switch(f.child.tag){case 27:case 5:a=f.child.stateNode;break;case 1:a=f.child.stateNode}try{VE(i,a)}catch(P){Vn(f,f.return,P)}}break;case 27:a===null&&g&4&&eb(f);case 26:case 5:Na(i,f),a===null&&g&4&&Zv(f),g&512&&Jf(f,f.return);break;case 12:Na(i,f);break;case 31:Na(i,f),g&4&&sb(i,f);break;case 13:Na(i,f),g&4&&ob(i,f),g&64&&(i=f.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(f=cN.bind(null,f),RN(i,f))));break;case 22:if(g=f.memoizedState!==null||Ia,!g){a=a!==null&&a.memoizedState!==null||qr,C=Ia;var _=qr;Ia=g,(qr=a)&&!_?Ma(i,f,(f.subtreeFlags&8772)!==0):Na(i,f),Ia=C,qr=_}break;case 30:break;default:Na(i,f)}}function rb(i){var a=i.alternate;a!==null&&(i.alternate=null,rb(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&pi(a)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var gr=null,ss=!1;function Ra(i,a,f){for(f=f.child;f!==null;)ib(i,a,f),f=f.sibling}function ib(i,a,f){if(ke&&typeof ke.onCommitFiberUnmount=="function")try{ke.onCommitFiberUnmount(wt,f)}catch{}switch(f.tag){case 26:qr||Lo(f,a),Ra(i,a,f),f.memoizedState?f.memoizedState.count--:f.stateNode&&(f=f.stateNode,f.parentNode.removeChild(f));break;case 27:qr||Lo(f,a);var g=gr,C=ss;Tl(f.type)&&(gr=f.stateNode,ss=!1),Ra(i,a,f),ld(f.stateNode),gr=g,ss=C;break;case 5:qr||Lo(f,a);case 6:if(g=gr,C=ss,gr=null,Ra(i,a,f),gr=g,ss=C,gr!==null)if(ss)try{(gr.nodeType===9?gr.body:gr.nodeName==="HTML"?gr.ownerDocument.body:gr).removeChild(f.stateNode)}catch(_){Vn(f,a,_)}else try{gr.removeChild(f.stateNode)}catch(_){Vn(f,a,_)}break;case 18:gr!==null&&(ss?(i=gr,Kb(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,f.stateNode),Lu(i)):Kb(gr,f.stateNode));break;case 4:g=gr,C=ss,gr=f.stateNode.containerInfo,ss=!0,Ra(i,a,f),gr=g,ss=C;break;case 0:case 11:case 14:case 15:vl(2,f,a),qr||vl(4,f,a),Ra(i,a,f);break;case 1:qr||(Lo(f,a),g=f.stateNode,typeof g.componentWillUnmount=="function"&&Qv(f,a,g)),Ra(i,a,f);break;case 21:Ra(i,a,f);break;case 22:qr=(g=qr)||f.memoizedState!==null,Ra(i,a,f),qr=g;break;default:Ra(i,a,f)}}function sb(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Lu(i)}catch(f){Vn(a,a.return,f)}}}function ob(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Lu(i)}catch(f){Vn(a,a.return,f)}}function tN(i){switch(i.tag){case 31:case 13:case 19:var a=i.stateNode;return a===null&&(a=i.stateNode=new tb),a;case 22:return i=i.stateNode,a=i._retryCache,a===null&&(a=i._retryCache=new tb),a;default:throw Error(r(435,i.tag))}}function wp(i,a){var f=tN(i);a.forEach(function(g){if(!f.has(g)){f.add(g);var C=uN.bind(null,i,g);g.then(C,C)}})}function os(i,a){var f=a.deletions;if(f!==null)for(var g=0;g<f.length;g++){var C=f[g],_=i,P=a,Q=P;e:for(;Q!==null;){switch(Q.tag){case 27:if(Tl(Q.type)){gr=Q.stateNode,ss=!1;break e}break;case 5:gr=Q.stateNode,ss=!1;break e;case 3:case 4:gr=Q.stateNode.containerInfo,ss=!0;break e}Q=Q.return}if(gr===null)throw Error(r(160));ib(_,P,C),gr=null,ss=!1,_=C.alternate,_!==null&&(_.return=null),C.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)ab(a,i),a=a.sibling}var fo=null;function ab(i,a){var f=i.alternate,g=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:os(a,i),as(i),g&4&&(vl(3,i,i.return),Zf(3,i),vl(5,i,i.return));break;case 1:os(a,i),as(i),g&512&&(qr||f===null||Lo(f,f.return)),g&64&&Ia&&(i=i.updateQueue,i!==null&&(g=i.callbacks,g!==null&&(f=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=f===null?g:f.concat(g))));break;case 26:var C=fo;if(os(a,i),as(i),g&512&&(qr||f===null||Lo(f,f.return)),g&4){var _=f!==null?f.memoizedState:null;if(g=i.memoizedState,f===null)if(g===null)if(i.stateNode===null){e:{g=i.type,f=i.memoizedProps,C=C.ownerDocument||C;t:switch(g){case"title":_=C.getElementsByTagName("title")[0],(!_||_[Bs]||_[cr]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=C.createElement(g),C.head.insertBefore(_,C.querySelector("head > title"))),wi(_,g,f),_[cr]=i,ur(_),g=_;break e;case"link":var P=aw("link","href",C).get(g+(f.href||""));if(P){for(var Q=0;Q<P.length;Q++)if(_=P[Q],_.getAttribute("href")===(f.href==null||f.href===""?null:f.href)&&_.getAttribute("rel")===(f.rel==null?null:f.rel)&&_.getAttribute("title")===(f.title==null?null:f.title)&&_.getAttribute("crossorigin")===(f.crossOrigin==null?null:f.crossOrigin)){P.splice(Q,1);break t}}_=C.createElement(g),wi(_,g,f),C.head.appendChild(_);break;case"meta":if(P=aw("meta","content",C).get(g+(f.content||""))){for(Q=0;Q<P.length;Q++)if(_=P[Q],_.getAttribute("content")===(f.content==null?null:""+f.content)&&_.getAttribute("name")===(f.name==null?null:f.name)&&_.getAttribute("property")===(f.property==null?null:f.property)&&_.getAttribute("http-equiv")===(f.httpEquiv==null?null:f.httpEquiv)&&_.getAttribute("charset")===(f.charSet==null?null:f.charSet)){P.splice(Q,1);break t}}_=C.createElement(g),wi(_,g,f),C.head.appendChild(_);break;default:throw Error(r(468,g))}_[cr]=i,ur(_),g=_}i.stateNode=g}else lw(C,i.type,i.stateNode);else i.stateNode=ow(C,g,i.memoizedProps);else _!==g?(_===null?f.stateNode!==null&&(f=f.stateNode,f.parentNode.removeChild(f)):_.count--,g===null?lw(C,i.type,i.stateNode):ow(C,g,i.memoizedProps)):g===null&&i.stateNode!==null&&fm(i,i.memoizedProps,f.memoizedProps)}break;case 27:os(a,i),as(i),g&512&&(qr||f===null||Lo(f,f.return)),f!==null&&g&4&&fm(i,i.memoizedProps,f.memoizedProps);break;case 5:if(os(a,i),as(i),g&512&&(qr||f===null||Lo(f,f.return)),i.flags&32){C=i.stateNode;try{Ri(C,"")}catch(gt){Vn(i,i.return,gt)}}g&4&&i.stateNode!=null&&(C=i.memoizedProps,fm(i,C,f!==null?f.memoizedProps:C)),g&1024&&(pm=!0);break;case 6:if(os(a,i),as(i),g&4){if(i.stateNode===null)throw Error(r(162));g=i.memoizedProps,f=i.stateNode;try{f.nodeValue=g}catch(gt){Vn(i,i.return,gt)}}break;case 3:if(Up=null,C=fo,fo=kp(a.containerInfo),os(a,i),fo=C,as(i),g&4&&f!==null&&f.memoizedState.isDehydrated)try{Lu(a.containerInfo)}catch(gt){Vn(i,i.return,gt)}pm&&(pm=!1,lb(i));break;case 4:g=fo,fo=kp(i.stateNode.containerInfo),os(a,i),as(i),fo=g;break;case 12:os(a,i),as(i);break;case 31:os(a,i),as(i),g&4&&(g=i.updateQueue,g!==null&&(i.updateQueue=null,wp(i,g)));break;case 13:os(a,i),as(i),i.child.flags&8192&&i.memoizedState!==null!=(f!==null&&f.memoizedState!==null)&&(Sp=It()),g&4&&(g=i.updateQueue,g!==null&&(i.updateQueue=null,wp(i,g)));break;case 22:C=i.memoizedState!==null;var le=f!==null&&f.memoizedState!==null,be=Ia,Me=qr;if(Ia=be||C,qr=Me||le,os(a,i),qr=Me,Ia=be,as(i),g&8192)e:for(a=i.stateNode,a._visibility=C?a._visibility&-2:a._visibility|1,C&&(f===null||le||Ia||qr||Ic(i)),f=null,a=i;;){if(a.tag===5||a.tag===26){if(f===null){le=f=a;try{if(_=le.stateNode,C)P=_.style,typeof P.setProperty=="function"?P.setProperty("display","none","important"):P.display="none";else{Q=le.stateNode;var Le=le.memoizedProps.style,Ce=Le!=null&&Le.hasOwnProperty("display")?Le.display:null;Q.style.display=Ce==null||typeof Ce=="boolean"?"":(""+Ce).trim()}}catch(gt){Vn(le,le.return,gt)}}}else if(a.tag===6){if(f===null){le=a;try{le.stateNode.nodeValue=C?"":le.memoizedProps}catch(gt){Vn(le,le.return,gt)}}}else if(a.tag===18){if(f===null){le=a;try{var Ie=le.stateNode;C?Qb(Ie,!0):Qb(le.stateNode,!1)}catch(gt){Vn(le,le.return,gt)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===i)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break e;for(;a.sibling===null;){if(a.return===null||a.return===i)break e;f===a&&(f=null),a=a.return}f===a&&(f=null),a.sibling.return=a.return,a=a.sibling}g&4&&(g=i.updateQueue,g!==null&&(f=g.retryQueue,f!==null&&(g.retryQueue=null,wp(i,f))));break;case 19:os(a,i),as(i),g&4&&(g=i.updateQueue,g!==null&&(i.updateQueue=null,wp(i,g)));break;case 30:break;case 21:break;default:os(a,i),as(i)}}function as(i){var a=i.flags;if(a&2){try{for(var f,g=i.return;g!==null;){if(Jv(g)){f=g;break}g=g.return}if(f==null)throw Error(r(160));switch(f.tag){case 27:var C=f.stateNode,_=dm(i);bp(i,_,C);break;case 5:var P=f.stateNode;f.flags&32&&(Ri(P,""),f.flags&=-33);var Q=dm(i);bp(i,Q,P);break;case 3:case 4:var le=f.stateNode.containerInfo,be=dm(i);hm(i,be,le);break;default:throw Error(r(161))}}catch(Me){Vn(i,i.return,Me)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function lb(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var a=i;lb(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),i=i.sibling}}function Na(i,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)nb(i,a.alternate,a),a=a.sibling}function Ic(i){for(i=i.child;i!==null;){var a=i;switch(a.tag){case 0:case 11:case 14:case 15:vl(4,a,a.return),Ic(a);break;case 1:Lo(a,a.return);var f=a.stateNode;typeof f.componentWillUnmount=="function"&&Qv(a,a.return,f),Ic(a);break;case 27:ld(a.stateNode);case 26:case 5:Lo(a,a.return),Ic(a);break;case 22:a.memoizedState===null&&Ic(a);break;case 30:Ic(a);break;default:Ic(a)}i=i.sibling}}function Ma(i,a,f){for(f=f&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var g=a.alternate,C=i,_=a,P=_.flags;switch(_.tag){case 0:case 11:case 15:Ma(C,_,f),Zf(4,_);break;case 1:if(Ma(C,_,f),g=_,C=g.stateNode,typeof C.componentDidMount=="function")try{C.componentDidMount()}catch(be){Vn(g,g.return,be)}if(g=_,C=g.updateQueue,C!==null){var Q=g.stateNode;try{var le=C.shared.hiddenCallbacks;if(le!==null)for(C.shared.hiddenCallbacks=null,C=0;C<le.length;C++)FE(le[C],Q)}catch(be){Vn(g,g.return,be)}}f&&P&64&&Kv(_),Jf(_,_.return);break;case 27:eb(_);case 26:case 5:Ma(C,_,f),f&&g===null&&P&4&&Zv(_),Jf(_,_.return);break;case 12:Ma(C,_,f);break;case 31:Ma(C,_,f),f&&P&4&&sb(C,_);break;case 13:Ma(C,_,f),f&&P&4&&ob(C,_);break;case 22:_.memoizedState===null&&Ma(C,_,f),Jf(_,_.return);break;case 30:break;default:Ma(C,_,f)}a=a.sibling}}function gm(i,a){var f=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(f=i.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==f&&(i!=null&&i.refCount++,f!=null&&Ff(f))}function mm(i,a){i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&Ff(i))}function ho(i,a,f,g){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)cb(i,a,f,g),a=a.sibling}function cb(i,a,f,g){var C=a.flags;switch(a.tag){case 0:case 11:case 15:ho(i,a,f,g),C&2048&&Zf(9,a);break;case 1:ho(i,a,f,g);break;case 3:ho(i,a,f,g),C&2048&&(i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&Ff(i)));break;case 12:if(C&2048){ho(i,a,f,g),i=a.stateNode;try{var _=a.memoizedProps,P=_.id,Q=_.onPostCommit;typeof Q=="function"&&Q(P,a.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(le){Vn(a,a.return,le)}}else ho(i,a,f,g);break;case 31:ho(i,a,f,g);break;case 13:ho(i,a,f,g);break;case 23:break;case 22:_=a.stateNode,P=a.alternate,a.memoizedState!==null?_._visibility&2?ho(i,a,f,g):ed(i,a):_._visibility&2?ho(i,a,f,g):(_._visibility|=2,Cu(i,a,f,g,(a.subtreeFlags&10256)!==0||!1)),C&2048&&gm(P,a);break;case 24:ho(i,a,f,g),C&2048&&mm(a.alternate,a);break;default:ho(i,a,f,g)}}function Cu(i,a,f,g,C){for(C=C&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var _=i,P=a,Q=f,le=g,be=P.flags;switch(P.tag){case 0:case 11:case 15:Cu(_,P,Q,le,C),Zf(8,P);break;case 23:break;case 22:var Me=P.stateNode;P.memoizedState!==null?Me._visibility&2?Cu(_,P,Q,le,C):ed(_,P):(Me._visibility|=2,Cu(_,P,Q,le,C)),C&&be&2048&&gm(P.alternate,P);break;case 24:Cu(_,P,Q,le,C),C&&be&2048&&mm(P.alternate,P);break;default:Cu(_,P,Q,le,C)}a=a.sibling}}function ed(i,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var f=i,g=a,C=g.flags;switch(g.tag){case 22:ed(f,g),C&2048&&gm(g.alternate,g);break;case 24:ed(f,g),C&2048&&mm(g.alternate,g);break;default:ed(f,g)}a=a.sibling}}var td=8192;function Su(i,a,f){if(i.subtreeFlags&td)for(i=i.child;i!==null;)ub(i,a,f),i=i.sibling}function ub(i,a,f){switch(i.tag){case 26:Su(i,a,f),i.flags&td&&i.memoizedState!==null&&zN(f,fo,i.memoizedState,i.memoizedProps);break;case 5:Su(i,a,f);break;case 3:case 4:var g=fo;fo=kp(i.stateNode.containerInfo),Su(i,a,f),fo=g;break;case 22:i.memoizedState===null&&(g=i.alternate,g!==null&&g.memoizedState!==null?(g=td,td=16777216,Su(i,a,f),td=g):Su(i,a,f));break;default:Su(i,a,f)}}function fb(i){var a=i.alternate;if(a!==null&&(i=a.child,i!==null)){a.child=null;do a=i.sibling,i.sibling=null,i=a;while(i!==null)}}function nd(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var f=0;f<a.length;f++){var g=a[f];ii=g,hb(g,i)}fb(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)db(i),i=i.sibling}function db(i){switch(i.tag){case 0:case 11:case 15:nd(i),i.flags&2048&&vl(9,i,i.return);break;case 3:nd(i);break;case 12:nd(i);break;case 22:var a=i.stateNode;i.memoizedState!==null&&a._visibility&2&&(i.return===null||i.return.tag!==13)?(a._visibility&=-3,Cp(i)):nd(i);break;default:nd(i)}}function Cp(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var f=0;f<a.length;f++){var g=a[f];ii=g,hb(g,i)}fb(i)}for(i=i.child;i!==null;){switch(a=i,a.tag){case 0:case 11:case 15:vl(8,a,a.return),Cp(a);break;case 22:f=a.stateNode,f._visibility&2&&(f._visibility&=-3,Cp(a));break;default:Cp(a)}i=i.sibling}}function hb(i,a){for(;ii!==null;){var f=ii;switch(f.tag){case 0:case 11:case 15:vl(8,f,a);break;case 23:case 22:if(f.memoizedState!==null&&f.memoizedState.cachePool!==null){var g=f.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:Ff(f.memoizedState.cache)}if(g=f.child,g!==null)g.return=f,ii=g;else e:for(f=i;ii!==null;){g=ii;var C=g.sibling,_=g.return;if(rb(g),g===f){ii=null;break e}if(C!==null){C.return=_,ii=C;break e}ii=_}}}var nN={getCacheForType:function(i){var a=vi(Hr),f=a.data.get(i);return f===void 0&&(f=i(),a.data.set(i,f)),f},cacheSignal:function(){return vi(Hr).controller.signal}},rN=typeof WeakMap=="function"?WeakMap:Map,Mn=0,Zn=null,sn=null,gn=0,Fn=0,Ss=null,bl=!1,Au=!1,ym=!1,Oa=0,Ar=0,wl=0,Rc=0,xm=0,As=0,_u=0,rd=null,ls=null,Em=!1,Sp=0,pb=0,Ap=1/0,_p=null,Cl=null,Jr=0,Sl=null,Tu=null,Da=0,vm=0,bm=null,gb=null,id=0,wm=null;function _s(){return(Mn&2)!==0&&gn!==0?gn&-gn:ie.T!==null?Im():di()}function mb(){if(As===0)if((gn&536870912)===0||bn){var i=Wt;Wt<<=1,(Wt&3932160)===0&&(Wt=262144),As=i}else As=536870912;return i=ws.current,i!==null&&(i.flags|=32),As}function cs(i,a,f){(i===Zn&&(Fn===2||Fn===9)||i.cancelPendingCommit!==null)&&(Iu(i,0),Al(i,gn,As,!1)),ks(i,f),((Mn&2)===0||i!==Zn)&&(i===Zn&&((Mn&2)===0&&(Rc|=f),Ar===4&&Al(i,gn,As,!1)),Po(i))}function yb(i,a,f){if((Mn&6)!==0)throw Error(r(327));var g=!f&&(a&127)===0&&(a&i.expiredLanes)===0||$n(i,a),C=g?oN(i,a):Sm(i,a,!0),_=g;do{if(C===0){Au&&!g&&Al(i,a,0,!1);break}else{if(f=i.current.alternate,_&&!iN(f)){C=Sm(i,a,!1),_=!1;continue}if(C===2){if(_=a,i.errorRecoveryDisabledLanes&_)var P=0;else P=i.pendingLanes&-536870913,P=P!==0?P:P&536870912?536870912:0;if(P!==0){a=P;e:{var Q=i;C=rd;var le=Q.current.memoizedState.isDehydrated;if(le&&(Iu(Q,P).flags|=256),P=Sm(Q,P,!1),P!==2){if(ym&&!le){Q.errorRecoveryDisabledLanes|=_,Rc|=_,C=4;break e}_=ls,ls=C,_!==null&&(ls===null?ls=_:ls.push.apply(ls,_))}C=P}if(_=!1,C!==2)continue}}if(C===1){Iu(i,0),Al(i,a,0,!0);break}e:{switch(g=i,_=C,_){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:Al(g,a,As,!bl);break e;case 2:ls=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(C=Sp+300-It(),10<C)){if(Al(g,a,As,!bl),li(g,0,!0)!==0)break e;Da=a,g.timeoutHandle=Yb(xb.bind(null,g,f,ls,_p,Em,a,As,Rc,_u,bl,_,"Throttled",-0,0),C);break e}xb(g,f,ls,_p,Em,a,As,Rc,_u,bl,_,null,-0,0)}}break}while(!0);Po(i)}function xb(i,a,f,g,C,_,P,Q,le,be,Me,Le,Ce,Ie){if(i.timeoutHandle=-1,Le=a.subtreeFlags,Le&8192||(Le&16785408)===16785408){Le={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ni},ub(a,_,Le);var gt=(_&62914560)===_?Sp-It():(_&4194048)===_?pb-It():0;if(gt=jN(Le,gt),gt!==null){Da=_,i.cancelPendingCommit=gt(_b.bind(null,i,a,_,f,g,C,P,Q,le,Me,Le,null,Ce,Ie)),Al(i,_,P,!be);return}}_b(i,a,_,f,g,C,P,Q,le)}function iN(i){for(var a=i;;){var f=a.tag;if((f===0||f===11||f===15)&&a.flags&16384&&(f=a.updateQueue,f!==null&&(f=f.stores,f!==null)))for(var g=0;g<f.length;g++){var C=f[g],_=C.getSnapshot;C=C.value;try{if(!y(_(),C))return!1}catch{return!1}}if(f=a.child,a.subtreeFlags&16384&&f!==null)f.return=a,a=f;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Al(i,a,f,g){a&=~xm,a&=~Rc,i.suspendedLanes|=a,i.pingedLanes&=~a,g&&(i.warmLanes|=a),g=i.expirationTimes;for(var C=a;0<C;){var _=31-Je(C),P=1<<_;g[_]=-1,C&=~P}f!==0&&aa(i,f,a)}function Tp(){return(Mn&6)===0?(sd(0),!1):!0}function Cm(){if(sn!==null){if(Fn===0)var i=sn.return;else i=sn,wa=vc=null,Fg(i),xu=null,zf=0,i=sn;for(;i!==null;)Xv(i.alternate,i),i=i.return;sn=null}}function Iu(i,a){var f=i.timeoutHandle;f!==-1&&(i.timeoutHandle=-1,SN(f)),f=i.cancelPendingCommit,f!==null&&(i.cancelPendingCommit=null,f()),Da=0,Cm(),Zn=i,sn=f=va(i.current,null),gn=a,Fn=0,Ss=null,bl=!1,Au=$n(i,a),ym=!1,_u=As=xm=Rc=wl=Ar=0,ls=rd=null,Em=!1,(a&8)!==0&&(a|=a&32);var g=i.entangledLanes;if(g!==0)for(i=i.entanglements,g&=a;0<g;){var C=31-Je(g),_=1<<C;a|=i[C],g&=~_}return Oa=a,Yh(),f}function Eb(i,a){qt=null,ie.H=Xf,a===yu||a===np?(a=PE(),Fn=3):a===Tg?(a=PE(),Fn=4):Fn=a===tm?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Ss=a,sn===null&&(Ar=1,mp(i,qs(a,i.current)))}function vb(){var i=ws.current;return i===null?!0:(gn&4194048)===gn?Ks===null:(gn&62914560)===gn||(gn&536870912)!==0?i===Ks:!1}function bb(){var i=ie.H;return ie.H=Xf,i===null?Xf:i}function wb(){var i=ie.A;return ie.A=nN,i}function Ip(){Ar=4,bl||(gn&4194048)!==gn&&ws.current!==null||(Au=!0),(wl&134217727)===0&&(Rc&134217727)===0||Zn===null||Al(Zn,gn,As,!1)}function Sm(i,a,f){var g=Mn;Mn|=2;var C=bb(),_=wb();(Zn!==i||gn!==a)&&(_p=null,Iu(i,a)),a=!1;var P=Ar;e:do try{if(Fn!==0&&sn!==null){var Q=sn,le=Ss;switch(Fn){case 8:Cm(),P=6;break e;case 3:case 2:case 9:case 6:ws.current===null&&(a=!0);var be=Fn;if(Fn=0,Ss=null,Ru(i,Q,le,be),f&&Au){P=0;break e}break;default:be=Fn,Fn=0,Ss=null,Ru(i,Q,le,be)}}sN(),P=Ar;break}catch(Me){Eb(i,Me)}while(!0);return a&&i.shellSuspendCounter++,wa=vc=null,Mn=g,ie.H=C,ie.A=_,sn===null&&(Zn=null,gn=0,Yh()),P}function sN(){for(;sn!==null;)Cb(sn)}function oN(i,a){var f=Mn;Mn|=2;var g=bb(),C=wb();Zn!==i||gn!==a?(_p=null,Ap=It()+500,Iu(i,a)):Au=$n(i,a);e:do try{if(Fn!==0&&sn!==null){a=sn;var _=Ss;t:switch(Fn){case 1:Fn=0,Ss=null,Ru(i,a,_,1);break;case 2:case 9:if(DE(_)){Fn=0,Ss=null,Sb(a);break}a=function(){Fn!==2&&Fn!==9||Zn!==i||(Fn=7),Po(i)},_.then(a,a);break e;case 3:Fn=7;break e;case 4:Fn=5;break e;case 7:DE(_)?(Fn=0,Ss=null,Sb(a)):(Fn=0,Ss=null,Ru(i,a,_,7));break;case 5:var P=null;switch(sn.tag){case 26:P=sn.memoizedState;case 5:case 27:var Q=sn;if(P?cw(P):Q.stateNode.complete){Fn=0,Ss=null;var le=Q.sibling;if(le!==null)sn=le;else{var be=Q.return;be!==null?(sn=be,Rp(be)):sn=null}break t}}Fn=0,Ss=null,Ru(i,a,_,5);break;case 6:Fn=0,Ss=null,Ru(i,a,_,6);break;case 8:Cm(),Ar=6;break e;default:throw Error(r(462))}}aN();break}catch(Me){Eb(i,Me)}while(!0);return wa=vc=null,ie.H=g,ie.A=C,Mn=f,sn!==null?0:(Zn=null,gn=0,Yh(),Ar)}function aN(){for(;sn!==null&&!lt();)Cb(sn)}function Cb(i){var a=Wv(i.alternate,i,Oa);i.memoizedProps=i.pendingProps,a===null?Rp(i):sn=a}function Sb(i){var a=i,f=a.alternate;switch(a.tag){case 15:case 0:a=zv(f,a,a.pendingProps,a.type,void 0,gn);break;case 11:a=zv(f,a,a.pendingProps,a.type.render,a.ref,gn);break;case 5:Fg(a);default:Xv(f,a),a=sn=wE(a,Oa),a=Wv(f,a,Oa)}i.memoizedProps=i.pendingProps,a===null?Rp(i):sn=a}function Ru(i,a,f,g){wa=vc=null,Fg(a),xu=null,zf=0;var C=a.return;try{if(X4(i,C,a,f,gn)){Ar=1,mp(i,qs(f,i.current)),sn=null;return}}catch(_){if(C!==null)throw sn=C,_;Ar=1,mp(i,qs(f,i.current)),sn=null;return}a.flags&32768?(bn||g===1?i=!0:Au||(gn&536870912)!==0?i=!1:(bl=i=!0,(g===2||g===9||g===3||g===6)&&(g=ws.current,g!==null&&g.tag===13&&(g.flags|=16384))),Ab(a,i)):Rp(a)}function Rp(i){var a=i;do{if((a.flags&32768)!==0){Ab(a,bl);return}i=a.return;var f=Z4(a.alternate,a,Oa);if(f!==null){sn=f;return}if(a=a.sibling,a!==null){sn=a;return}sn=a=i}while(a!==null);Ar===0&&(Ar=5)}function Ab(i,a){do{var f=J4(i.alternate,i);if(f!==null){f.flags&=32767,sn=f;return}if(f=i.return,f!==null&&(f.flags|=32768,f.subtreeFlags=0,f.deletions=null),!a&&(i=i.sibling,i!==null)){sn=i;return}sn=i=f}while(i!==null);Ar=6,sn=null}function _b(i,a,f,g,C,_,P,Q,le){i.cancelPendingCommit=null;do Np();while(Jr!==0);if((Mn&6)!==0)throw Error(r(327));if(a!==null){if(a===i.current)throw Error(r(177));if(_=a.lanes|a.childLanes,_|=dg,Ji(i,f,_,P,Q,le),i===Zn&&(sn=Zn=null,gn=0),Tu=a,Sl=i,Da=f,vm=_,bm=C,gb=g,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,fN(ct,function(){return Mb(),null})):(i.callbackNode=null,i.callbackPriority=0),g=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||g){g=ie.T,ie.T=null,C=he.p,he.p=2,P=Mn,Mn|=4;try{eN(i,a,f)}finally{Mn=P,he.p=C,ie.T=g}}Jr=1,Tb(),Ib(),Rb()}}function Tb(){if(Jr===1){Jr=0;var i=Sl,a=Tu,f=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||f){f=ie.T,ie.T=null;var g=he.p;he.p=2;var C=Mn;Mn|=4;try{ab(a,i);var _=km,P=$(i.containerInfo),Q=_.focusedElem,le=_.selectionRange;if(P!==Q&&Q&&Q.ownerDocument&&D(Q.ownerDocument.documentElement,Q)){if(le!==null&&X(Q)){var be=le.start,Me=le.end;if(Me===void 0&&(Me=be),"selectionStart"in Q)Q.selectionStart=be,Q.selectionEnd=Math.min(Me,Q.value.length);else{var Le=Q.ownerDocument||document,Ce=Le&&Le.defaultView||window;if(Ce.getSelection){var Ie=Ce.getSelection(),gt=Q.textContent.length,Nt=Math.min(le.start,gt),Yn=le.end===void 0?Nt:Math.min(le.end,gt);!Ie.extend&&Nt>Yn&&(P=Yn,Yn=Nt,Nt=P);var pe=T(Q,Nt),de=T(Q,Yn);if(pe&&de&&(Ie.rangeCount!==1||Ie.anchorNode!==pe.node||Ie.anchorOffset!==pe.offset||Ie.focusNode!==de.node||Ie.focusOffset!==de.offset)){var ve=Le.createRange();ve.setStart(pe.node,pe.offset),Ie.removeAllRanges(),Nt>Yn?(Ie.addRange(ve),Ie.extend(de.node,de.offset)):(ve.setEnd(de.node,de.offset),Ie.addRange(ve))}}}}for(Le=[],Ie=Q;Ie=Ie.parentNode;)Ie.nodeType===1&&Le.push({element:Ie,left:Ie.scrollLeft,top:Ie.scrollTop});for(typeof Q.focus=="function"&&Q.focus(),Q=0;Q<Le.length;Q++){var De=Le[Q];De.element.scrollLeft=De.left,De.element.scrollTop=De.top}}jp=!!Pm,km=Pm=null}finally{Mn=C,he.p=g,ie.T=f}}i.current=a,Jr=2}}function Ib(){if(Jr===2){Jr=0;var i=Sl,a=Tu,f=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||f){f=ie.T,ie.T=null;var g=he.p;he.p=2;var C=Mn;Mn|=4;try{nb(i,a.alternate,a)}finally{Mn=C,he.p=g,ie.T=f}}Jr=3}}function Rb(){if(Jr===4||Jr===3){Jr=0,rr();var i=Sl,a=Tu,f=Da,g=gb;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Jr=5:(Jr=0,Tu=Sl=null,Nb(i,i.pendingLanes));var C=i.pendingLanes;if(C===0&&(Cl=null),fi(f),a=a.stateNode,ke&&typeof ke.onCommitFiberRoot=="function")try{ke.onCommitFiberRoot(wt,a,void 0,(a.current.flags&128)===128)}catch{}if(g!==null){a=ie.T,C=he.p,he.p=2,ie.T=null;try{for(var _=i.onRecoverableError,P=0;P<g.length;P++){var Q=g[P];_(Q.value,{componentStack:Q.stack})}}finally{ie.T=a,he.p=C}}(Da&3)!==0&&Np(),Po(i),C=i.pendingLanes,(f&261930)!==0&&(C&42)!==0?i===wm?id++:(id=0,wm=i):id=0,sd(0)}}function Nb(i,a){(i.pooledCacheLanes&=a)===0&&(a=i.pooledCache,a!=null&&(i.pooledCache=null,Ff(a)))}function Np(){return Tb(),Ib(),Rb(),Mb()}function Mb(){if(Jr!==5)return!1;var i=Sl,a=vm;vm=0;var f=fi(Da),g=ie.T,C=he.p;try{he.p=32>f?32:f,ie.T=null,f=bm,bm=null;var _=Sl,P=Da;if(Jr=0,Tu=Sl=null,Da=0,(Mn&6)!==0)throw Error(r(331));var Q=Mn;if(Mn|=4,db(_.current),cb(_,_.current,P,f),Mn=Q,sd(0,!1),ke&&typeof ke.onPostCommitFiberRoot=="function")try{ke.onPostCommitFiberRoot(wt,_)}catch{}return!0}finally{he.p=C,ie.T=g,Nb(i,a)}}function Ob(i,a,f){a=qs(f,a),a=em(i.stateNode,a,2),i=yl(i,a,2),i!==null&&(ks(i,2),Po(i))}function Vn(i,a,f){if(i.tag===3)Ob(i,i,f);else for(;a!==null;){if(a.tag===3){Ob(a,i,f);break}else if(a.tag===1){var g=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Cl===null||!Cl.has(g))){i=qs(f,i),f=Dv(2),g=yl(a,f,2),g!==null&&(Lv(f,g,a,i),ks(g,2),Po(g));break}}a=a.return}}function Am(i,a,f){var g=i.pingCache;if(g===null){g=i.pingCache=new rN;var C=new Set;g.set(a,C)}else C=g.get(a),C===void 0&&(C=new Set,g.set(a,C));C.has(f)||(ym=!0,C.add(f),i=lN.bind(null,i,a,f),a.then(i,i))}function lN(i,a,f){var g=i.pingCache;g!==null&&g.delete(a),i.pingedLanes|=i.suspendedLanes&f,i.warmLanes&=~f,Zn===i&&(gn&f)===f&&(Ar===4||Ar===3&&(gn&62914560)===gn&&300>It()-Sp?(Mn&2)===0&&Iu(i,0):xm|=f,_u===gn&&(_u=0)),Po(i)}function Db(i,a){a===0&&(a=Pr()),i=yc(i,a),i!==null&&(ks(i,a),Po(i))}function cN(i){var a=i.memoizedState,f=0;a!==null&&(f=a.retryLane),Db(i,f)}function uN(i,a){var f=0;switch(i.tag){case 31:case 13:var g=i.stateNode,C=i.memoizedState;C!==null&&(f=C.retryLane);break;case 19:g=i.stateNode;break;case 22:g=i.stateNode._retryCache;break;default:throw Error(r(314))}g!==null&&g.delete(a),Db(i,f)}function fN(i,a){return Ot(i,a)}var Mp=null,Nu=null,_m=!1,Op=!1,Tm=!1,_l=0;function Po(i){i!==Nu&&i.next===null&&(Nu===null?Mp=Nu=i:Nu=Nu.next=i),Op=!0,_m||(_m=!0,hN())}function sd(i,a){if(!Tm&&Op){Tm=!0;do for(var f=!1,g=Mp;g!==null;){if(i!==0){var C=g.pendingLanes;if(C===0)var _=0;else{var P=g.suspendedLanes,Q=g.pingedLanes;_=(1<<31-Je(42|i)+1)-1,_&=C&~(P&~Q),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(f=!0,Bb(g,_))}else _=gn,_=li(g,g===Zn?_:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(_&3)===0||$n(g,_)||(f=!0,Bb(g,_));g=g.next}while(f);Tm=!1}}function dN(){Lb()}function Lb(){Op=_m=!1;var i=0;_l!==0&&CN()&&(i=_l);for(var a=It(),f=null,g=Mp;g!==null;){var C=g.next,_=Pb(g,a);_===0?(g.next=null,f===null?Mp=C:f.next=C,C===null&&(Nu=f)):(f=g,(i!==0||(_&3)!==0)&&(Op=!0)),g=C}Jr!==0&&Jr!==5||sd(i),_l!==0&&(_l=0)}function Pb(i,a){for(var f=i.suspendedLanes,g=i.pingedLanes,C=i.expirationTimes,_=i.pendingLanes&-62914561;0<_;){var P=31-Je(_),Q=1<<P,le=C[P];le===-1?((Q&f)===0||(Q&g)!==0)&&(C[P]=ci(Q,a)):le<=a&&(i.expiredLanes|=Q),_&=~Q}if(a=Zn,f=gn,f=li(i,i===a?f:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),g=i.callbackNode,f===0||i===a&&(Fn===2||Fn===9)||i.cancelPendingCommit!==null)return g!==null&&g!==null&&je(g),i.callbackNode=null,i.callbackPriority=0;if((f&3)===0||$n(i,f)){if(a=f&-f,a===i.callbackPriority)return a;switch(g!==null&&je(g),fi(f)){case 2:case 8:f=it;break;case 32:f=ct;break;case 268435456:f=bt;break;default:f=ct}return g=kb.bind(null,i),f=Ot(f,g),i.callbackPriority=a,i.callbackNode=f,a}return g!==null&&g!==null&&je(g),i.callbackPriority=2,i.callbackNode=null,2}function kb(i,a){if(Jr!==0&&Jr!==5)return i.callbackNode=null,i.callbackPriority=0,null;var f=i.callbackNode;if(Np()&&i.callbackNode!==f)return null;var g=gn;return g=li(i,i===Zn?g:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),g===0?null:(yb(i,g,a),Pb(i,It()),i.callbackNode!=null&&i.callbackNode===f?kb.bind(null,i):null)}function Bb(i,a){if(Np())return null;yb(i,a,!0)}function hN(){AN(function(){(Mn&6)!==0?Ot(Ve,dN):Lb()})}function Im(){if(_l===0){var i=gu;i===0&&(i=ai,ai<<=1,(ai&261888)===0&&(ai=256)),_l=i}return _l}function Ub(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Io(""+i)}function Fb(i,a){var f=a.ownerDocument.createElement("input");return f.name=a.name,f.value=a.value,i.id&&f.setAttribute("form",i.id),a.parentNode.insertBefore(f,a),i=new FormData(i),f.parentNode.removeChild(f),i}function pN(i,a,f,g,C){if(a==="submit"&&f&&f.stateNode===C){var _=Ub((C[An]||null).action),P=g.submitter;P&&(a=(a=P[An]||null)?Ub(a.formAction):P.getAttribute("formAction"),a!==null&&(_=a,P=null));var Q=new ir("action","action",null,g,C);i.push({event:Q,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(_l!==0){var le=P?Fb(C,P):new FormData(C);Yg(f,{pending:!0,data:le,method:C.method,action:_},null,le)}}else typeof _=="function"&&(Q.preventDefault(),le=P?Fb(C,P):new FormData(C),Yg(f,{pending:!0,data:le,method:C.method,action:_},_,le))},currentTarget:C}]})}}for(var Rm=0;Rm<kf.length;Rm++){var Nm=kf[Rm],gN=Nm.toLowerCase(),mN=Nm[0].toUpperCase()+Nm.slice(1);uo(gN,"on"+mN)}uo(is,"onAnimationEnd"),uo(xi,"onAnimationIteration"),uo(kn,"onAnimationStart"),uo("dblclick","onDoubleClick"),uo("focusin","onFocus"),uo("focusout","onBlur"),uo(Zr,"onTransitionRun"),uo(Wi,"onTransitionStart"),uo(ul,"onTransitionCancel"),uo(Ea,"onTransitionEnd"),gi("onMouseEnter",["mouseout","mouseover"]),gi("onMouseLeave",["mouseout","mouseover"]),gi("onPointerEnter",["pointerout","pointerover"]),gi("onPointerLeave",["pointerout","pointerover"]),_n("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_n("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_n("onBeforeInput",["compositionend","keypress","textInput","paste"]),_n("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_n("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_n("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var od="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(od));function Vb(i,a){a=(a&4)!==0;for(var f=0;f<i.length;f++){var g=i[f],C=g.event;g=g.listeners;e:{var _=void 0;if(a)for(var P=g.length-1;0<=P;P--){var Q=g[P],le=Q.instance,be=Q.currentTarget;if(Q=Q.listener,le!==_&&C.isPropagationStopped())break e;_=Q,C.currentTarget=be;try{_(C)}catch(Me){Wh(Me)}C.currentTarget=null,_=le}else for(P=0;P<g.length;P++){if(Q=g[P],le=Q.instance,be=Q.currentTarget,Q=Q.listener,le!==_&&C.isPropagationStopped())break e;_=Q,C.currentTarget=be;try{_(C)}catch(Me){Wh(Me)}C.currentTarget=null,_=le}}}}function on(i,a){var f=a[oo];f===void 0&&(f=a[oo]=new Set);var g=i+"__bubble";f.has(g)||(zb(a,i,2,!1),f.add(g))}function Mm(i,a,f){var g=0;a&&(g|=4),zb(f,i,g,a)}var Dp="_reactListening"+Math.random().toString(36).slice(2);function Om(i){if(!i[Dp]){i[Dp]=!0,Be.forEach(function(f){f!=="selectionchange"&&(yN.has(f)||Mm(f,!1,i),Mm(f,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[Dp]||(a[Dp]=!0,Mm("selectionchange",!1,a))}}function zb(i,a,f,g){switch(mw(a)){case 2:var C=$N;break;case 8:C=qN;break;default:C=Wm}f=C.bind(null,a,f,i),C=void 0,!ua||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(C=!0),g?C!==void 0?i.addEventListener(a,f,{capture:!0,passive:C}):i.addEventListener(a,f,!0):C!==void 0?i.addEventListener(a,f,{passive:C}):i.addEventListener(a,f,!1)}function Dm(i,a,f,g,C){var _=g;if((a&1)===0&&(a&2)===0&&g!==null)e:for(;;){if(g===null)return;var P=g.tag;if(P===3||P===4){var Q=g.stateNode.containerInfo;if(Q===C)break;if(P===4)for(P=g.return;P!==null;){var le=P.tag;if((le===3||le===4)&&P.stateNode.containerInfo===C)return;P=P.return}for(;Q!==null;){if(P=tr(Q),P===null)return;if(le=P.tag,le===5||le===6||le===26||le===27){g=_=P;continue e}Q=Q.parentNode}}g=g.return}Ro(function(){var be=_,Me=ts(f),Le=[];e:{var Ce=qh.get(i);if(Ce!==void 0){var Ie=ir,gt=i;switch(i){case"keypress":if(ys(f)===0)break e;case"keydown":case"keyup":Ie=ga;break;case"focusin":gt="focus",Ie=ha;break;case"focusout":gt="blur",Ie=ha;break;case"beforeblur":case"afterblur":Ie=ha;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ie=Cn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ie=da;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ie=R;break;case is:case xi:case kn:Ie=Ht;break;case Ea:Ie=ee;break;case"scroll":case"scrollend":Ie=sl;break;case"wheel":Ie=_e;break;case"copy":case"cut":case"paste":Ie=pa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ie=rn;break;case"toggle":case"beforetoggle":Ie=Ft}var Nt=(a&4)!==0,Yn=!Nt&&(i==="scroll"||i==="scrollend"),pe=Nt?Ce!==null?Ce+"Capture":null:Ce;Nt=[];for(var de=be,ve;de!==null;){var De=de;if(ve=De.stateNode,De=De.tag,De!==5&&De!==26&&De!==27||ve===null||pe===null||(De=Tt(de,pe),De!=null&&Nt.push(ad(de,De,ve))),Yn)break;de=de.return}0<Nt.length&&(Ce=new Ie(Ce,gt,null,f,Me),Le.push({event:Ce,listeners:Nt}))}}if((a&7)===0){e:{if(Ce=i==="mouseover"||i==="pointerover",Ie=i==="mouseout"||i==="pointerout",Ce&&f!==ca&&(gt=f.relatedTarget||f.fromElement)&&(tr(gt)||gt[hi]))break e;if((Ie||Ce)&&(Ce=Me.window===Me?Me:(Ce=Me.ownerDocument)?Ce.defaultView||Ce.parentWindow:window,Ie?(gt=f.relatedTarget||f.toElement,Ie=be,gt=gt?tr(gt):null,gt!==null&&(Yn=l(gt),Nt=gt.tag,gt!==Yn||Nt!==5&&Nt!==27&&Nt!==6)&&(gt=null)):(Ie=null,gt=be),Ie!==gt)){if(Nt=Cn,De="onMouseLeave",pe="onMouseEnter",de="mouse",(i==="pointerout"||i==="pointerover")&&(Nt=rn,De="onPointerLeave",pe="onPointerEnter",de="pointer"),Yn=Ie==null?Ce:Ti(Ie),ve=gt==null?Ce:Ti(gt),Ce=new Nt(De,de+"leave",Ie,f,Me),Ce.target=Yn,Ce.relatedTarget=ve,De=null,tr(Me)===be&&(Nt=new Nt(pe,de+"enter",gt,f,Me),Nt.target=ve,Nt.relatedTarget=Yn,De=Nt),Yn=De,Ie&&gt)t:{for(Nt=xN,pe=Ie,de=gt,ve=0,De=pe;De;De=Nt(De))ve++;De=0;for(var At=de;At;At=Nt(At))De++;for(;0<ve-De;)pe=Nt(pe),ve--;for(;0<De-ve;)de=Nt(de),De--;for(;ve--;){if(pe===de||de!==null&&pe===de.alternate){Nt=pe;break t}pe=Nt(pe),de=Nt(de)}Nt=null}else Nt=null;Ie!==null&&jb(Le,Ce,Ie,Nt,!1),gt!==null&&Yn!==null&&jb(Le,Yn,gt,Nt,!0)}}e:{if(Ce=be?Ti(be):window,Ie=Ce.nodeName&&Ce.nodeName.toLowerCase(),Ie==="select"||Ie==="input"&&Ce.type==="file")var In=vs;else if(Pf(Ce))if($h)In=h;else{In=c;var yt=s}else Ie=Ce.nodeName,!Ie||Ie.toLowerCase()!=="input"||Ce.type!=="checkbox"&&Ce.type!=="radio"?be&&Ln(be.elementType)&&(In=vs):In=u;if(In&&(In=In(i,be))){Es(Le,In,f,Me);break e}yt&&yt(i,Ce,be),i==="focusout"&&be&&Ce.type==="number"&&be.memoizedProps.value!=null&&ne(Ce,"number",Ce.value)}switch(yt=be?Ti(be):window,i){case"focusin":(Pf(yt)||yt.contentEditable==="true")&&(ce=yt,fe=be,xe=null);break;case"focusout":xe=fe=ce=null;break;case"mousedown":Ae=!0;break;case"contextmenu":case"mouseup":case"dragend":Ae=!1,$e(Le,f,Me);break;case"selectionchange":if(oe)break;case"keydown":case"keyup":$e(Le,f,Me)}var Xt;if(vn)e:{switch(i){case"compositionstart":var mn="onCompositionStart";break e;case"compositionend":mn="onCompositionEnd";break e;case"compositionupdate":mn="onCompositionUpdate";break e}mn=void 0}else cl?ma(i,f)&&(mn="onCompositionEnd"):i==="keydown"&&f.keyCode===229&&(mn="onCompositionStart");mn&&(Hs&&f.locale!=="ko"&&(cl||mn!=="onCompositionStart"?mn==="onCompositionEnd"&&cl&&(Xt=ao()):(gs=Me,ms="value"in gs?gs.value:gs.textContent,cl=!0)),yt=Lp(be,mn),0<yt.length&&(mn=new Vs(mn,i,null,f,Me),Le.push({event:mn,listeners:yt}),Xt?mn.data=Xt:(Xt=Gs(f),Xt!==null&&(mn.data=Xt)))),(Xt=$i?Mo(i,f):lu(i,f))&&(mn=Lp(be,"onBeforeInput"),0<mn.length&&(yt=new Vs("onBeforeInput","beforeinput",null,f,Me),Le.push({event:yt,listeners:mn}),yt.data=Xt)),pN(Le,i,be,f,Me)}Vb(Le,a)})}function ad(i,a,f){return{instance:i,listener:a,currentTarget:f}}function Lp(i,a){for(var f=a+"Capture",g=[];i!==null;){var C=i,_=C.stateNode;if(C=C.tag,C!==5&&C!==26&&C!==27||_===null||(C=Tt(i,f),C!=null&&g.unshift(ad(i,C,_)),C=Tt(i,a),C!=null&&g.push(ad(i,C,_))),i.tag===3)return g;i=i.return}return[]}function xN(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function jb(i,a,f,g,C){for(var _=a._reactName,P=[];f!==null&&f!==g;){var Q=f,le=Q.alternate,be=Q.stateNode;if(Q=Q.tag,le!==null&&le===g)break;Q!==5&&Q!==26&&Q!==27||be===null||(le=be,C?(be=Tt(f,_),be!=null&&P.unshift(ad(f,be,le))):C||(be=Tt(f,_),be!=null&&P.push(ad(f,be,le)))),f=f.return}P.length!==0&&i.push({event:a,listeners:P})}var EN=/\r\n?/g,vN=/\u0000|\uFFFD/g;function Hb(i){return(typeof i=="string"?i:""+i).replace(EN,`
`).replace(vN,"")}function Gb(i,a){return a=Hb(a),Hb(i)===a}function Wn(i,a,f,g,C,_){switch(f){case"children":typeof g=="string"?a==="body"||a==="textarea"&&g===""||Ri(i,g):(typeof g=="number"||typeof g=="bigint")&&a!=="body"&&Ri(i,""+g);break;case"className":mi(i,"class",g);break;case"tabIndex":mi(i,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":mi(i,f,g);break;case"style":Et(i,g,_);break;case"data":if(a!=="object"){mi(i,"data",g);break}case"src":case"href":if(g===""&&(a!=="a"||f!=="href")){i.removeAttribute(f);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){i.removeAttribute(f);break}g=Io(""+g),i.setAttribute(f,g);break;case"action":case"formAction":if(typeof g=="function"){i.setAttribute(f,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(f==="formAction"?(a!=="input"&&Wn(i,a,"name",C.name,C,null),Wn(i,a,"formEncType",C.formEncType,C,null),Wn(i,a,"formMethod",C.formMethod,C,null),Wn(i,a,"formTarget",C.formTarget,C,null)):(Wn(i,a,"encType",C.encType,C,null),Wn(i,a,"method",C.method,C,null),Wn(i,a,"target",C.target,C,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){i.removeAttribute(f);break}g=Io(""+g),i.setAttribute(f,g);break;case"onClick":g!=null&&(i.onclick=Ni);break;case"onScroll":g!=null&&on("scroll",i);break;case"onScrollEnd":g!=null&&on("scrollend",i);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(r(61));if(f=g.__html,f!=null){if(C.children!=null)throw Error(r(60));i.innerHTML=f}}break;case"multiple":i.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":i.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){i.removeAttribute("xlink:href");break}f=Io(""+g),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?i.setAttribute(f,""+g):i.removeAttribute(f);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?i.setAttribute(f,""):i.removeAttribute(f);break;case"capture":case"download":g===!0?i.setAttribute(f,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?i.setAttribute(f,g):i.removeAttribute(f);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?i.setAttribute(f,g):i.removeAttribute(f);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?i.removeAttribute(f):i.setAttribute(f,g);break;case"popover":on("beforetoggle",i),on("toggle",i),_o(i,"popover",g);break;case"xlinkActuate":fr(i,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":fr(i,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":fr(i,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":fr(i,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":fr(i,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":fr(i,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":fr(i,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":fr(i,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":fr(i,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":_o(i,"is",g);break;case"innerText":case"textContent":break;default:(!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(f=fc.get(f)||f,_o(i,f,g))}}function Lm(i,a,f,g,C,_){switch(f){case"style":Et(i,g,_);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(r(61));if(f=g.__html,f!=null){if(C.children!=null)throw Error(r(60));i.innerHTML=f}}break;case"children":typeof g=="string"?Ri(i,g):(typeof g=="number"||typeof g=="bigint")&&Ri(i,""+g);break;case"onScroll":g!=null&&on("scroll",i);break;case"onScrollEnd":g!=null&&on("scrollend",i);break;case"onClick":g!=null&&(i.onclick=Ni);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!lc.hasOwnProperty(f))e:{if(f[0]==="o"&&f[1]==="n"&&(C=f.endsWith("Capture"),a=f.slice(2,C?f.length-7:void 0),_=i[An]||null,_=_!=null?_[f]:null,typeof _=="function"&&i.removeEventListener(a,_,C),typeof g=="function")){typeof _!="function"&&_!==null&&(f in i?i[f]=null:i.hasAttribute(f)&&i.removeAttribute(f)),i.addEventListener(a,g,C);break e}f in i?i[f]=g:g===!0?i.setAttribute(f,""):_o(i,f,g)}}}function wi(i,a,f){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":on("error",i),on("load",i);var g=!1,C=!1,_;for(_ in f)if(f.hasOwnProperty(_)){var P=f[_];if(P!=null)switch(_){case"src":g=!0;break;case"srcSet":C=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:Wn(i,a,_,P,f,null)}}C&&Wn(i,a,"srcSet",f.srcSet,f,null),g&&Wn(i,a,"src",f.src,f,null);return;case"input":on("invalid",i);var Q=_=P=C=null,le=null,be=null;for(g in f)if(f.hasOwnProperty(g)){var Me=f[g];if(Me!=null)switch(g){case"name":C=Me;break;case"type":P=Me;break;case"checked":le=Me;break;case"defaultChecked":be=Me;break;case"value":_=Me;break;case"defaultValue":Q=Me;break;case"children":case"dangerouslySetInnerHTML":if(Me!=null)throw Error(r(137,a));break;default:Wn(i,a,g,Me,f,null)}}Ee(i,_,Q,le,be,P,C,!1);return;case"select":on("invalid",i),g=P=_=null;for(C in f)if(f.hasOwnProperty(C)&&(Q=f[C],Q!=null))switch(C){case"value":_=Q;break;case"defaultValue":P=Q;break;case"multiple":g=Q;default:Wn(i,a,C,Q,f,null)}a=_,f=P,i.multiple=!!g,a!=null?pt(i,!!g,a,!1):f!=null&&pt(i,!!g,f,!0);return;case"textarea":on("invalid",i),_=C=g=null;for(P in f)if(f.hasOwnProperty(P)&&(Q=f[P],Q!=null))switch(P){case"value":g=Q;break;case"defaultValue":C=Q;break;case"children":_=Q;break;case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(91));break;default:Wn(i,a,P,Q,f,null)}kr(i,g,C,_);return;case"option":for(le in f)if(f.hasOwnProperty(le)&&(g=f[le],g!=null))switch(le){case"selected":i.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:Wn(i,a,le,g,f,null)}return;case"dialog":on("beforetoggle",i),on("toggle",i),on("cancel",i),on("close",i);break;case"iframe":case"object":on("load",i);break;case"video":case"audio":for(g=0;g<od.length;g++)on(od[g],i);break;case"image":on("error",i),on("load",i);break;case"details":on("toggle",i);break;case"embed":case"source":case"link":on("error",i),on("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(be in f)if(f.hasOwnProperty(be)&&(g=f[be],g!=null))switch(be){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:Wn(i,a,be,g,f,null)}return;default:if(Ln(a)){for(Me in f)f.hasOwnProperty(Me)&&(g=f[Me],g!==void 0&&Lm(i,a,Me,g,f,void 0));return}}for(Q in f)f.hasOwnProperty(Q)&&(g=f[Q],g!=null&&Wn(i,a,Q,g,f,null))}function bN(i,a,f,g){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var C=null,_=null,P=null,Q=null,le=null,be=null,Me=null;for(Ie in f){var Le=f[Ie];if(f.hasOwnProperty(Ie)&&Le!=null)switch(Ie){case"checked":break;case"value":break;case"defaultValue":le=Le;default:g.hasOwnProperty(Ie)||Wn(i,a,Ie,null,g,Le)}}for(var Ce in g){var Ie=g[Ce];if(Le=f[Ce],g.hasOwnProperty(Ce)&&(Ie!=null||Le!=null))switch(Ce){case"type":_=Ie;break;case"name":C=Ie;break;case"checked":be=Ie;break;case"defaultChecked":Me=Ie;break;case"value":P=Ie;break;case"defaultValue":Q=Ie;break;case"children":case"dangerouslySetInnerHTML":if(Ie!=null)throw Error(r(137,a));break;default:Ie!==Le&&Wn(i,a,Ce,Ie,g,Le)}}xr(i,P,Q,le,be,Me,_,C);return;case"select":Ie=P=Q=Ce=null;for(_ in f)if(le=f[_],f.hasOwnProperty(_)&&le!=null)switch(_){case"value":break;case"multiple":Ie=le;default:g.hasOwnProperty(_)||Wn(i,a,_,null,g,le)}for(C in g)if(_=g[C],le=f[C],g.hasOwnProperty(C)&&(_!=null||le!=null))switch(C){case"value":Ce=_;break;case"defaultValue":Q=_;break;case"multiple":P=_;default:_!==le&&Wn(i,a,C,_,g,le)}a=Q,f=P,g=Ie,Ce!=null?pt(i,!!f,Ce,!1):!!g!=!!f&&(a!=null?pt(i,!!f,a,!0):pt(i,!!f,f?[]:"",!1));return;case"textarea":Ie=Ce=null;for(Q in f)if(C=f[Q],f.hasOwnProperty(Q)&&C!=null&&!g.hasOwnProperty(Q))switch(Q){case"value":break;case"children":break;default:Wn(i,a,Q,null,g,C)}for(P in g)if(C=g[P],_=f[P],g.hasOwnProperty(P)&&(C!=null||_!=null))switch(P){case"value":Ce=C;break;case"defaultValue":Ie=C;break;case"children":break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(r(91));break;default:C!==_&&Wn(i,a,P,C,g,_)}Er(i,Ce,Ie);return;case"option":for(var gt in f)if(Ce=f[gt],f.hasOwnProperty(gt)&&Ce!=null&&!g.hasOwnProperty(gt))switch(gt){case"selected":i.selected=!1;break;default:Wn(i,a,gt,null,g,Ce)}for(le in g)if(Ce=g[le],Ie=f[le],g.hasOwnProperty(le)&&Ce!==Ie&&(Ce!=null||Ie!=null))switch(le){case"selected":i.selected=Ce&&typeof Ce!="function"&&typeof Ce!="symbol";break;default:Wn(i,a,le,Ce,g,Ie)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Nt in f)Ce=f[Nt],f.hasOwnProperty(Nt)&&Ce!=null&&!g.hasOwnProperty(Nt)&&Wn(i,a,Nt,null,g,Ce);for(be in g)if(Ce=g[be],Ie=f[be],g.hasOwnProperty(be)&&Ce!==Ie&&(Ce!=null||Ie!=null))switch(be){case"children":case"dangerouslySetInnerHTML":if(Ce!=null)throw Error(r(137,a));break;default:Wn(i,a,be,Ce,g,Ie)}return;default:if(Ln(a)){for(var Yn in f)Ce=f[Yn],f.hasOwnProperty(Yn)&&Ce!==void 0&&!g.hasOwnProperty(Yn)&&Lm(i,a,Yn,void 0,g,Ce);for(Me in g)Ce=g[Me],Ie=f[Me],!g.hasOwnProperty(Me)||Ce===Ie||Ce===void 0&&Ie===void 0||Lm(i,a,Me,Ce,g,Ie);return}}for(var pe in f)Ce=f[pe],f.hasOwnProperty(pe)&&Ce!=null&&!g.hasOwnProperty(pe)&&Wn(i,a,pe,null,g,Ce);for(Le in g)Ce=g[Le],Ie=f[Le],!g.hasOwnProperty(Le)||Ce===Ie||Ce==null&&Ie==null||Wn(i,a,Le,Ce,g,Ie)}function $b(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function wN(){if(typeof performance.getEntriesByType=="function"){for(var i=0,a=0,f=performance.getEntriesByType("resource"),g=0;g<f.length;g++){var C=f[g],_=C.transferSize,P=C.initiatorType,Q=C.duration;if(_&&Q&&$b(P)){for(P=0,Q=C.responseEnd,g+=1;g<f.length;g++){var le=f[g],be=le.startTime;if(be>Q)break;var Me=le.transferSize,Le=le.initiatorType;Me&&$b(Le)&&(le=le.responseEnd,P+=Me*(le<Q?1:(Q-be)/(le-be)))}if(--g,a+=8*(_+P)/(C.duration/1e3),i++,10<i)break}}if(0<i)return a/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Pm=null,km=null;function Pp(i){return i.nodeType===9?i:i.ownerDocument}function qb(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Wb(i,a){if(i===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&a==="foreignObject"?0:i}function Bm(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Um=null;function CN(){var i=window.event;return i&&i.type==="popstate"?i===Um?!1:(Um=i,!0):(Um=null,!1)}var Yb=typeof setTimeout=="function"?setTimeout:void 0,SN=typeof clearTimeout=="function"?clearTimeout:void 0,Xb=typeof Promise=="function"?Promise:void 0,AN=typeof queueMicrotask=="function"?queueMicrotask:typeof Xb<"u"?function(i){return Xb.resolve(null).then(i).catch(_N)}:Yb;function _N(i){setTimeout(function(){throw i})}function Tl(i){return i==="head"}function Kb(i,a){var f=a,g=0;do{var C=f.nextSibling;if(i.removeChild(f),C&&C.nodeType===8)if(f=C.data,f==="/$"||f==="/&"){if(g===0){i.removeChild(C),Lu(a);return}g--}else if(f==="$"||f==="$?"||f==="$~"||f==="$!"||f==="&")g++;else if(f==="html")ld(i.ownerDocument.documentElement);else if(f==="head"){f=i.ownerDocument.head,ld(f);for(var _=f.firstChild;_;){var P=_.nextSibling,Q=_.nodeName;_[Bs]||Q==="SCRIPT"||Q==="STYLE"||Q==="LINK"&&_.rel.toLowerCase()==="stylesheet"||f.removeChild(_),_=P}}else f==="body"&&ld(i.ownerDocument.body);f=C}while(f);Lu(a)}function Qb(i,a){var f=i;i=0;do{var g=f.nextSibling;if(f.nodeType===1?a?(f._stashedDisplay=f.style.display,f.style.display="none"):(f.style.display=f._stashedDisplay||"",f.getAttribute("style")===""&&f.removeAttribute("style")):f.nodeType===3&&(a?(f._stashedText=f.nodeValue,f.nodeValue=""):f.nodeValue=f._stashedText||""),g&&g.nodeType===8)if(f=g.data,f==="/$"){if(i===0)break;i--}else f!=="$"&&f!=="$?"&&f!=="$~"&&f!=="$!"||i++;f=g}while(f)}function Fm(i){var a=i.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var f=a;switch(a=a.nextSibling,f.nodeName){case"HTML":case"HEAD":case"BODY":Fm(f),pi(f);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(f.rel.toLowerCase()==="stylesheet")continue}i.removeChild(f)}}function TN(i,a,f,g){for(;i.nodeType===1;){var C=f;if(i.nodeName.toLowerCase()!==a.toLowerCase()){if(!g&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(g){if(!i[Bs])switch(a){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(_=i.getAttribute("rel"),_==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(_!==C.rel||i.getAttribute("href")!==(C.href==null||C.href===""?null:C.href)||i.getAttribute("crossorigin")!==(C.crossOrigin==null?null:C.crossOrigin)||i.getAttribute("title")!==(C.title==null?null:C.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(_=i.getAttribute("src"),(_!==(C.src==null?null:C.src)||i.getAttribute("type")!==(C.type==null?null:C.type)||i.getAttribute("crossorigin")!==(C.crossOrigin==null?null:C.crossOrigin))&&_&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(a==="input"&&i.type==="hidden"){var _=C.name==null?null:""+C.name;if(C.type==="hidden"&&i.getAttribute("name")===_)return i}else return i;if(i=Qs(i.nextSibling),i===null)break}return null}function IN(i,a,f){if(a==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!f||(i=Qs(i.nextSibling),i===null))return null;return i}function Zb(i,a){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!a||(i=Qs(i.nextSibling),i===null))return null;return i}function Vm(i){return i.data==="$?"||i.data==="$~"}function zm(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function RN(i,a){var f=i.ownerDocument;if(i.data==="$~")i._reactRetry=a;else if(i.data!=="$?"||f.readyState!=="loading")a();else{var g=function(){a(),f.removeEventListener("DOMContentLoaded",g)};f.addEventListener("DOMContentLoaded",g),i._reactRetry=g}}function Qs(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return i}var jm=null;function Jb(i){i=i.nextSibling;for(var a=0;i;){if(i.nodeType===8){var f=i.data;if(f==="/$"||f==="/&"){if(a===0)return Qs(i.nextSibling);a--}else f!=="$"&&f!=="$!"&&f!=="$?"&&f!=="$~"&&f!=="&"||a++}i=i.nextSibling}return null}function ew(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var f=i.data;if(f==="$"||f==="$!"||f==="$?"||f==="$~"||f==="&"){if(a===0)return i;a--}else f!=="/$"&&f!=="/&"||a++}i=i.previousSibling}return null}function tw(i,a,f){switch(a=Pp(f),i){case"html":if(i=a.documentElement,!i)throw Error(r(452));return i;case"head":if(i=a.head,!i)throw Error(r(453));return i;case"body":if(i=a.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function ld(i){for(var a=i.attributes;a.length;)i.removeAttributeNode(a[0]);pi(i)}var Zs=new Map,nw=new Set;function kp(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var La=he.d;he.d={f:NN,r:MN,D:ON,C:DN,L:LN,m:PN,X:BN,S:kN,M:UN};function NN(){var i=La.f(),a=Tp();return i||a}function MN(i){var a=tn(i);a!==null&&a.tag===5&&a.type==="form"?Ev(a):La.r(i)}var Mu=typeof document>"u"?null:document;function rw(i,a,f){var g=Mu;if(g&&typeof a=="string"&&a){var C=Yt(a);C='link[rel="'+i+'"][href="'+C+'"]',typeof f=="string"&&(C+='[crossorigin="'+f+'"]'),nw.has(C)||(nw.add(C),i={rel:i,crossOrigin:f,href:a},g.querySelector(C)===null&&(a=g.createElement("link"),wi(a,"link",i),ur(a),g.head.appendChild(a)))}}function ON(i){La.D(i),rw("dns-prefetch",i,null)}function DN(i,a){La.C(i,a),rw("preconnect",i,a)}function LN(i,a,f){La.L(i,a,f);var g=Mu;if(g&&i&&a){var C='link[rel="preload"][as="'+Yt(a)+'"]';a==="image"&&f&&f.imageSrcSet?(C+='[imagesrcset="'+Yt(f.imageSrcSet)+'"]',typeof f.imageSizes=="string"&&(C+='[imagesizes="'+Yt(f.imageSizes)+'"]')):C+='[href="'+Yt(i)+'"]';var _=C;switch(a){case"style":_=Ou(i);break;case"script":_=Du(i)}Zs.has(_)||(i=A({rel:"preload",href:a==="image"&&f&&f.imageSrcSet?void 0:i,as:a},f),Zs.set(_,i),g.querySelector(C)!==null||a==="style"&&g.querySelector(cd(_))||a==="script"&&g.querySelector(ud(_))||(a=g.createElement("link"),wi(a,"link",i),ur(a),g.head.appendChild(a)))}}function PN(i,a){La.m(i,a);var f=Mu;if(f&&i){var g=a&&typeof a.as=="string"?a.as:"script",C='link[rel="modulepreload"][as="'+Yt(g)+'"][href="'+Yt(i)+'"]',_=C;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=Du(i)}if(!Zs.has(_)&&(i=A({rel:"modulepreload",href:i},a),Zs.set(_,i),f.querySelector(C)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(f.querySelector(ud(_)))return}g=f.createElement("link"),wi(g,"link",i),ur(g),f.head.appendChild(g)}}}function kN(i,a,f){La.S(i,a,f);var g=Mu;if(g&&i){var C=Qr(g).hoistableStyles,_=Ou(i);a=a||"default";var P=C.get(_);if(!P){var Q={loading:0,preload:null};if(P=g.querySelector(cd(_)))Q.loading=5;else{i=A({rel:"stylesheet",href:i,"data-precedence":a},f),(f=Zs.get(_))&&Hm(i,f);var le=P=g.createElement("link");ur(le),wi(le,"link",i),le._p=new Promise(function(be,Me){le.onload=be,le.onerror=Me}),le.addEventListener("load",function(){Q.loading|=1}),le.addEventListener("error",function(){Q.loading|=2}),Q.loading|=4,Bp(P,a,g)}P={type:"stylesheet",instance:P,count:1,state:Q},C.set(_,P)}}}function BN(i,a){La.X(i,a);var f=Mu;if(f&&i){var g=Qr(f).hoistableScripts,C=Du(i),_=g.get(C);_||(_=f.querySelector(ud(C)),_||(i=A({src:i,async:!0},a),(a=Zs.get(C))&&Gm(i,a),_=f.createElement("script"),ur(_),wi(_,"link",i),f.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},g.set(C,_))}}function UN(i,a){La.M(i,a);var f=Mu;if(f&&i){var g=Qr(f).hoistableScripts,C=Du(i),_=g.get(C);_||(_=f.querySelector(ud(C)),_||(i=A({src:i,async:!0,type:"module"},a),(a=Zs.get(C))&&Gm(i,a),_=f.createElement("script"),ur(_),wi(_,"link",i),f.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},g.set(C,_))}}function iw(i,a,f,g){var C=(C=we.current)?kp(C):null;if(!C)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof f.precedence=="string"&&typeof f.href=="string"?(a=Ou(f.href),f=Qr(C).hoistableStyles,g=f.get(a),g||(g={type:"style",instance:null,count:0,state:null},f.set(a,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(f.rel==="stylesheet"&&typeof f.href=="string"&&typeof f.precedence=="string"){i=Ou(f.href);var _=Qr(C).hoistableStyles,P=_.get(i);if(P||(C=C.ownerDocument||C,P={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(i,P),(_=C.querySelector(cd(i)))&&!_._p&&(P.instance=_,P.state.loading=5),Zs.has(i)||(f={rel:"preload",as:"style",href:f.href,crossOrigin:f.crossOrigin,integrity:f.integrity,media:f.media,hrefLang:f.hrefLang,referrerPolicy:f.referrerPolicy},Zs.set(i,f),_||FN(C,i,f,P.state))),a&&g===null)throw Error(r(528,""));return P}if(a&&g!==null)throw Error(r(529,""));return null;case"script":return a=f.async,f=f.src,typeof f=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Du(f),f=Qr(C).hoistableScripts,g=f.get(a),g||(g={type:"script",instance:null,count:0,state:null},f.set(a,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Ou(i){return'href="'+Yt(i)+'"'}function cd(i){return'link[rel="stylesheet"]['+i+"]"}function sw(i){return A({},i,{"data-precedence":i.precedence,precedence:null})}function FN(i,a,f,g){i.querySelector('link[rel="preload"][as="style"]['+a+"]")?g.loading=1:(a=i.createElement("link"),g.preload=a,a.addEventListener("load",function(){return g.loading|=1}),a.addEventListener("error",function(){return g.loading|=2}),wi(a,"link",f),ur(a),i.head.appendChild(a))}function Du(i){return'[src="'+Yt(i)+'"]'}function ud(i){return"script[async]"+i}function ow(i,a,f){if(a.count++,a.instance===null)switch(a.type){case"style":var g=i.querySelector('style[data-href~="'+Yt(f.href)+'"]');if(g)return a.instance=g,ur(g),g;var C=A({},f,{"data-href":f.href,"data-precedence":f.precedence,href:null,precedence:null});return g=(i.ownerDocument||i).createElement("style"),ur(g),wi(g,"style",C),Bp(g,f.precedence,i),a.instance=g;case"stylesheet":C=Ou(f.href);var _=i.querySelector(cd(C));if(_)return a.state.loading|=4,a.instance=_,ur(_),_;g=sw(f),(C=Zs.get(C))&&Hm(g,C),_=(i.ownerDocument||i).createElement("link"),ur(_);var P=_;return P._p=new Promise(function(Q,le){P.onload=Q,P.onerror=le}),wi(_,"link",g),a.state.loading|=4,Bp(_,f.precedence,i),a.instance=_;case"script":return _=Du(f.src),(C=i.querySelector(ud(_)))?(a.instance=C,ur(C),C):(g=f,(C=Zs.get(_))&&(g=A({},f),Gm(g,C)),i=i.ownerDocument||i,C=i.createElement("script"),ur(C),wi(C,"link",g),i.head.appendChild(C),a.instance=C);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(g=a.instance,a.state.loading|=4,Bp(g,f.precedence,i));return a.instance}function Bp(i,a,f){for(var g=f.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),C=g.length?g[g.length-1]:null,_=C,P=0;P<g.length;P++){var Q=g[P];if(Q.dataset.precedence===a)_=Q;else if(_!==C)break}_?_.parentNode.insertBefore(i,_.nextSibling):(a=f.nodeType===9?f.head:f,a.insertBefore(i,a.firstChild))}function Hm(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.title==null&&(i.title=a.title)}function Gm(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.integrity==null&&(i.integrity=a.integrity)}var Up=null;function aw(i,a,f){if(Up===null){var g=new Map,C=Up=new Map;C.set(f,g)}else C=Up,g=C.get(f),g||(g=new Map,C.set(f,g));if(g.has(i))return g;for(g.set(i,null),f=f.getElementsByTagName(i),C=0;C<f.length;C++){var _=f[C];if(!(_[Bs]||_[cr]||i==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var P=_.getAttribute(a)||"";P=i+P;var Q=g.get(P);Q?Q.push(_):g.set(P,[_])}}return g}function lw(i,a,f){i=i.ownerDocument||i,i.head.insertBefore(f,a==="title"?i.querySelector("head > title"):null)}function VN(i,a,f){if(f===1||a.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return i=a.disabled,typeof a.precedence=="string"&&i==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function cw(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function zN(i,a,f,g){if(f.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&(f.state.loading&4)===0){if(f.instance===null){var C=Ou(g.href),_=a.querySelector(cd(C));if(_){a=_._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(i.count++,i=Fp.bind(i),a.then(i,i)),f.state.loading|=4,f.instance=_,ur(_);return}_=a.ownerDocument||a,g=sw(g),(C=Zs.get(C))&&Hm(g,C),_=_.createElement("link"),ur(_);var P=_;P._p=new Promise(function(Q,le){P.onload=Q,P.onerror=le}),wi(_,"link",g),f.instance=_}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(f,a),(a=f.state.preload)&&(f.state.loading&3)===0&&(i.count++,f=Fp.bind(i),a.addEventListener("load",f),a.addEventListener("error",f))}}var $m=0;function jN(i,a){return i.stylesheets&&i.count===0&&zp(i,i.stylesheets),0<i.count||0<i.imgCount?function(f){var g=setTimeout(function(){if(i.stylesheets&&zp(i,i.stylesheets),i.unsuspend){var _=i.unsuspend;i.unsuspend=null,_()}},6e4+a);0<i.imgBytes&&$m===0&&($m=62500*wN());var C=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&zp(i,i.stylesheets),i.unsuspend)){var _=i.unsuspend;i.unsuspend=null,_()}},(i.imgBytes>$m?50:800)+a);return i.unsuspend=f,function(){i.unsuspend=null,clearTimeout(g),clearTimeout(C)}}:null}function Fp(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)zp(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Vp=null;function zp(i,a){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Vp=new Map,a.forEach(HN,i),Vp=null,Fp.call(i))}function HN(i,a){if(!(a.state.loading&4)){var f=Vp.get(i);if(f)var g=f.get(null);else{f=new Map,Vp.set(i,f);for(var C=i.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<C.length;_++){var P=C[_];(P.nodeName==="LINK"||P.getAttribute("media")!=="not all")&&(f.set(P.dataset.precedence,P),g=P)}g&&f.set(null,g)}C=a.instance,P=C.getAttribute("data-precedence"),_=f.get(P)||g,_===g&&f.set(null,C),f.set(P,C),this.count++,g=Fp.bind(this),C.addEventListener("load",g),C.addEventListener("error",g),_?_.parentNode.insertBefore(C,_.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(C,i.firstChild)),a.state.loading|=4}}var fd={$$typeof:H,Provider:null,Consumer:null,_currentValue:Ne,_currentValue2:Ne,_threadCount:0};function GN(i,a,f,g,C,_,P,Q,le){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ui(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ui(0),this.hiddenUpdates=ui(null),this.identifierPrefix=g,this.onUncaughtError=C,this.onCaughtError=_,this.onRecoverableError=P,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=le,this.incompleteTransitions=new Map}function uw(i,a,f,g,C,_,P,Q,le,be,Me,Le){return i=new GN(i,a,f,P,le,be,Me,Le,Q),a=1,_===!0&&(a|=24),_=bs(3,null,null,a),i.current=_,_.stateNode=i,a=Sg(),a.refCount++,i.pooledCache=a,a.refCount++,_.memoizedState={element:g,isDehydrated:f,cache:a},Ig(_),i}function fw(i){return i?(i=uu,i):uu}function dw(i,a,f,g,C,_){C=fw(C),g.context===null?g.context=C:g.pendingContext=C,g=ml(a),g.payload={element:f},_=_===void 0?null:_,_!==null&&(g.callback=_),f=yl(i,g,a),f!==null&&(cs(f,i,a),Hf(f,i,a))}function hw(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var f=i.retryLane;i.retryLane=f!==0&&f<a?f:a}}function qm(i,a){hw(i,a),(i=i.alternate)&&hw(i,a)}function pw(i){if(i.tag===13||i.tag===31){var a=yc(i,67108864);a!==null&&cs(a,i,67108864),qm(i,67108864)}}function gw(i){if(i.tag===13||i.tag===31){var a=_s();a=wr(a);var f=yc(i,a);f!==null&&cs(f,i,a),qm(i,a)}}var jp=!0;function $N(i,a,f,g){var C=ie.T;ie.T=null;var _=he.p;try{he.p=2,Wm(i,a,f,g)}finally{he.p=_,ie.T=C}}function qN(i,a,f,g){var C=ie.T;ie.T=null;var _=he.p;try{he.p=8,Wm(i,a,f,g)}finally{he.p=_,ie.T=C}}function Wm(i,a,f,g){if(jp){var C=Ym(g);if(C===null)Dm(i,a,g,Hp,f),yw(i,g);else if(YN(C,i,a,f,g))g.stopPropagation();else if(yw(i,g),a&4&&-1<WN.indexOf(i)){for(;C!==null;){var _=tn(C);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var P=Nn(_.pendingLanes);if(P!==0){var Q=_;for(Q.pendingLanes|=2,Q.entangledLanes|=2;P;){var le=1<<31-Je(P);Q.entanglements[1]|=le,P&=~le}Po(_),(Mn&6)===0&&(Ap=It()+500,sd(0))}}break;case 31:case 13:Q=yc(_,2),Q!==null&&cs(Q,_,2),Tp(),qm(_,2)}if(_=Ym(g),_===null&&Dm(i,a,g,Hp,f),_===C)break;C=_}C!==null&&g.stopPropagation()}else Dm(i,a,g,null,f)}}function Ym(i){return i=ts(i),Xm(i)}var Hp=null;function Xm(i){if(Hp=null,i=tr(i),i!==null){var a=l(i);if(a===null)i=null;else{var f=a.tag;if(f===13){if(i=d(a),i!==null)return i;i=null}else if(f===31){if(i=x(a),i!==null)return i;i=null}else if(f===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Hp=i,null}function mw(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ye()){case Ve:return 2;case it:return 8;case ct:case ot:return 32;case bt:return 268435456;default:return 32}default:return 32}}var Km=!1,Il=null,Rl=null,Nl=null,dd=new Map,hd=new Map,Ml=[],WN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function yw(i,a){switch(i){case"focusin":case"focusout":Il=null;break;case"dragenter":case"dragleave":Rl=null;break;case"mouseover":case"mouseout":Nl=null;break;case"pointerover":case"pointerout":dd.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":hd.delete(a.pointerId)}}function pd(i,a,f,g,C,_){return i===null||i.nativeEvent!==_?(i={blockedOn:a,domEventName:f,eventSystemFlags:g,nativeEvent:_,targetContainers:[C]},a!==null&&(a=tn(a),a!==null&&pw(a)),i):(i.eventSystemFlags|=g,a=i.targetContainers,C!==null&&a.indexOf(C)===-1&&a.push(C),i)}function YN(i,a,f,g,C){switch(a){case"focusin":return Il=pd(Il,i,a,f,g,C),!0;case"dragenter":return Rl=pd(Rl,i,a,f,g,C),!0;case"mouseover":return Nl=pd(Nl,i,a,f,g,C),!0;case"pointerover":var _=C.pointerId;return dd.set(_,pd(dd.get(_)||null,i,a,f,g,C)),!0;case"gotpointercapture":return _=C.pointerId,hd.set(_,pd(hd.get(_)||null,i,a,f,g,C)),!0}return!1}function xw(i){var a=tr(i.target);if(a!==null){var f=l(a);if(f!==null){if(a=f.tag,a===13){if(a=d(f),a!==null){i.blockedOn=a,Ze(i.priority,function(){gw(f)});return}}else if(a===31){if(a=x(f),a!==null){i.blockedOn=a,Ze(i.priority,function(){gw(f)});return}}else if(a===3&&f.stateNode.current.memoizedState.isDehydrated){i.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Gp(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var f=Ym(i.nativeEvent);if(f===null){f=i.nativeEvent;var g=new f.constructor(f.type,f);ca=g,f.target.dispatchEvent(g),ca=null}else return a=tn(f),a!==null&&pw(a),i.blockedOn=f,!1;a.shift()}return!0}function Ew(i,a,f){Gp(i)&&f.delete(a)}function XN(){Km=!1,Il!==null&&Gp(Il)&&(Il=null),Rl!==null&&Gp(Rl)&&(Rl=null),Nl!==null&&Gp(Nl)&&(Nl=null),dd.forEach(Ew),hd.forEach(Ew)}function $p(i,a){i.blockedOn===a&&(i.blockedOn=null,Km||(Km=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,XN)))}var qp=null;function vw(i){qp!==i&&(qp=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){qp===i&&(qp=null);for(var a=0;a<i.length;a+=3){var f=i[a],g=i[a+1],C=i[a+2];if(typeof g!="function"){if(Xm(g||f)===null)continue;break}var _=tn(f);_!==null&&(i.splice(a,3),a-=3,Yg(_,{pending:!0,data:C,method:f.method,action:g},g,C))}}))}function Lu(i){function a(le){return $p(le,i)}Il!==null&&$p(Il,i),Rl!==null&&$p(Rl,i),Nl!==null&&$p(Nl,i),dd.forEach(a),hd.forEach(a);for(var f=0;f<Ml.length;f++){var g=Ml[f];g.blockedOn===i&&(g.blockedOn=null)}for(;0<Ml.length&&(f=Ml[0],f.blockedOn===null);)xw(f),f.blockedOn===null&&Ml.shift();if(f=(i.ownerDocument||i).$$reactFormReplay,f!=null)for(g=0;g<f.length;g+=3){var C=f[g],_=f[g+1],P=C[An]||null;if(typeof _=="function")P||vw(f);else if(P){var Q=null;if(_&&_.hasAttribute("formAction")){if(C=_,P=_[An]||null)Q=P.formAction;else if(Xm(C)!==null)continue}else Q=P.action;typeof Q=="function"?f[g+1]=Q:(f.splice(g,3),g-=3),vw(f)}}}function bw(){function i(_){_.canIntercept&&_.info==="react-transition"&&_.intercept({handler:function(){return new Promise(function(P){return C=P})},focusReset:"manual",scroll:"manual"})}function a(){C!==null&&(C(),C=null),g||setTimeout(f,20)}function f(){if(!g&&!navigation.transition){var _=navigation.currentEntry;_&&_.url!=null&&navigation.navigate(_.url,{state:_.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var g=!1,C=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(f,100),function(){g=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),C!==null&&(C(),C=null)}}}function Qm(i){this._internalRoot=i}Wp.prototype.render=Qm.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(r(409));var f=a.current,g=_s();dw(f,g,i,a,null,null)},Wp.prototype.unmount=Qm.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;dw(i.current,2,null,i,null,null),Tp(),a[hi]=null}};function Wp(i){this._internalRoot=i}Wp.prototype.unstable_scheduleHydration=function(i){if(i){var a=di();i={blockedOn:null,target:i,priority:a};for(var f=0;f<Ml.length&&a!==0&&a<Ml[f].priority;f++);Ml.splice(f,0,i),f===0&&xw(i)}};var ww=e.version;if(ww!=="19.2.0")throw Error(r(527,ww,"19.2.0"));he.findDOMNode=function(i){var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=m(a),i=i!==null?w(i):null,i=i===null?null:i.stateNode,i};var KN={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:ie,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yp.isDisabled&&Yp.supportsFiber)try{wt=Yp.inject(KN),ke=Yp}catch{}}return md.createRoot=function(i,a){if(!o(i))throw Error(r(299));var f=!1,g="",C=Rv,_=Nv,P=Mv;return a!=null&&(a.unstable_strictMode===!0&&(f=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onUncaughtError!==void 0&&(C=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(P=a.onRecoverableError)),a=uw(i,1,!1,null,null,f,g,null,C,_,P,bw),i[hi]=a.current,Om(i),new Qm(a)},md.hydrateRoot=function(i,a,f){if(!o(i))throw Error(r(299));var g=!1,C="",_=Rv,P=Nv,Q=Mv,le=null;return f!=null&&(f.unstable_strictMode===!0&&(g=!0),f.identifierPrefix!==void 0&&(C=f.identifierPrefix),f.onUncaughtError!==void 0&&(_=f.onUncaughtError),f.onCaughtError!==void 0&&(P=f.onCaughtError),f.onRecoverableError!==void 0&&(Q=f.onRecoverableError),f.formState!==void 0&&(le=f.formState)),a=uw(i,1,!0,a,f??null,g,C,le,_,P,Q,bw),a.context=fw(null),f=a.current,g=_s(),g=wr(g),C=ml(g),C.callback=null,yl(f,C,g),f=g,a.current.lanes=f,ks(a,f),Po(a),i[hi]=a.current,Om(i),new Wp(a)},md.version="19.2.0",md}var Ow;function sM(){if(Ow)return ey.exports;Ow=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ey.exports=iM(),ey.exports}var oM=sM();/**
 * react-router v7.9.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Dw="popstate";function aM(t={}){function e(r,o){let{pathname:l,search:d,hash:x}=r.location;return Ly("",{pathname:l,search:d,hash:x},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){return typeof o=="string"?o:Qd(o)}return cM(e,n,null,t)}function yr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Eo(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function lM(){return Math.random().toString(36).substring(2,10)}function Lw(t,e){return{usr:t.state,key:t.key,idx:e}}function Ly(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?bf(e):e,state:n,key:e&&e.key||r||lM()}}function Qd({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function bf(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function cM(t,e,n,r={}){let{window:o=document.defaultView,v5Compat:l=!1}=r,d=o.history,x="POP",E=null,m=w();m==null&&(m=0,d.replaceState({...d.state,idx:m},""));function w(){return(d.state||{idx:null}).idx}function A(){x="POP";let V=w(),K=V==null?null:V-m;m=V,E&&E({action:x,location:k.location,delta:K})}function I(V,K){x="PUSH";let Z=Ly(k.location,V,K);m=w()+1;let H=Lw(Z,m),W=k.createHref(Z);try{d.pushState(H,"",W)}catch(te){if(te instanceof DOMException&&te.name==="DataCloneError")throw te;o.location.assign(W)}l&&E&&E({action:x,location:k.location,delta:1})}function N(V,K){x="REPLACE";let Z=Ly(k.location,V,K);m=w();let H=Lw(Z,m),W=k.createHref(Z);d.replaceState(H,"",W),l&&E&&E({action:x,location:k.location,delta:0})}function M(V){return uM(V)}let k={get action(){return x},get location(){return t(o,d)},listen(V){if(E)throw new Error("A history only accepts one active listener");return o.addEventListener(Dw,A),E=V,()=>{o.removeEventListener(Dw,A),E=null}},createHref(V){return e(o,V)},createURL:M,encodeLocation(V){let K=M(V);return{pathname:K.pathname,search:K.search,hash:K.hash}},push:I,replace:N,go(V){return d.go(V)}};return k}function uM(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),yr(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Qd(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function __(t,e,n="/"){return fM(t,e,n,!1)}function fM(t,e,n,r){let o=typeof e=="string"?bf(e):e,l=Wa(o.pathname||"/",n);if(l==null)return null;let d=T_(t);dM(d);let x=null;for(let E=0;x==null&&E<d.length;++E){let m=CM(l);x=bM(d[E],m,r)}return x}function T_(t,e=[],n=[],r="",o=!1){let l=(d,x,E=o,m)=>{let w={relativePath:m===void 0?d.path||"":m,caseSensitive:d.caseSensitive===!0,childrenIndex:x,route:d};if(w.relativePath.startsWith("/")){if(!w.relativePath.startsWith(r)&&E)return;yr(w.relativePath.startsWith(r),`Absolute route path "${w.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),w.relativePath=w.relativePath.slice(r.length)}let A=Ha([r,w.relativePath]),I=n.concat(w);d.children&&d.children.length>0&&(yr(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${A}".`),T_(d.children,e,I,A,E)),!(d.path==null&&!d.index)&&e.push({path:A,score:EM(A,d.index),routesMeta:I})};return t.forEach((d,x)=>{if(d.path===""||!d.path?.includes("?"))l(d,x);else for(let E of I_(d.path))l(d,x,!0,E)}),e}function I_(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,o=n.endsWith("?"),l=n.replace(/\?$/,"");if(r.length===0)return o?[l,""]:[l];let d=I_(r.join("/")),x=[];return x.push(...d.map(E=>E===""?l:[l,E].join("/"))),o&&x.push(...d),x.map(E=>t.startsWith("/")&&E===""?"/":E)}function dM(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:vM(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var hM=/^:[\w-]+$/,pM=3,gM=2,mM=1,yM=10,xM=-2,Pw=t=>t==="*";function EM(t,e){let n=t.split("/"),r=n.length;return n.some(Pw)&&(r+=xM),e&&(r+=gM),n.filter(o=>!Pw(o)).reduce((o,l)=>o+(hM.test(l)?pM:l===""?mM:yM),r)}function vM(t,e){return t.length===e.length&&t.slice(0,-1).every((r,o)=>r===e[o])?t[t.length-1]-e[e.length-1]:0}function bM(t,e,n=!1){let{routesMeta:r}=t,o={},l="/",d=[];for(let x=0;x<r.length;++x){let E=r[x],m=x===r.length-1,w=l==="/"?e:e.slice(l.length)||"/",A=F0({path:E.relativePath,caseSensitive:E.caseSensitive,end:m},w),I=E.route;if(!A&&m&&n&&!r[r.length-1].route.index&&(A=F0({path:E.relativePath,caseSensitive:E.caseSensitive,end:!1},w)),!A)return null;Object.assign(o,A.params),d.push({params:o,pathname:Ha([l,A.pathname]),pathnameBase:TM(Ha([l,A.pathnameBase])),route:I}),A.pathnameBase!=="/"&&(l=Ha([l,A.pathnameBase]))}return d}function F0(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=wM(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let l=o[0],d=l.replace(/(.)\/+$/,"$1"),x=o.slice(1);return{params:r.reduce((m,{paramName:w,isOptional:A},I)=>{if(w==="*"){let M=x[I]||"";d=l.slice(0,l.length-M.length).replace(/(.)\/+$/,"$1")}const N=x[I];return A&&!N?m[w]=void 0:m[w]=(N||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:d,pattern:t}}function wM(t,e=!1,n=!0){Eo(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,x,E)=>(r.push({paramName:x,isOptional:E!=null}),E?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function CM(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Eo(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Wa(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function SM(t,e="/"){let{pathname:n,search:r="",hash:o=""}=typeof t=="string"?bf(t):t;return{pathname:n?n.startsWith("/")?n:AM(n,e):e,search:IM(r),hash:RM(o)}}function AM(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function iy(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function _M(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function L2(t){let e=_M(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function P2(t,e,n,r=!1){let o;typeof t=="string"?o=bf(t):(o={...t},yr(!o.pathname||!o.pathname.includes("?"),iy("?","pathname","search",o)),yr(!o.pathname||!o.pathname.includes("#"),iy("#","pathname","hash",o)),yr(!o.search||!o.search.includes("#"),iy("#","search","hash",o)));let l=t===""||o.pathname==="",d=l?"/":o.pathname,x;if(d==null)x=n;else{let A=e.length-1;if(!r&&d.startsWith("..")){let I=d.split("/");for(;I[0]==="..";)I.shift(),A-=1;o.pathname=I.join("/")}x=A>=0?e[A]:"/"}let E=SM(o,x),m=d&&d!=="/"&&d.endsWith("/"),w=(l||d===".")&&n.endsWith("/");return!E.pathname.endsWith("/")&&(m||w)&&(E.pathname+="/"),E}var Ha=t=>t.join("/").replace(/\/\/+/g,"/"),TM=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),IM=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,RM=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function NM(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var R_=["POST","PUT","PATCH","DELETE"];new Set(R_);var MM=["GET",...R_];new Set(MM);var wf=L.createContext(null);wf.displayName="DataRouter";var E1=L.createContext(null);E1.displayName="DataRouterState";L.createContext(!1);var N_=L.createContext({isTransitioning:!1});N_.displayName="ViewTransition";var OM=L.createContext(new Map);OM.displayName="Fetchers";var DM=L.createContext(null);DM.displayName="Await";var So=L.createContext(null);So.displayName="Navigation";var gh=L.createContext(null);gh.displayName="Location";var Ao=L.createContext({outlet:null,matches:[],isDataRoute:!1});Ao.displayName="Route";var k2=L.createContext(null);k2.displayName="RouteError";function LM(t,{relative:e}={}){yr(Cf(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=L.useContext(So),{hash:o,pathname:l,search:d}=mh(t,{relative:e}),x=l;return n!=="/"&&(x=l==="/"?n:Ha([n,l])),r.createHref({pathname:x,search:d,hash:o})}function Cf(){return L.useContext(gh)!=null}function ro(){return yr(Cf(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(gh).location}var M_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function O_(t){L.useContext(So).static||L.useLayoutEffect(t)}function ia(){let{isDataRoute:t}=L.useContext(Ao);return t?YM():PM()}function PM(){yr(Cf(),"useNavigate() may be used only in the context of a <Router> component.");let t=L.useContext(wf),{basename:e,navigator:n}=L.useContext(So),{matches:r}=L.useContext(Ao),{pathname:o}=ro(),l=JSON.stringify(L2(r)),d=L.useRef(!1);return O_(()=>{d.current=!0}),L.useCallback((E,m={})=>{if(Eo(d.current,M_),!d.current)return;if(typeof E=="number"){n.go(E);return}let w=P2(E,JSON.parse(l),o,m.relative==="path");t==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:Ha([e,w.pathname])),(m.replace?n.replace:n.push)(w,m.state,m)},[e,n,l,o,t])}L.createContext(null);function kM(){let{matches:t}=L.useContext(Ao),e=t[t.length-1];return e?e.params:{}}function mh(t,{relative:e}={}){let{matches:n}=L.useContext(Ao),{pathname:r}=ro(),o=JSON.stringify(L2(n));return L.useMemo(()=>P2(t,JSON.parse(o),r,e==="path"),[t,o,r,e])}function BM(t,e){return D_(t,e)}function D_(t,e,n,r,o){yr(Cf(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=L.useContext(So),{matches:d}=L.useContext(Ao),x=d[d.length-1],E=x?x.params:{},m=x?x.pathname:"/",w=x?x.pathnameBase:"/",A=x&&x.route;{let Z=A&&A.path||"";L_(m,!A||Z.endsWith("*")||Z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${Z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Z}"> to <Route path="${Z==="/"?"*":`${Z}/*`}">.`)}let I=ro(),N;if(e){let Z=typeof e=="string"?bf(e):e;yr(w==="/"||Z.pathname?.startsWith(w),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${w}" but pathname "${Z.pathname}" was given in the \`location\` prop.`),N=Z}else N=I;let M=N.pathname||"/",k=M;if(w!=="/"){let Z=w.replace(/^\//,"").split("/");k="/"+M.replace(/^\//,"").split("/").slice(Z.length).join("/")}let V=__(t,{pathname:k});Eo(A||V!=null,`No routes matched location "${N.pathname}${N.search}${N.hash}" `),Eo(V==null||V[V.length-1].route.element!==void 0||V[V.length-1].route.Component!==void 0||V[V.length-1].route.lazy!==void 0,`Matched leaf route at location "${N.pathname}${N.search}${N.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let K=jM(V&&V.map(Z=>Object.assign({},Z,{params:Object.assign({},E,Z.params),pathname:Ha([w,l.encodeLocation?l.encodeLocation(Z.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Z.pathname]),pathnameBase:Z.pathnameBase==="/"?w:Ha([w,l.encodeLocation?l.encodeLocation(Z.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Z.pathnameBase])})),d,n,r,o);return e&&K?L.createElement(gh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...N},navigationType:"POP"}},K):K}function UM(){let t=WM(),e=NM(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},d=null;return console.error("Error handled by React Router default ErrorBoundary:",t),d=L.createElement(L.Fragment,null,L.createElement("p",null," Hey developer "),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:l},"ErrorBoundary")," or"," ",L.createElement("code",{style:l},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),n?L.createElement("pre",{style:o},n):null,d)}var FM=L.createElement(UM,null),VM=class extends L.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?L.createElement(Ao.Provider,{value:this.props.routeContext},L.createElement(k2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function zM({routeContext:t,match:e,children:n}){let r=L.useContext(wf);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),L.createElement(Ao.Provider,{value:t},n)}function jM(t,e=[],n=null,r=null,o=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,d=n?.errors;if(d!=null){let m=l.findIndex(w=>w.route.id&&d?.[w.route.id]!==void 0);yr(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),l=l.slice(0,Math.min(l.length,m+1))}let x=!1,E=-1;if(n)for(let m=0;m<l.length;m++){let w=l[m];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(E=m),w.route.id){let{loaderData:A,errors:I}=n,N=w.route.loader&&!A.hasOwnProperty(w.route.id)&&(!I||I[w.route.id]===void 0);if(w.route.lazy||N){x=!0,E>=0?l=l.slice(0,E+1):l=[l[0]];break}}}return l.reduceRight((m,w,A)=>{let I,N=!1,M=null,k=null;n&&(I=d&&w.route.id?d[w.route.id]:void 0,M=w.route.errorElement||FM,x&&(E<0&&A===0?(L_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),N=!0,k=null):E===A&&(N=!0,k=w.route.hydrateFallbackElement||null)));let V=e.concat(l.slice(0,A+1)),K=()=>{let Z;return I?Z=M:N?Z=k:w.route.Component?Z=L.createElement(w.route.Component,null):w.route.element?Z=w.route.element:Z=m,L.createElement(zM,{match:w,routeContext:{outlet:m,matches:V,isDataRoute:n!=null},children:Z})};return n&&(w.route.ErrorBoundary||w.route.errorElement||A===0)?L.createElement(VM,{location:n.location,revalidation:n.revalidation,component:M,error:I,children:K(),routeContext:{outlet:null,matches:V,isDataRoute:!0},unstable_onError:r}):K()},null)}function B2(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function HM(t){let e=L.useContext(wf);return yr(e,B2(t)),e}function GM(t){let e=L.useContext(E1);return yr(e,B2(t)),e}function $M(t){let e=L.useContext(Ao);return yr(e,B2(t)),e}function U2(t){let e=$M(t),n=e.matches[e.matches.length-1];return yr(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function qM(){return U2("useRouteId")}function WM(){let t=L.useContext(k2),e=GM("useRouteError"),n=U2("useRouteError");return t!==void 0?t:e.errors?.[n]}function YM(){let{router:t}=HM("useNavigate"),e=U2("useNavigate"),n=L.useRef(!1);return O_(()=>{n.current=!0}),L.useCallback(async(o,l={})=>{Eo(n.current,M_),n.current&&(typeof o=="number"?t.navigate(o):await t.navigate(o,{fromRouteId:e,...l}))},[t,e])}var kw={};function L_(t,e,n){!e&&!kw[t]&&(kw[t]=!0,Eo(!1,n))}L.memo(XM);function XM({routes:t,future:e,state:n,unstable_onError:r}){return D_(t,void 0,n,r,e)}function P_({to:t,replace:e,state:n,relative:r}){yr(Cf(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=L.useContext(So);Eo(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=L.useContext(Ao),{pathname:d}=ro(),x=ia(),E=P2(t,L2(l),d,r==="path"),m=JSON.stringify(E);return L.useEffect(()=>{x(JSON.parse(m),{replace:e,state:n,relative:r})},[x,m,r,e,n]),null}function Ki(t){yr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function KM({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:o,static:l=!1}){yr(!Cf(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=t.replace(/^\/*/,"/"),x=L.useMemo(()=>({basename:d,navigator:o,static:l,future:{}}),[d,o,l]);typeof n=="string"&&(n=bf(n));let{pathname:E="/",search:m="",hash:w="",state:A=null,key:I="default"}=n,N=L.useMemo(()=>{let M=Wa(E,d);return M==null?null:{location:{pathname:M,search:m,hash:w,state:A,key:I},navigationType:r}},[d,E,m,w,A,I,r]);return Eo(N!=null,`<Router basename="${d}"> is not able to match the URL "${E}${m}${w}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:L.createElement(So.Provider,{value:x},L.createElement(gh.Provider,{children:e,value:N}))}function k_({children:t,location:e}){return BM(Py(t),e)}function Py(t,e=[]){let n=[];return L.Children.forEach(t,(r,o)=>{if(!L.isValidElement(r))return;let l=[...e,o];if(r.type===L.Fragment){n.push.apply(n,Py(r.props.children,l));return}yr(r.type===Ki,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),yr(!r.props.index||!r.props.children,"An index route cannot have child routes.");let d={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(d.children=Py(r.props.children,l)),n.push(d)}),n}var E0="get",v0="application/x-www-form-urlencoded";function v1(t){return t!=null&&typeof t.tagName=="string"}function QM(t){return v1(t)&&t.tagName.toLowerCase()==="button"}function ZM(t){return v1(t)&&t.tagName.toLowerCase()==="form"}function JM(t){return v1(t)&&t.tagName.toLowerCase()==="input"}function eO(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function tO(t,e){return t.button===0&&(!e||e==="_self")&&!eO(t)}var Kp=null;function nO(){if(Kp===null)try{new FormData(document.createElement("form"),0),Kp=!1}catch{Kp=!0}return Kp}var rO=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function sy(t){return t!=null&&!rO.has(t)?(Eo(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${v0}"`),null):t}function iO(t,e){let n,r,o,l,d;if(ZM(t)){let x=t.getAttribute("action");r=x?Wa(x,e):null,n=t.getAttribute("method")||E0,o=sy(t.getAttribute("enctype"))||v0,l=new FormData(t)}else if(QM(t)||JM(t)&&(t.type==="submit"||t.type==="image")){let x=t.form;if(x==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let E=t.getAttribute("formaction")||x.getAttribute("action");if(r=E?Wa(E,e):null,n=t.getAttribute("formmethod")||x.getAttribute("method")||E0,o=sy(t.getAttribute("formenctype"))||sy(x.getAttribute("enctype"))||v0,l=new FormData(x,t),!nO()){let{name:m,type:w,value:A}=t;if(w==="image"){let I=m?`${m}.`:"";l.append(`${I}x`,"0"),l.append(`${I}y`,"0")}else m&&l.append(m,A)}}else{if(v1(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=E0,r=null,o=v0,d=t}return l&&o==="text/plain"&&(d=l,l=void 0),{action:r,method:n.toLowerCase(),encType:o,formData:l,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function F2(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function sO(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Wa(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function oO(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function aO(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function lO(t,e,n){let r=await Promise.all(t.map(async o=>{let l=e.routes[o.route.id];if(l){let d=await oO(l,n);return d.links?d.links():[]}return[]}));return dO(r.flat(1).filter(aO).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Bw(t,e,n,r,o,l){let d=(E,m)=>n[m]?E.route.id!==n[m].route.id:!0,x=(E,m)=>n[m].pathname!==E.pathname||n[m].route.path?.endsWith("*")&&n[m].params["*"]!==E.params["*"];return l==="assets"?e.filter((E,m)=>d(E,m)||x(E,m)):l==="data"?e.filter((E,m)=>{let w=r.routes[E.route.id];if(!w||!w.hasLoader)return!1;if(d(E,m)||x(E,m))return!0;if(E.route.shouldRevalidate){let A=E.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:E.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function cO(t,e,{includeHydrateFallback:n}={}){return uO(t.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function uO(t){return[...new Set(t)]}function fO(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function dO(t,e){let n=new Set;return new Set(e),t.reduce((r,o)=>{let l=JSON.stringify(fO(o));return n.has(l)||(n.add(l),r.push({key:l,link:o})),r},[])}function B_(){let t=L.useContext(wf);return F2(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function hO(){let t=L.useContext(E1);return F2(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var V2=L.createContext(void 0);V2.displayName="FrameworkContext";function U_(){let t=L.useContext(V2);return F2(t,"You must render this element inside a <HydratedRouter> element"),t}function pO(t,e){let n=L.useContext(V2),[r,o]=L.useState(!1),[l,d]=L.useState(!1),{onFocus:x,onBlur:E,onMouseEnter:m,onMouseLeave:w,onTouchStart:A}=e,I=L.useRef(null);L.useEffect(()=>{if(t==="render"&&d(!0),t==="viewport"){let k=K=>{K.forEach(Z=>{d(Z.isIntersecting)})},V=new IntersectionObserver(k,{threshold:.5});return I.current&&V.observe(I.current),()=>{V.disconnect()}}},[t]),L.useEffect(()=>{if(r){let k=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(k)}}},[r]);let N=()=>{o(!0)},M=()=>{o(!1),d(!1)};return n?t!=="intent"?[l,I,{}]:[l,I,{onFocus:yd(x,N),onBlur:yd(E,M),onMouseEnter:yd(m,N),onMouseLeave:yd(w,M),onTouchStart:yd(A,N)}]:[!1,I,{}]}function yd(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function gO({page:t,...e}){let{router:n}=B_(),r=L.useMemo(()=>__(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?L.createElement(yO,{page:t,matches:r,...e}):null}function mO(t){let{manifest:e,routeModules:n}=U_(),[r,o]=L.useState([]);return L.useEffect(()=>{let l=!1;return lO(t,e,n).then(d=>{l||o(d)}),()=>{l=!0}},[t,e,n]),r}function yO({page:t,matches:e,...n}){let r=ro(),{manifest:o,routeModules:l}=U_(),{basename:d}=B_(),{loaderData:x,matches:E}=hO(),m=L.useMemo(()=>Bw(t,e,E,o,r,"data"),[t,e,E,o,r]),w=L.useMemo(()=>Bw(t,e,E,o,r,"assets"),[t,e,E,o,r]),A=L.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let M=new Set,k=!1;if(e.forEach(K=>{let Z=o.routes[K.route.id];!Z||!Z.hasLoader||(!m.some(H=>H.route.id===K.route.id)&&K.route.id in x&&l[K.route.id]?.shouldRevalidate||Z.hasClientLoader?k=!0:M.add(K.route.id))}),M.size===0)return[];let V=sO(t,d,"data");return k&&M.size>0&&V.searchParams.set("_routes",e.filter(K=>M.has(K.route.id)).map(K=>K.route.id).join(",")),[V.pathname+V.search]},[d,x,r,o,m,e,t,l]),I=L.useMemo(()=>cO(w,o),[w,o]),N=mO(w);return L.createElement(L.Fragment,null,A.map(M=>L.createElement("link",{key:M,rel:"prefetch",as:"fetch",href:M,...n})),I.map(M=>L.createElement("link",{key:M,rel:"modulepreload",href:M,...n})),N.map(({key:M,link:k})=>L.createElement("link",{key:M,nonce:n.nonce,...k})))}function xO(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var F_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{F_&&(window.__reactRouterVersion="7.9.5")}catch{}function EO({basename:t,children:e,window:n}){let r=L.useRef();r.current==null&&(r.current=aM({window:n,v5Compat:!0}));let o=r.current,[l,d]=L.useState({action:o.action,location:o.location}),x=L.useCallback(E=>{L.startTransition(()=>d(E))},[d]);return L.useLayoutEffect(()=>o.listen(x),[o,x]),L.createElement(KM,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:o})}var V_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Bd=L.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:o,reloadDocument:l,replace:d,state:x,target:E,to:m,preventScrollReset:w,viewTransition:A,...I},N){let{basename:M}=L.useContext(So),k=typeof m=="string"&&V_.test(m),V,K=!1;if(typeof m=="string"&&k&&(V=m,F_))try{let F=new URL(window.location.href),J=m.startsWith("//")?new URL(F.protocol+m):new URL(m),Y=Wa(J.pathname,M);J.origin===F.origin&&Y!=null?m=Y+J.search+J.hash:K=!0}catch{Eo(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Z=LM(m,{relative:o}),[H,W,te]=pO(r,I),se=CO(m,{replace:d,state:x,target:E,preventScrollReset:w,relative:o,viewTransition:A});function z(F){e&&e(F),F.defaultPrevented||se(F)}let j=L.createElement("a",{...I,...te,href:V||Z,onClick:K||l?e:z,ref:xO(N,W),target:E,"data-discover":!k&&n==="render"?"true":void 0});return H&&!k?L.createElement(L.Fragment,null,j,L.createElement(gO,{page:Z})):j});Bd.displayName="Link";var vO=L.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:o=!1,style:l,to:d,viewTransition:x,children:E,...m},w){let A=mh(d,{relative:m.relative}),I=ro(),N=L.useContext(E1),{navigator:M,basename:k}=L.useContext(So),V=N!=null&&IO(A)&&x===!0,K=M.encodeLocation?M.encodeLocation(A).pathname:A.pathname,Z=I.pathname,H=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;n||(Z=Z.toLowerCase(),H=H?H.toLowerCase():null,K=K.toLowerCase()),H&&k&&(H=Wa(H,k)||H);const W=K!=="/"&&K.endsWith("/")?K.length-1:K.length;let te=Z===K||!o&&Z.startsWith(K)&&Z.charAt(W)==="/",se=H!=null&&(H===K||!o&&H.startsWith(K)&&H.charAt(K.length)==="/"),z={isActive:te,isPending:se,isTransitioning:V},j=te?e:void 0,F;typeof r=="function"?F=r(z):F=[r,te?"active":null,se?"pending":null,V?"transitioning":null].filter(Boolean).join(" ");let J=typeof l=="function"?l(z):l;return L.createElement(Bd,{...m,"aria-current":j,className:F,ref:w,style:J,to:d,viewTransition:x},typeof E=="function"?E(z):E)});vO.displayName="NavLink";var bO=L.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:o,state:l,method:d=E0,action:x,onSubmit:E,relative:m,preventScrollReset:w,viewTransition:A,...I},N)=>{let M=_O(),k=TO(x,{relative:m}),V=d.toLowerCase()==="get"?"get":"post",K=typeof x=="string"&&V_.test(x),Z=H=>{if(E&&E(H),H.defaultPrevented)return;H.preventDefault();let W=H.nativeEvent.submitter,te=W?.getAttribute("formmethod")||d;M(W||H.currentTarget,{fetcherKey:e,method:te,navigate:n,replace:o,state:l,relative:m,preventScrollReset:w,viewTransition:A})};return L.createElement("form",{ref:N,method:V,action:k,onSubmit:r?E:Z,...I,"data-discover":!K&&t==="render"?"true":void 0})});bO.displayName="Form";function wO(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function z_(t){let e=L.useContext(wf);return yr(e,wO(t)),e}function CO(t,{target:e,replace:n,state:r,preventScrollReset:o,relative:l,viewTransition:d}={}){let x=ia(),E=ro(),m=mh(t,{relative:l});return L.useCallback(w=>{if(tO(w,e)){w.preventDefault();let A=n!==void 0?n:Qd(E)===Qd(m);x(t,{replace:A,state:r,preventScrollReset:o,relative:l,viewTransition:d})}},[E,x,m,n,r,e,t,o,l,d])}var SO=0,AO=()=>`__${String(++SO)}__`;function _O(){let{router:t}=z_("useSubmit"),{basename:e}=L.useContext(So),n=qM();return L.useCallback(async(r,o={})=>{let{action:l,method:d,encType:x,formData:E,body:m}=iO(r,e);if(o.navigate===!1){let w=o.fetcherKey||AO();await t.fetch(w,n,o.action||l,{preventScrollReset:o.preventScrollReset,formData:E,body:m,formMethod:o.method||d,formEncType:o.encType||x,flushSync:o.flushSync})}else await t.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:E,body:m,formMethod:o.method||d,formEncType:o.encType||x,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[t,e,n])}function TO(t,{relative:e}={}){let{basename:n}=L.useContext(So),r=L.useContext(Ao);yr(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),l={...mh(t||".",{relative:e})},d=ro();if(t==null){l.search=d.search;let x=new URLSearchParams(l.search),E=x.getAll("index");if(E.some(w=>w==="")){x.delete("index"),E.filter(A=>A).forEach(A=>x.append("index",A));let w=x.toString();l.search=w?`?${w}`:""}}return(!t||t===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Ha([n,l.pathname])),Qd(l)}function IO(t,{relative:e}={}){let n=L.useContext(N_);yr(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=z_("useViewTransitionState"),o=mh(t,{relative:e});if(!n.isTransitioning)return!1;let l=Wa(n.currentLocation.pathname,r)||n.currentLocation.pathname,d=Wa(n.nextLocation.pathname,r)||n.nextLocation.pathname;return F0(o.pathname,d)!=null||F0(o.pathname,l)!=null}var z2=A_();const Qp=x1(z2);function RO(){const[t,e]=L.useState(""),[n,r]=L.useState(""),[o,l]=L.useState(""),d=ro();L.useEffect(()=>{const N=new URLSearchParams(d.search).get("businessName");N&&e(N)},[d]);const x=()=>{const I=`I had a great experience at ${t}. The ${o} was excellent. I would highly recommend it to anyone looking for a quality experience.`;r(I)},E=()=>{navigator.clipboard.writeText(n),alert("Review copied to clipboard!")},m=I=>{e(I.target.value)},w=I=>{l(I.target.value)},A=I=>{I.preventDefault(),x()};return U.jsxs("div",{className:"review-generator",children:[U.jsxs("form",{onSubmit:A,children:[U.jsxs("div",{className:"form-group",children:[U.jsx("label",{htmlFor:"businessName",children:"Business Name:"}),U.jsx("input",{type:"text",id:"businessName",value:t,onChange:m,placeholder:"e.g., 'The Friendly Cafe'",required:!0})]}),U.jsxs("div",{className:"form-group",children:[U.jsx("label",{htmlFor:"reviewKeywords",children:"What did you like?"}),U.jsx("input",{type:"text",id:"reviewKeywords",value:o,onChange:w,placeholder:"e.g., 'coffee and croissants'",required:!0})]}),U.jsx("button",{type:"submit",children:"Generate Review"})]}),n&&U.jsxs("div",{className:"review-output",children:[U.jsx("h2",{children:"Your Generated Review:"}),U.jsx("p",{children:n}),U.jsx("div",{className:"review-actions",children:U.jsx("button",{onClick:E,children:"Copy and Add Review"})})]})]})}function NO(){return ia(),U.jsxs("div",{className:"App",children:[U.jsxs("header",{className:"App-header",children:[U.jsx("h1",{children:"Google Review Automation"}),U.jsx("p",{children:"Generate AI-powered reviews for your favorite businesses."})]}),U.jsx("main",{children:U.jsx(RO,{})})]})}var ft;(function(t){t[t.QR_CODE=0]="QR_CODE",t[t.AZTEC=1]="AZTEC",t[t.CODABAR=2]="CODABAR",t[t.CODE_39=3]="CODE_39",t[t.CODE_93=4]="CODE_93",t[t.CODE_128=5]="CODE_128",t[t.DATA_MATRIX=6]="DATA_MATRIX",t[t.MAXICODE=7]="MAXICODE",t[t.ITF=8]="ITF",t[t.EAN_13=9]="EAN_13",t[t.EAN_8=10]="EAN_8",t[t.PDF_417=11]="PDF_417",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(ft||(ft={}));var Uw=new Map([[ft.QR_CODE,"QR_CODE"],[ft.AZTEC,"AZTEC"],[ft.CODABAR,"CODABAR"],[ft.CODE_39,"CODE_39"],[ft.CODE_93,"CODE_93"],[ft.CODE_128,"CODE_128"],[ft.DATA_MATRIX,"DATA_MATRIX"],[ft.MAXICODE,"MAXICODE"],[ft.ITF,"ITF"],[ft.EAN_13,"EAN_13"],[ft.EAN_8,"EAN_8"],[ft.PDF_417,"PDF_417"],[ft.RSS_14,"RSS_14"],[ft.RSS_EXPANDED,"RSS_EXPANDED"],[ft.UPC_A,"UPC_A"],[ft.UPC_E,"UPC_E"],[ft.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),Fw;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.URL=1]="URL"})(Fw||(Fw={}));function MO(t){return Object.values(ft).includes(t)}var Yl;(function(t){t[t.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",t[t.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Yl||(Yl={}));var go=(function(){function t(){}return t.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",t.SCAN_DEFAULT_FPS=2,t.DEFAULT_DISABLE_FLIP=!1,t.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,t.DEFAULT_SUPPORTED_SCAN_TYPE=[Yl.SCAN_TYPE_CAMERA,Yl.SCAN_TYPE_FILE],t})(),j_=(function(){function t(e,n){this.format=e,this.formatName=n}return t.prototype.toString=function(){return this.formatName},t.create=function(e){if(!Uw.has(e))throw"".concat(e," not in html5QrcodeSupportedFormatsTextMap");return new t(e,Uw.get(e))},t})(),Vw=(function(){function t(){}return t.createFromText=function(e){var n={text:e};return{decodedText:e,result:n}},t.createFromQrcodeResult=function(e){return{decodedText:e.text,result:e}},t})(),ky;(function(t){t[t.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",t[t.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",t[t.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(ky||(ky={}));var H_=(function(){function t(){}return t.createFrom=function(e){return{errorMessage:e,type:ky.UNKWOWN_ERROR}},t})(),G_=(function(){function t(e){this.verbose=e}return t.prototype.log=function(e){this.verbose&&console.log(e)},t.prototype.warn=function(e){this.verbose&&console.warn(e)},t.prototype.logError=function(e,n){(this.verbose||n===!0)&&console.error(e)},t.prototype.logErrors=function(e){if(e.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(e)},t})();function Uo(t){return typeof t>"u"||t===null}function OO(t,e,n){return t>n?n:t<e?e:t}var Xu=(function(){function t(){}return t.codeParseError=function(e){return"QR code parse error, error = ".concat(e)},t.errorGettingUserMedia=function(e){return"Error getting userMedia, error = ".concat(e)},t.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},t.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},t.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},t.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},t.scannerPaused=function(){return"Scanner paused"},t})(),Hn=(function(){function t(){}return t.scanningStatus=function(){return"Scanning"},t.idleStatus=function(){return"Idle"},t.errorStatus=function(){return"Error"},t.permissionStatus=function(){return"Permission"},t.noCameraFoundErrorStatus=function(){return"No Cameras"},t.lastMatch=function(e){return"Last Match: ".concat(e)},t.codeScannerTitle=function(){return"Code Scanner"},t.cameraPermissionTitle=function(){return"Request Camera Permissions"},t.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},t.noCameraFound=function(){return"No camera found"},t.scanButtonStopScanningText=function(){return"Stop Scanning"},t.scanButtonStartScanningText=function(){return"Start Scanning"},t.torchOnButton=function(){return"Switch On Torch"},t.torchOffButton=function(){return"Switch Off Torch"},t.torchOnFailedMessage=function(){return"Failed to turn on torch"},t.torchOffFailedMessage=function(){return"Failed to turn off torch"},t.scanButtonScanningStarting=function(){return"Launching Camera..."},t.textIfCameraScanSelected=function(){return"Scan an Image File"},t.textIfFileScanSelected=function(){return"Scan using camera directly"},t.selectCamera=function(){return"Select Camera"},t.fileSelectionChooseImage=function(){return"Choose Image"},t.fileSelectionChooseAnother=function(){return"Choose Another"},t.fileSelectionNoImageSelected=function(){return"No image choosen"},t.anonymousCameraPrefix=function(){return"Anonymous Camera"},t.dragAndDropMessage=function(){return"Or drop an image to scan"},t.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},t.zoom=function(){return"zoom"},t.loadingImage=function(){return"Loading image..."},t.cameraScanAltText=function(){return"Camera based scan"},t.fileScanAltText=function(){return"Fule based scan"},t})(),zw=(function(){function t(){}return t.poweredBy=function(){return"Powered by "},t.reportIssues=function(){return"Report issues"},t})(),$_=(function(){function t(){}return t.isMediaStreamConstraintsValid=function(e,n){if(typeof e!="object"){var r=typeof e;return n.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(r,"."),!0),!1}for(var o=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],l=new Set(o),d=Object.keys(e),x=0,E=d;x<E.length;x++){var m=E[x];if(l.has(m))return n.logError("".concat(m," is not supported videoConstaints."),!0),!1}return!0},t})(),Td={exports:{}},DO=Td.exports,jw;function LO(){return jw||(jw=1,(function(t,e){(function(n,r){r(e)})(DO,(function(n){function r(G){return G==null}var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(G,s){G.__proto__=s}||function(G,s){for(var c in s)s.hasOwnProperty(c)&&(G[c]=s[c])};function l(G,s){o(G,s);function c(){this.constructor=G}G.prototype=s===null?Object.create(s):(c.prototype=s.prototype,new c)}function d(G,s){var c=Object.setPrototypeOf;c?c(G,s):G.__proto__=s}function x(G,s){s===void 0&&(s=G.constructor);var c=Error.captureStackTrace;c&&c(G,s)}var E=(function(G){l(s,G);function s(c){var u=this.constructor,h=G.call(this,c)||this;return Object.defineProperty(h,"name",{value:u.name,enumerable:!1}),d(h,u.prototype),x(h),h}return s})(Error);class m extends E{constructor(s=void 0){super(s),this.message=s}getKind(){return this.constructor.kind}}m.kind="Exception";class w extends m{}w.kind="ArgumentException";class A extends m{}A.kind="IllegalArgumentException";class I{constructor(s){if(this.binarizer=s,s===null)throw new A("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(s,c){return this.binarizer.getBlackRow(s,c)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(s,c,u,h){const p=this.binarizer.getLuminanceSource().crop(s,c,u,h);return new I(this.binarizer.createBinarizer(p))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const s=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new I(this.binarizer.createBinarizer(s))}rotateCounterClockwise45(){const s=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new I(this.binarizer.createBinarizer(s))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class N extends m{static getChecksumInstance(){return new N}}N.kind="ChecksumException";class M{constructor(s){this.source=s}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class k{static arraycopy(s,c,u,h,p){for(;p--;)u[h++]=s[c++]}static currentTimeMillis(){return Date.now()}}class V extends m{}V.kind="IndexOutOfBoundsException";class K extends V{constructor(s=void 0,c=void 0){super(c),this.index=s,this.message=c}}K.kind="ArrayIndexOutOfBoundsException";class Z{static fill(s,c){for(let u=0,h=s.length;u<h;u++)s[u]=c}static fillWithin(s,c,u,h){Z.rangeCheck(s.length,c,u);for(let p=c;p<u;p++)s[p]=h}static rangeCheck(s,c,u){if(c>u)throw new A("fromIndex("+c+") > toIndex("+u+")");if(c<0)throw new K(c);if(u>s)throw new K(u)}static asList(...s){return s}static create(s,c,u){return Array.from({length:s}).map(p=>Array.from({length:c}).fill(u))}static createInt32Array(s,c,u){return Array.from({length:s}).map(p=>Int32Array.from({length:c}).fill(u))}static equals(s,c){if(!s||!c||!s.length||!c.length||s.length!==c.length)return!1;for(let u=0,h=s.length;u<h;u++)if(s[u]!==c[u])return!1;return!0}static hashCode(s){if(s===null)return 0;let c=1;for(const u of s)c=31*c+u;return c}static fillUint8Array(s,c){for(let u=0;u!==s.length;u++)s[u]=c}static copyOf(s,c){return s.slice(0,c)}static copyOfUint8Array(s,c){if(s.length<=c){const u=new Uint8Array(c);return u.set(s),u}return s.slice(0,c)}static copyOfRange(s,c,u){const h=u-c,p=new Int32Array(h);return k.arraycopy(s,c,p,0,h),p}static binarySearch(s,c,u){u===void 0&&(u=Z.numberComparator);let h=0,p=s.length-1;for(;h<=p;){const y=p+h>>1,b=u(c,s[y]);if(b>0)h=y+1;else if(b<0)p=y-1;else return y}return-h-1}static numberComparator(s,c){return s-c}}class H{static numberOfTrailingZeros(s){let c;if(s===0)return 32;let u=31;return c=s<<16,c!==0&&(u-=16,s=c),c=s<<8,c!==0&&(u-=8,s=c),c=s<<4,c!==0&&(u-=4,s=c),c=s<<2,c!==0&&(u-=2,s=c),u-(s<<1>>>31)}static numberOfLeadingZeros(s){if(s===0)return 32;let c=1;return s>>>16||(c+=16,s<<=16),s>>>24||(c+=8,s<<=8),s>>>28||(c+=4,s<<=4),s>>>30||(c+=2,s<<=2),c-=s>>>31,c}static toHexString(s){return s.toString(16)}static toBinaryString(s){return String(parseInt(String(s),2))}static bitCount(s){return s=s-(s>>>1&1431655765),s=(s&858993459)+(s>>>2&858993459),s=s+(s>>>4)&252645135,s=s+(s>>>8),s=s+(s>>>16),s&63}static truncDivision(s,c){return Math.trunc(s/c)}static parseInt(s,c=void 0){return parseInt(s,c)}}H.MIN_VALUE_32_BITS=-2147483648,H.MAX_VALUE=Number.MAX_SAFE_INTEGER;class W{constructor(s,c){s===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=s,c==null?this.bits=W.makeArray(s):this.bits=c)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(s){if(s>this.bits.length*32){const c=W.makeArray(s);k.arraycopy(this.bits,0,c,0,this.bits.length),this.bits=c}}get(s){return(this.bits[Math.floor(s/32)]&1<<(s&31))!==0}set(s){this.bits[Math.floor(s/32)]|=1<<(s&31)}flip(s){this.bits[Math.floor(s/32)]^=1<<(s&31)}getNextSet(s){const c=this.size;if(s>=c)return c;const u=this.bits;let h=Math.floor(s/32),p=u[h];p&=~((1<<(s&31))-1);const y=u.length;for(;p===0;){if(++h===y)return c;p=u[h]}const b=h*32+H.numberOfTrailingZeros(p);return b>c?c:b}getNextUnset(s){const c=this.size;if(s>=c)return c;const u=this.bits;let h=Math.floor(s/32),p=~u[h];p&=~((1<<(s&31))-1);const y=u.length;for(;p===0;){if(++h===y)return c;p=~u[h]}const b=h*32+H.numberOfTrailingZeros(p);return b>c?c:b}setBulk(s,c){this.bits[Math.floor(s/32)]=c}setRange(s,c){if(c<s||s<0||c>this.size)throw new A;if(c===s)return;c--;const u=Math.floor(s/32),h=Math.floor(c/32),p=this.bits;for(let y=u;y<=h;y++){const b=y>u?0:s&31,T=(2<<(y<h?31:c&31))-(1<<b);p[y]|=T}}clear(){const s=this.bits.length,c=this.bits;for(let u=0;u<s;u++)c[u]=0}isRange(s,c,u){if(c<s||s<0||c>this.size)throw new A;if(c===s)return!0;c--;const h=Math.floor(s/32),p=Math.floor(c/32),y=this.bits;for(let b=h;b<=p;b++){const S=b>h?0:s&31,D=(2<<(b<p?31:c&31))-(1<<S)&4294967295;if((y[b]&D)!==(u?D:0))return!1}return!0}appendBit(s){this.ensureCapacity(this.size+1),s&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(s,c){if(c<0||c>32)throw new A("Num bits must be between 0 and 32");this.ensureCapacity(this.size+c);for(let u=c;u>0;u--)this.appendBit((s>>u-1&1)===1)}appendBitArray(s){const c=s.size;this.ensureCapacity(this.size+c);for(let u=0;u<c;u++)this.appendBit(s.get(u))}xor(s){if(this.size!==s.size)throw new A("Sizes don't match");const c=this.bits;for(let u=0,h=c.length;u<h;u++)c[u]^=s.bits[u]}toBytes(s,c,u,h){for(let p=0;p<h;p++){let y=0;for(let b=0;b<8;b++)this.get(s)&&(y|=1<<7-b),s++;c[u+p]=y}}getBitArray(){return this.bits}reverse(){const s=new Int32Array(this.bits.length),c=Math.floor((this.size-1)/32),u=c+1,h=this.bits;for(let p=0;p<u;p++){let y=h[p];y=y>>1&1431655765|(y&1431655765)<<1,y=y>>2&858993459|(y&858993459)<<2,y=y>>4&252645135|(y&252645135)<<4,y=y>>8&16711935|(y&16711935)<<8,y=y>>16&65535|(y&65535)<<16,s[c-p]=y}if(this.size!==u*32){const p=u*32-this.size;let y=s[0]>>>p;for(let b=1;b<u;b++){const S=s[b];y|=S<<32-p,s[b-1]=y,y=S>>>p}s[u-1]=y}this.bits=s}static makeArray(s){return new Int32Array(Math.floor((s+31)/32))}equals(s){if(!(s instanceof W))return!1;const c=s;return this.size===c.size&&Z.equals(this.bits,c.bits)}hashCode(){return 31*this.size+Z.hashCode(this.bits)}toString(){let s="";for(let c=0,u=this.size;c<u;c++)(c&7)===0&&(s+=" "),s+=this.get(c)?"X":".";return s}clone(){return new W(this.size,this.bits.slice())}}var te;(function(G){G[G.OTHER=0]="OTHER",G[G.PURE_BARCODE=1]="PURE_BARCODE",G[G.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",G[G.TRY_HARDER=3]="TRY_HARDER",G[G.CHARACTER_SET=4]="CHARACTER_SET",G[G.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",G[G.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",G[G.ASSUME_GS1=7]="ASSUME_GS1",G[G.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",G[G.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",G[G.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(te||(te={}));var se=te;class z extends m{static getFormatInstance(){return new z}}z.kind="FormatException";var j;(function(G){G[G.Cp437=0]="Cp437",G[G.ISO8859_1=1]="ISO8859_1",G[G.ISO8859_2=2]="ISO8859_2",G[G.ISO8859_3=3]="ISO8859_3",G[G.ISO8859_4=4]="ISO8859_4",G[G.ISO8859_5=5]="ISO8859_5",G[G.ISO8859_6=6]="ISO8859_6",G[G.ISO8859_7=7]="ISO8859_7",G[G.ISO8859_8=8]="ISO8859_8",G[G.ISO8859_9=9]="ISO8859_9",G[G.ISO8859_10=10]="ISO8859_10",G[G.ISO8859_11=11]="ISO8859_11",G[G.ISO8859_13=12]="ISO8859_13",G[G.ISO8859_14=13]="ISO8859_14",G[G.ISO8859_15=14]="ISO8859_15",G[G.ISO8859_16=15]="ISO8859_16",G[G.SJIS=16]="SJIS",G[G.Cp1250=17]="Cp1250",G[G.Cp1251=18]="Cp1251",G[G.Cp1252=19]="Cp1252",G[G.Cp1256=20]="Cp1256",G[G.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",G[G.UTF8=22]="UTF8",G[G.ASCII=23]="ASCII",G[G.Big5=24]="Big5",G[G.GB18030=25]="GB18030",G[G.EUC_KR=26]="EUC_KR"})(j||(j={}));class F{constructor(s,c,u,...h){this.valueIdentifier=s,this.name=u,typeof c=="number"?this.values=Int32Array.from([c]):this.values=c,this.otherEncodingNames=h,F.VALUE_IDENTIFIER_TO_ECI.set(s,this),F.NAME_TO_ECI.set(u,this);const p=this.values;for(let y=0,b=p.length;y!==b;y++){const S=p[y];F.VALUES_TO_ECI.set(S,this)}for(const y of h)F.NAME_TO_ECI.set(y,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(s){if(s<0||s>=900)throw new z("incorect value");const c=F.VALUES_TO_ECI.get(s);if(c===void 0)throw new z("incorect value");return c}static getCharacterSetECIByName(s){const c=F.NAME_TO_ECI.get(s);if(c===void 0)throw new z("incorect value");return c}equals(s){if(!(s instanceof F))return!1;const c=s;return this.getName()===c.getName()}}F.VALUE_IDENTIFIER_TO_ECI=new Map,F.VALUES_TO_ECI=new Map,F.NAME_TO_ECI=new Map,F.Cp437=new F(j.Cp437,Int32Array.from([0,2]),"Cp437"),F.ISO8859_1=new F(j.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),F.ISO8859_2=new F(j.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),F.ISO8859_3=new F(j.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),F.ISO8859_4=new F(j.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),F.ISO8859_5=new F(j.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),F.ISO8859_6=new F(j.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),F.ISO8859_7=new F(j.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),F.ISO8859_8=new F(j.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),F.ISO8859_9=new F(j.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),F.ISO8859_10=new F(j.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),F.ISO8859_11=new F(j.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),F.ISO8859_13=new F(j.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),F.ISO8859_14=new F(j.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),F.ISO8859_15=new F(j.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),F.ISO8859_16=new F(j.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),F.SJIS=new F(j.SJIS,20,"SJIS","Shift_JIS"),F.Cp1250=new F(j.Cp1250,21,"Cp1250","windows-1250"),F.Cp1251=new F(j.Cp1251,22,"Cp1251","windows-1251"),F.Cp1252=new F(j.Cp1252,23,"Cp1252","windows-1252"),F.Cp1256=new F(j.Cp1256,24,"Cp1256","windows-1256"),F.UnicodeBigUnmarked=new F(j.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),F.UTF8=new F(j.UTF8,26,"UTF8","UTF-8"),F.ASCII=new F(j.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),F.Big5=new F(j.Big5,28,"Big5"),F.GB18030=new F(j.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),F.EUC_KR=new F(j.EUC_KR,30,"EUC_KR","EUC-KR");class J extends m{}J.kind="UnsupportedOperationException";class Y{static decode(s,c){const u=this.encodingName(c);return this.customDecoder?this.customDecoder(s,u):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(u)?this.decodeFallback(s,u):new TextDecoder(u).decode(s)}static shouldDecodeOnFallback(s){return!Y.isBrowser()&&s==="ISO-8859-1"}static encode(s,c){const u=this.encodingName(c);return this.customEncoder?this.customEncoder(s,u):typeof TextEncoder>"u"?this.encodeFallback(s):new TextEncoder().encode(s)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(s){return typeof s=="string"?s:s.getName()}static encodingCharacterSet(s){return s instanceof F?s:F.getCharacterSetECIByName(s)}static decodeFallback(s,c){const u=this.encodingCharacterSet(c);if(Y.isDecodeFallbackSupported(u)){let h="";for(let p=0,y=s.length;p<y;p++){let b=s[p].toString(16);b.length<2&&(b="0"+b),h+="%"+b}return decodeURIComponent(h)}if(u.equals(F.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(s.buffer));throw new J(`Encoding ${this.encodingName(c)} not supported by fallback.`)}static isDecodeFallbackSupported(s){return s.equals(F.UTF8)||s.equals(F.ISO8859_1)||s.equals(F.ASCII)}static encodeFallback(s){const u=btoa(unescape(encodeURIComponent(s))).split(""),h=[];for(let p=0;p<u.length;p++)h.push(u[p].charCodeAt(0));return new Uint8Array(h)}}class O{static castAsNonUtf8Char(s,c=null){const u=c?c.getName():this.ISO88591;return Y.decode(new Uint8Array([s]),u)}static guessEncoding(s,c){if(c!=null&&c.get(se.CHARACTER_SET)!==void 0)return c.get(se.CHARACTER_SET).toString();const u=s.length;let h=!0,p=!0,y=!0,b=0,S=0,T=0,D=0,$=0,X=0,oe=0,ce=0,fe=0,xe=0,Ae=0;const $e=s.length>3&&s[0]===239&&s[1]===187&&s[2]===191;for(let He=0;He<u&&(h||p||y);He++){const Fe=s[He]&255;y&&(b>0?(Fe&128)===0?y=!1:b--:(Fe&128)!==0&&((Fe&64)===0?y=!1:(b++,(Fe&32)===0?S++:(b++,(Fe&16)===0?T++:(b++,(Fe&8)===0?D++:y=!1))))),h&&(Fe>127&&Fe<160?h=!1:Fe>159&&(Fe<192||Fe===215||Fe===247)&&Ae++),p&&($>0?Fe<64||Fe===127||Fe>252?p=!1:$--:Fe===128||Fe===160||Fe>239?p=!1:Fe>160&&Fe<224?(X++,ce=0,oe++,oe>fe&&(fe=oe)):Fe>127?($++,oe=0,ce++,ce>xe&&(xe=ce)):(oe=0,ce=0))}return y&&b>0&&(y=!1),p&&$>0&&(p=!1),y&&($e||S+T+D>0)?O.UTF8:p&&(O.ASSUME_SHIFT_JIS||fe>=3||xe>=3)?O.SHIFT_JIS:h&&p?fe===2&&X===2||Ae*10>=u?O.SHIFT_JIS:O.ISO88591:h?O.ISO88591:p?O.SHIFT_JIS:y?O.UTF8:O.PLATFORM_DEFAULT_ENCODING}static format(s,...c){let u=-1;function h(y,b,S,T,D,$){if(y==="%%")return"%";if(c[++u]===void 0)return;y=T?parseInt(T.substr(1)):void 0;let X=D?parseInt(D.substr(1)):void 0,oe;switch($){case"s":oe=c[u];break;case"c":oe=c[u][0];break;case"f":oe=parseFloat(c[u]).toFixed(y);break;case"p":oe=parseFloat(c[u]).toPrecision(y);break;case"e":oe=parseFloat(c[u]).toExponential(y);break;case"x":oe=parseInt(c[u]).toString(X||16);break;case"d":oe=parseFloat(parseInt(c[u],X||10).toPrecision(y)).toFixed(0);break}oe=typeof oe=="object"?JSON.stringify(oe):(+oe).toString(X);let ce=parseInt(S),fe=S&&S[0]+""=="0"?"0":" ";for(;oe.length<ce;)oe=b!==void 0?oe+fe:fe+oe;return oe}let p=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return s.replace(p,h)}static getBytes(s,c){return Y.encode(s,c)}static getCharCode(s,c=0){return s.charCodeAt(c)}static getCharAt(s){return String.fromCharCode(s)}}O.SHIFT_JIS=F.SJIS.getName(),O.GB2312="GB2312",O.ISO88591=F.ISO8859_1.getName(),O.EUC_JP="EUC_JP",O.UTF8=F.UTF8.getName(),O.PLATFORM_DEFAULT_ENCODING=O.UTF8,O.ASSUME_SHIFT_JIS=!1;class q{constructor(s=""){this.value=s}enableDecoding(s){return this.encoding=s,this}append(s){return typeof s=="string"?this.value+=s.toString():this.encoding?this.value+=O.castAsNonUtf8Char(s,this.encoding):this.value+=String.fromCharCode(s),this}appendChars(s,c,u){for(let h=c;c<c+u;h++)this.append(s[h]);return this}length(){return this.value.length}charAt(s){return this.value.charAt(s)}deleteCharAt(s){this.value=this.value.substr(0,s)+this.value.substring(s+1)}setCharAt(s,c){this.value=this.value.substr(0,s)+c+this.value.substr(s+1)}substring(s,c){return this.value.substring(s,c)}setLengthToZero(){this.value=""}toString(){return this.value}insert(s,c){this.value=this.value.substr(0,s)+c+this.value.substr(s+c.length)}}class ue{constructor(s,c,u,h){if(this.width=s,this.height=c,this.rowSize=u,this.bits=h,c==null&&(c=s),this.height=c,s<1||c<1)throw new A("Both dimensions must be greater than 0");u==null&&(u=Math.floor((s+31)/32)),this.rowSize=u,h==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(s){const c=s.length,u=s[0].length,h=new ue(u,c);for(let p=0;p<c;p++){const y=s[p];for(let b=0;b<u;b++)y[b]&&h.set(b,p)}return h}static parseFromString(s,c,u){if(s===null)throw new A("stringRepresentation cannot be null");const h=new Array(s.length);let p=0,y=0,b=-1,S=0,T=0;for(;T<s.length;)if(s.charAt(T)===`
`||s.charAt(T)==="\r"){if(p>y){if(b===-1)b=p-y;else if(p-y!==b)throw new A("row lengths do not match");y=p,S++}T++}else if(s.substring(T,T+c.length)===c)T+=c.length,h[p]=!0,p++;else if(s.substring(T,T+u.length)===u)T+=u.length,h[p]=!1,p++;else throw new A("illegal character encountered: "+s.substring(T));if(p>y){if(b===-1)b=p-y;else if(p-y!==b)throw new A("row lengths do not match");S++}const D=new ue(b,S);for(let $=0;$<p;$++)h[$]&&D.set(Math.floor($%b),Math.floor($/b));return D}get(s,c){const u=c*this.rowSize+Math.floor(s/32);return(this.bits[u]>>>(s&31)&1)!==0}set(s,c){const u=c*this.rowSize+Math.floor(s/32);this.bits[u]|=1<<(s&31)&4294967295}unset(s,c){const u=c*this.rowSize+Math.floor(s/32);this.bits[u]&=~(1<<(s&31)&4294967295)}flip(s,c){const u=c*this.rowSize+Math.floor(s/32);this.bits[u]^=1<<(s&31)&4294967295}xor(s){if(this.width!==s.getWidth()||this.height!==s.getHeight()||this.rowSize!==s.getRowSize())throw new A("input matrix dimensions do not match");const c=new W(Math.floor(this.width/32)+1),u=this.rowSize,h=this.bits;for(let p=0,y=this.height;p<y;p++){const b=p*u,S=s.getRow(p,c).getBitArray();for(let T=0;T<u;T++)h[b+T]^=S[T]}}clear(){const s=this.bits,c=s.length;for(let u=0;u<c;u++)s[u]=0}setRegion(s,c,u,h){if(c<0||s<0)throw new A("Left and top must be nonnegative");if(h<1||u<1)throw new A("Height and width must be at least 1");const p=s+u,y=c+h;if(y>this.height||p>this.width)throw new A("The region must fit inside the matrix");const b=this.rowSize,S=this.bits;for(let T=c;T<y;T++){const D=T*b;for(let $=s;$<p;$++)S[D+Math.floor($/32)]|=1<<($&31)&4294967295}}getRow(s,c){c==null||c.getSize()<this.width?c=new W(this.width):c.clear();const u=this.rowSize,h=this.bits,p=s*u;for(let y=0;y<u;y++)c.setBulk(y*32,h[p+y]);return c}setRow(s,c){k.arraycopy(c.getBitArray(),0,this.bits,s*this.rowSize,this.rowSize)}rotate180(){const s=this.getWidth(),c=this.getHeight();let u=new W(s),h=new W(s);for(let p=0,y=Math.floor((c+1)/2);p<y;p++)u=this.getRow(p,u),h=this.getRow(c-1-p,h),u.reverse(),h.reverse(),this.setRow(p,h),this.setRow(c-1-p,u)}getEnclosingRectangle(){const s=this.width,c=this.height,u=this.rowSize,h=this.bits;let p=s,y=c,b=-1,S=-1;for(let T=0;T<c;T++)for(let D=0;D<u;D++){const $=h[T*u+D];if($!==0){if(T<y&&(y=T),T>S&&(S=T),D*32<p){let X=0;for(;($<<31-X&4294967295)===0;)X++;D*32+X<p&&(p=D*32+X)}if(D*32+31>b){let X=31;for(;!($>>>X);)X--;D*32+X>b&&(b=D*32+X)}}}return b<p||S<y?null:Int32Array.from([p,y,b-p+1,S-y+1])}getTopLeftOnBit(){const s=this.rowSize,c=this.bits;let u=0;for(;u<c.length&&c[u]===0;)u++;if(u===c.length)return null;const h=u/s;let p=u%s*32;const y=c[u];let b=0;for(;(y<<31-b&4294967295)===0;)b++;return p+=b,Int32Array.from([p,h])}getBottomRightOnBit(){const s=this.rowSize,c=this.bits;let u=c.length-1;for(;u>=0&&c[u]===0;)u--;if(u<0)return null;const h=Math.floor(u/s);let p=Math.floor(u%s)*32;const y=c[u];let b=31;for(;!(y>>>b);)b--;return p+=b,Int32Array.from([p,h])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(s){if(!(s instanceof ue))return!1;const c=s;return this.width===c.width&&this.height===c.height&&this.rowSize===c.rowSize&&Z.equals(this.bits,c.bits)}hashCode(){let s=this.width;return s=31*s+this.width,s=31*s+this.height,s=31*s+this.rowSize,s=31*s+Z.hashCode(this.bits),s}toString(s="X ",c="  ",u=`
`){return this.buildToString(s,c,u)}buildToString(s,c,u){let h=new q;for(let p=0,y=this.height;p<y;p++){for(let b=0,S=this.width;b<S;b++)h.append(this.get(b,p)?s:c);h.append(u)}return h.toString()}clone(){return new ue(this.width,this.height,this.rowSize,this.bits.slice())}}class re extends m{static getNotFoundInstance(){return new re}}re.kind="NotFoundException";class ie extends M{constructor(s){super(s),this.luminances=ie.EMPTY,this.buckets=new Int32Array(ie.LUMINANCE_BUCKETS)}getBlackRow(s,c){const u=this.getLuminanceSource(),h=u.getWidth();c==null||c.getSize()<h?c=new W(h):c.clear(),this.initArrays(h);const p=u.getRow(s,this.luminances),y=this.buckets;for(let S=0;S<h;S++)y[(p[S]&255)>>ie.LUMINANCE_SHIFT]++;const b=ie.estimateBlackPoint(y);if(h<3)for(let S=0;S<h;S++)(p[S]&255)<b&&c.set(S);else{let S=p[0]&255,T=p[1]&255;for(let D=1;D<h-1;D++){const $=p[D+1]&255;(T*4-S-$)/2<b&&c.set(D),S=T,T=$}}return c}getBlackMatrix(){const s=this.getLuminanceSource(),c=s.getWidth(),u=s.getHeight(),h=new ue(c,u);this.initArrays(c);const p=this.buckets;for(let S=1;S<5;S++){const T=Math.floor(u*S/5),D=s.getRow(T,this.luminances),$=Math.floor(c*4/5);for(let X=Math.floor(c/5);X<$;X++){const oe=D[X]&255;p[oe>>ie.LUMINANCE_SHIFT]++}}const y=ie.estimateBlackPoint(p),b=s.getMatrix();for(let S=0;S<u;S++){const T=S*c;for(let D=0;D<c;D++)(b[T+D]&255)<y&&h.set(D,S)}return h}createBinarizer(s){return new ie(s)}initArrays(s){this.luminances.length<s&&(this.luminances=new Uint8ClampedArray(s));const c=this.buckets;for(let u=0;u<ie.LUMINANCE_BUCKETS;u++)c[u]=0}static estimateBlackPoint(s){const c=s.length;let u=0,h=0,p=0;for(let D=0;D<c;D++)s[D]>p&&(h=D,p=s[D]),s[D]>u&&(u=s[D]);let y=0,b=0;for(let D=0;D<c;D++){const $=D-h,X=s[D]*$*$;X>b&&(y=D,b=X)}if(h>y){const D=h;h=y,y=D}if(y-h<=c/16)throw new re;let S=y-1,T=-1;for(let D=y-1;D>h;D--){const $=D-h,X=$*$*(y-D)*(u-s[D]);X>T&&(S=D,T=X)}return S<<ie.LUMINANCE_SHIFT}}ie.LUMINANCE_BITS=5,ie.LUMINANCE_SHIFT=8-ie.LUMINANCE_BITS,ie.LUMINANCE_BUCKETS=1<<ie.LUMINANCE_BITS,ie.EMPTY=Uint8ClampedArray.from([0]);class he extends ie{constructor(s){super(s),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const s=this.getLuminanceSource(),c=s.getWidth(),u=s.getHeight();if(c>=he.MINIMUM_DIMENSION&&u>=he.MINIMUM_DIMENSION){const h=s.getMatrix();let p=c>>he.BLOCK_SIZE_POWER;(c&he.BLOCK_SIZE_MASK)!==0&&p++;let y=u>>he.BLOCK_SIZE_POWER;(u&he.BLOCK_SIZE_MASK)!==0&&y++;const b=he.calculateBlackPoints(h,p,y,c,u),S=new ue(c,u);he.calculateThresholdForBlock(h,p,y,c,u,b,S),this.matrix=S}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(s){return new he(s)}static calculateThresholdForBlock(s,c,u,h,p,y,b){const S=p-he.BLOCK_SIZE,T=h-he.BLOCK_SIZE;for(let D=0;D<u;D++){let $=D<<he.BLOCK_SIZE_POWER;$>S&&($=S);const X=he.cap(D,2,u-3);for(let oe=0;oe<c;oe++){let ce=oe<<he.BLOCK_SIZE_POWER;ce>T&&(ce=T);const fe=he.cap(oe,2,c-3);let xe=0;for(let $e=-2;$e<=2;$e++){const He=y[X+$e];xe+=He[fe-2]+He[fe-1]+He[fe]+He[fe+1]+He[fe+2]}const Ae=xe/25;he.thresholdBlock(s,ce,$,Ae,h,b)}}}static cap(s,c,u){return s<c?c:s>u?u:s}static thresholdBlock(s,c,u,h,p,y){for(let b=0,S=u*p+c;b<he.BLOCK_SIZE;b++,S+=p)for(let T=0;T<he.BLOCK_SIZE;T++)(s[S+T]&255)<=h&&y.set(c+T,u+b)}static calculateBlackPoints(s,c,u,h,p){const y=p-he.BLOCK_SIZE,b=h-he.BLOCK_SIZE,S=new Array(u);for(let T=0;T<u;T++){S[T]=new Int32Array(c);let D=T<<he.BLOCK_SIZE_POWER;D>y&&(D=y);for(let $=0;$<c;$++){let X=$<<he.BLOCK_SIZE_POWER;X>b&&(X=b);let oe=0,ce=255,fe=0;for(let Ae=0,$e=D*h+X;Ae<he.BLOCK_SIZE;Ae++,$e+=h){for(let He=0;He<he.BLOCK_SIZE;He++){const Fe=s[$e+He]&255;oe+=Fe,Fe<ce&&(ce=Fe),Fe>fe&&(fe=Fe)}if(fe-ce>he.MIN_DYNAMIC_RANGE)for(Ae++,$e+=h;Ae<he.BLOCK_SIZE;Ae++,$e+=h)for(let He=0;He<he.BLOCK_SIZE;He++)oe+=s[$e+He]&255}let xe=oe>>he.BLOCK_SIZE_POWER*2;if(fe-ce<=he.MIN_DYNAMIC_RANGE&&(xe=ce/2,T>0&&$>0)){const Ae=(S[T-1][$]+2*S[T][$-1]+S[T-1][$-1])/4;ce<Ae&&(xe=Ae)}S[T][$]=xe}}return S}}he.BLOCK_SIZE_POWER=3,he.BLOCK_SIZE=1<<he.BLOCK_SIZE_POWER,he.BLOCK_SIZE_MASK=he.BLOCK_SIZE-1,he.MINIMUM_DIMENSION=he.BLOCK_SIZE*5,he.MIN_DYNAMIC_RANGE=24;class Ne{constructor(s,c){this.width=s,this.height=c}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(s,c,u,h){throw new J("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new J("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new J("This luminance source does not support rotation by 45 degrees.")}toString(){const s=new Uint8ClampedArray(this.width);let c=new q;for(let u=0;u<this.height;u++){const h=this.getRow(u,s);for(let p=0;p<this.width;p++){const y=h[p]&255;let b;y<64?b="#":y<128?b="+":y<192?b=".":b=" ",c.append(b)}c.append(`
`)}return c.toString()}}class Te extends Ne{constructor(s){super(s.getWidth(),s.getHeight()),this.delegate=s}getRow(s,c){const u=this.delegate.getRow(s,c),h=this.getWidth();for(let p=0;p<h;p++)u[p]=255-(u[p]&255);return u}getMatrix(){const s=this.delegate.getMatrix(),c=this.getWidth()*this.getHeight(),u=new Uint8ClampedArray(c);for(let h=0;h<c;h++)u[h]=255-(s[h]&255);return u}isCropSupported(){return this.delegate.isCropSupported()}crop(s,c,u,h){return new Te(this.delegate.crop(s,c,u,h))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Te(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Te(this.delegate.rotateCounterClockwise45())}}class We extends Ne{constructor(s){super(s.width,s.height),this.canvas=s,this.tempCanvasElement=null,this.buffer=We.makeBufferFromCanvasImageData(s)}static makeBufferFromCanvasImageData(s){const c=s.getContext("2d").getImageData(0,0,s.width,s.height);return We.toGrayscaleBuffer(c.data,s.width,s.height)}static toGrayscaleBuffer(s,c,u){const h=new Uint8ClampedArray(c*u);for(let p=0,y=0,b=s.length;p<b;p+=4,y++){let S;if(s[p+3]===0)S=255;else{const D=s[p],$=s[p+1],X=s[p+2];S=306*D+601*$+117*X+512>>10}h[y]=S}return h}getRow(s,c){if(s<0||s>=this.getHeight())throw new A("Requested row is outside the image: "+s);const u=this.getWidth(),h=s*u;return c===null?c=this.buffer.slice(h,h+u):(c.length<u&&(c=new Uint8ClampedArray(u)),c.set(this.buffer.slice(h,h+u))),c}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(s,c,u,h){return super.crop(s,c,u,h),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const s=this.canvas.ownerDocument.createElement("canvas");s.width=this.canvas.width,s.height=this.canvas.height,this.tempCanvasElement=s}return this.tempCanvasElement}rotate(s){const c=this.getTempCanvasElement(),u=c.getContext("2d"),h=s*We.DEGREE_TO_RADIANS,p=this.canvas.width,y=this.canvas.height,b=Math.ceil(Math.abs(Math.cos(h))*p+Math.abs(Math.sin(h))*y),S=Math.ceil(Math.abs(Math.sin(h))*p+Math.abs(Math.cos(h))*y);return c.width=b,c.height=S,u.translate(b/2,S/2),u.rotate(h),u.drawImage(this.canvas,p/-2,y/-2),this.buffer=We.makeBufferFromCanvasImageData(c),this}invert(){return new Te(this)}}We.DEGREE_TO_RADIANS=Math.PI/180;class ae{constructor(s,c,u){this.deviceId=s,this.label=c,this.kind="videoinput",this.groupId=u||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var ge=(globalThis||Xp||self||window||void 0)&&(globalThis||Xp||self||window||void 0).__awaiter||function(G,s,c,u){function h(p){return p instanceof c?p:new c(function(y){y(p)})}return new(c||(c=Promise))(function(p,y){function b(D){try{T(u.next(D))}catch($){y($)}}function S(D){try{T(u.throw(D))}catch($){y($)}}function T(D){D.done?p(D.value):h(D.value).then(b,S)}T((u=u.apply(G,s||[])).next())})};class me{constructor(s,c=500,u){this.reader=s,this.timeBetweenScansMillis=c,this._hints=u,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(s){this._timeBetweenDecodingAttempts=s<0?0:s}set hints(s){this._hints=s||null}get hints(){return this._hints}listVideoInputDevices(){return ge(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const s=yield navigator.mediaDevices.enumerateDevices(),c=[];for(const u of s){const h=u.kind==="video"?"videoinput":u.kind;if(h!=="videoinput")continue;const p=u.deviceId||u.id,y=u.label||`Video device ${c.length+1}`,b=u.groupId,S={deviceId:p,label:y,kind:h,groupId:b};c.push(S)}return c})}getVideoInputDevices(){return ge(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(c=>new ae(c.deviceId,c.label))})}findDeviceById(s){return ge(this,void 0,void 0,function*(){const c=yield this.listVideoInputDevices();return c?c.find(u=>u.deviceId===s):null})}decodeFromInputVideoDevice(s,c){return ge(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(s,c)})}decodeOnceFromVideoDevice(s,c){return ge(this,void 0,void 0,function*(){this.reset();let u;s?u={deviceId:{exact:s}}:u={facingMode:"environment"};const h={video:u};return yield this.decodeOnceFromConstraints(h,c)})}decodeOnceFromConstraints(s,c){return ge(this,void 0,void 0,function*(){const u=yield navigator.mediaDevices.getUserMedia(s);return yield this.decodeOnceFromStream(u,c)})}decodeOnceFromStream(s,c){return ge(this,void 0,void 0,function*(){this.reset();const u=yield this.attachStreamToVideo(s,c);return yield this.decodeOnce(u)})}decodeFromInputVideoDeviceContinuously(s,c,u){return ge(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(s,c,u)})}decodeFromVideoDevice(s,c,u){return ge(this,void 0,void 0,function*(){let h;s?h={deviceId:{exact:s}}:h={facingMode:"environment"};const p={video:h};return yield this.decodeFromConstraints(p,c,u)})}decodeFromConstraints(s,c,u){return ge(this,void 0,void 0,function*(){const h=yield navigator.mediaDevices.getUserMedia(s);return yield this.decodeFromStream(h,c,u)})}decodeFromStream(s,c,u){return ge(this,void 0,void 0,function*(){this.reset();const h=yield this.attachStreamToVideo(s,c);return yield this.decodeContinuously(h,u)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(s,c){return ge(this,void 0,void 0,function*(){const u=this.prepareVideoElement(c);return this.addVideoSource(u,s),this.videoElement=u,this.stream=s,yield this.playVideoOnLoadAsync(u),u})}playVideoOnLoadAsync(s){return new Promise((c,u)=>this.playVideoOnLoad(s,()=>c()))}playVideoOnLoad(s,c){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(s),s.addEventListener("ended",this.videoEndedListener),s.addEventListener("canplay",this.videoCanPlayListener),s.addEventListener("playing",c),this.tryPlayVideo(s)}isVideoPlaying(s){return s.currentTime>0&&!s.paused&&!s.ended&&s.readyState>2}tryPlayVideo(s){return ge(this,void 0,void 0,function*(){if(this.isVideoPlaying(s)){console.warn("Trying to play video that is already playing.");return}try{yield s.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(s,c){const u=document.getElementById(s);if(!u)throw new w(`element with id '${s}' not found`);if(u.nodeName.toLowerCase()!==c.toLowerCase())throw new w(`element with id '${s}' must be an ${c} element`);return u}decodeFromImage(s,c){if(!s&&!c)throw new w("either imageElement with a src set or an url must be provided");return c&&!s?this.decodeFromImageUrl(c):this.decodeFromImageElement(s)}decodeFromVideo(s,c){if(!s&&!c)throw new w("Either an element with a src set or an URL must be provided");return c&&!s?this.decodeFromVideoUrl(c):this.decodeFromVideoElement(s)}decodeFromVideoContinuously(s,c,u){if(s===void 0&&c===void 0)throw new w("Either an element with a src set or an URL must be provided");return c&&!s?this.decodeFromVideoUrlContinuously(c,u):this.decodeFromVideoElementContinuously(s,u)}decodeFromImageElement(s){if(!s)throw new w("An image element must be provided.");this.reset();const c=this.prepareImageElement(s);this.imageElement=c;let u;return this.isImageLoaded(c)?u=this.decodeOnce(c,!1,!0):u=this._decodeOnLoadImage(c),u}decodeFromVideoElement(s){const c=this._decodeFromVideoElementSetup(s);return this._decodeOnLoadVideo(c)}decodeFromVideoElementContinuously(s,c){const u=this._decodeFromVideoElementSetup(s);return this._decodeOnLoadVideoContinuously(u,c)}_decodeFromVideoElementSetup(s){if(!s)throw new w("A video element must be provided.");this.reset();const c=this.prepareVideoElement(s);return this.videoElement=c,c}decodeFromImageUrl(s){if(!s)throw new w("An URL must be provided.");this.reset();const c=this.prepareImageElement();this.imageElement=c;const u=this._decodeOnLoadImage(c);return c.src=s,u}decodeFromVideoUrl(s){if(!s)throw new w("An URL must be provided.");this.reset();const c=this.prepareVideoElement(),u=this.decodeFromVideoElement(c);return c.src=s,u}decodeFromVideoUrlContinuously(s,c){if(!s)throw new w("An URL must be provided.");this.reset();const u=this.prepareVideoElement(),h=this.decodeFromVideoElementContinuously(u,c);return u.src=s,h}_decodeOnLoadImage(s){return new Promise((c,u)=>{this.imageLoadedListener=()=>this.decodeOnce(s,!1,!0).then(c,u),s.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(s){return ge(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(s),yield this.decodeOnce(s)})}_decodeOnLoadVideoContinuously(s,c){return ge(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(s),this.decodeContinuously(s,c)})}isImageLoaded(s){return!(!s.complete||s.naturalWidth===0)}prepareImageElement(s){let c;return typeof s>"u"&&(c=document.createElement("img"),c.width=200,c.height=200),typeof s=="string"&&(c=this.getMediaElement(s,"img")),s instanceof HTMLImageElement&&(c=s),c}prepareVideoElement(s){let c;return!s&&typeof document<"u"&&(c=document.createElement("video"),c.width=200,c.height=200),typeof s=="string"&&(c=this.getMediaElement(s,"video")),s instanceof HTMLVideoElement&&(c=s),c.setAttribute("autoplay","true"),c.setAttribute("muted","true"),c.setAttribute("playsinline","true"),c}decodeOnce(s,c=!0,u=!0){this._stopAsyncDecode=!1;const h=(p,y)=>{if(this._stopAsyncDecode){y(new re("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const b=this.decode(s);p(b)}catch(b){const S=c&&b instanceof re,D=(b instanceof N||b instanceof z)&&u;if(S||D)return setTimeout(h,this._timeBetweenDecodingAttempts,p,y);y(b)}};return new Promise((p,y)=>h(p,y))}decodeContinuously(s,c){this._stopContinuousDecode=!1;const u=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const h=this.decode(s);c(h,null),setTimeout(u,this.timeBetweenScansMillis)}catch(h){c(null,h);const p=h instanceof N||h instanceof z,y=h instanceof re;(p||y)&&setTimeout(u,this._timeBetweenDecodingAttempts)}};u()}decode(s){const c=this.createBinaryBitmap(s);return this.decodeBitmap(c)}_isHTMLVideoElement(s){return s.videoWidth!==0}drawFrameOnCanvas(s,c,u){c||(c={sx:0,sy:0,sWidth:s.videoWidth,sHeight:s.videoHeight,dx:0,dy:0,dWidth:s.videoWidth,dHeight:s.videoHeight}),u||(u=this.captureCanvasContext),u.drawImage(s,c.sx,c.sy,c.sWidth,c.sHeight,c.dx,c.dy,c.dWidth,c.dHeight)}drawImageOnCanvas(s,c,u=this.captureCanvasContext){c||(c={sx:0,sy:0,sWidth:s.naturalWidth,sHeight:s.naturalHeight,dx:0,dy:0,dWidth:s.naturalWidth,dHeight:s.naturalHeight}),u||(u=this.captureCanvasContext),u.drawImage(s,c.sx,c.sy,c.sWidth,c.sHeight,c.dx,c.dy,c.dWidth,c.dHeight)}createBinaryBitmap(s){this.getCaptureCanvasContext(s),this._isHTMLVideoElement(s)?this.drawFrameOnCanvas(s):this.drawImageOnCanvas(s);const c=this.getCaptureCanvas(s),u=new We(c),h=new he(u);return new I(h)}getCaptureCanvasContext(s){if(!this.captureCanvasContext){const u=this.getCaptureCanvas(s).getContext("2d");this.captureCanvasContext=u}return this.captureCanvasContext}getCaptureCanvas(s){if(!this.captureCanvas){const c=this.createCaptureCanvas(s);this.captureCanvas=c}return this.captureCanvas}decodeBitmap(s){return this.reader.decode(s,this._hints)}createCaptureCanvas(s){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const c=document.createElement("canvas");let u,h;return typeof s<"u"&&(s instanceof HTMLVideoElement?(u=s.videoWidth,h=s.videoHeight):s instanceof HTMLImageElement&&(u=s.naturalWidth||s.width,h=s.naturalHeight||s.height)),c.style.width=u+"px",c.style.height=h+"px",c.width=u,c.height=h,c}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(s=>s.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(s,c){try{s.srcObject=c}catch{s.src=URL.createObjectURL(c)}}cleanVideoSource(s){try{s.srcObject=null}catch{s.src=""}this.videoElement.removeAttribute("src")}}class Re{constructor(s,c,u=c==null?0:8*c.length,h,p,y=k.currentTimeMillis()){this.text=s,this.rawBytes=c,this.numBits=u,this.resultPoints=h,this.format=p,this.timestamp=y,this.text=s,this.rawBytes=c,u==null?this.numBits=c==null?0:8*c.length:this.numBits=u,this.resultPoints=h,this.format=p,this.resultMetadata=null,y==null?this.timestamp=k.currentTimeMillis():this.timestamp=y}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(s,c){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(s,c)}putAllMetadata(s){s!==null&&(this.resultMetadata===null?this.resultMetadata=s:this.resultMetadata=new Map(s))}addResultPoints(s){const c=this.resultPoints;if(c===null)this.resultPoints=s;else if(s!==null&&s.length>0){const u=new Array(c.length+s.length);k.arraycopy(c,0,u,0,c.length),k.arraycopy(s,0,u,c.length,s.length),this.resultPoints=u}}getTimestamp(){return this.timestamp}toString(){return this.text}}var ze;(function(G){G[G.AZTEC=0]="AZTEC",G[G.CODABAR=1]="CODABAR",G[G.CODE_39=2]="CODE_39",G[G.CODE_93=3]="CODE_93",G[G.CODE_128=4]="CODE_128",G[G.DATA_MATRIX=5]="DATA_MATRIX",G[G.EAN_8=6]="EAN_8",G[G.EAN_13=7]="EAN_13",G[G.ITF=8]="ITF",G[G.MAXICODE=9]="MAXICODE",G[G.PDF_417=10]="PDF_417",G[G.QR_CODE=11]="QR_CODE",G[G.RSS_14=12]="RSS_14",G[G.RSS_EXPANDED=13]="RSS_EXPANDED",G[G.UPC_A=14]="UPC_A",G[G.UPC_E=15]="UPC_E",G[G.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(ze||(ze={}));var we=ze,Ke;(function(G){G[G.OTHER=0]="OTHER",G[G.ORIENTATION=1]="ORIENTATION",G[G.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",G[G.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",G[G.ISSUE_NUMBER=4]="ISSUE_NUMBER",G[G.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",G[G.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",G[G.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",G[G.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",G[G.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",G[G.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Ke||(Ke={}));var tt=Ke;class nt{constructor(s,c,u,h,p=-1,y=-1){this.rawBytes=s,this.text=c,this.byteSegments=u,this.ecLevel=h,this.structuredAppendSequenceNumber=p,this.structuredAppendParity=y,this.numBits=s==null?0:8*s.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(s){this.numBits=s}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(s){this.errorsCorrected=s}getErasures(){return this.erasures}setErasures(s){this.erasures=s}getOther(){return this.other}setOther(s){this.other=s}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class st{exp(s){return this.expTable[s]}log(s){if(s===0)throw new A;return this.logTable[s]}static addOrSubtract(s,c){return s^c}}class dt{constructor(s,c){if(c.length===0)throw new A;this.field=s;const u=c.length;if(u>1&&c[0]===0){let h=1;for(;h<u&&c[h]===0;)h++;h===u?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(u-h),k.arraycopy(c,h,this.coefficients,0,this.coefficients.length))}else this.coefficients=c}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(s){return this.coefficients[this.coefficients.length-1-s]}evaluateAt(s){if(s===0)return this.getCoefficient(0);const c=this.coefficients;let u;if(s===1){u=0;for(let y=0,b=c.length;y!==b;y++){const S=c[y];u=st.addOrSubtract(u,S)}return u}u=c[0];const h=c.length,p=this.field;for(let y=1;y<h;y++)u=st.addOrSubtract(p.multiply(s,u),c[y]);return u}addOrSubtract(s){if(!this.field.equals(s.field))throw new A("GenericGFPolys do not have same GenericGF field");if(this.isZero())return s;if(s.isZero())return this;let c=this.coefficients,u=s.coefficients;if(c.length>u.length){const y=c;c=u,u=y}let h=new Int32Array(u.length);const p=u.length-c.length;k.arraycopy(u,0,h,0,p);for(let y=p;y<u.length;y++)h[y]=st.addOrSubtract(c[y-p],u[y]);return new dt(this.field,h)}multiply(s){if(!this.field.equals(s.field))throw new A("GenericGFPolys do not have same GenericGF field");if(this.isZero()||s.isZero())return this.field.getZero();const c=this.coefficients,u=c.length,h=s.coefficients,p=h.length,y=new Int32Array(u+p-1),b=this.field;for(let S=0;S<u;S++){const T=c[S];for(let D=0;D<p;D++)y[S+D]=st.addOrSubtract(y[S+D],b.multiply(T,h[D]))}return new dt(b,y)}multiplyScalar(s){if(s===0)return this.field.getZero();if(s===1)return this;const c=this.coefficients.length,u=this.field,h=new Int32Array(c),p=this.coefficients;for(let y=0;y<c;y++)h[y]=u.multiply(p[y],s);return new dt(u,h)}multiplyByMonomial(s,c){if(s<0)throw new A;if(c===0)return this.field.getZero();const u=this.coefficients,h=u.length,p=new Int32Array(h+s),y=this.field;for(let b=0;b<h;b++)p[b]=y.multiply(u[b],c);return new dt(y,p)}divide(s){if(!this.field.equals(s.field))throw new A("GenericGFPolys do not have same GenericGF field");if(s.isZero())throw new A("Divide by 0");const c=this.field;let u=c.getZero(),h=this;const p=s.getCoefficient(s.getDegree()),y=c.inverse(p);for(;h.getDegree()>=s.getDegree()&&!h.isZero();){const b=h.getDegree()-s.getDegree(),S=c.multiply(h.getCoefficient(h.getDegree()),y),T=s.multiplyByMonomial(b,S),D=c.buildMonomial(b,S);u=u.addOrSubtract(D),h=h.addOrSubtract(T)}return[u,h]}toString(){let s="";for(let c=this.getDegree();c>=0;c--){let u=this.getCoefficient(c);if(u!==0){if(u<0?(s+=" - ",u=-u):s.length>0&&(s+=" + "),c===0||u!==1){const h=this.field.log(u);h===0?s+="1":h===1?s+="a":(s+="a^",s+=h)}c!==0&&(c===1?s+="x":(s+="x^",s+=c))}}return s}}class St extends m{}St.kind="ArithmeticException";class rt extends st{constructor(s,c,u){super(),this.primitive=s,this.size=c,this.generatorBase=u;const h=new Int32Array(c);let p=1;for(let b=0;b<c;b++)h[b]=p,p*=2,p>=c&&(p^=s,p&=c-1);this.expTable=h;const y=new Int32Array(c);for(let b=0;b<c-1;b++)y[h[b]]=b;this.logTable=y,this.zero=new dt(this,Int32Array.from([0])),this.one=new dt(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(s,c){if(s<0)throw new A;if(c===0)return this.zero;const u=new Int32Array(s+1);return u[0]=c,new dt(this,u)}inverse(s){if(s===0)throw new St;return this.expTable[this.size-this.logTable[s]-1]}multiply(s,c){return s===0||c===0?0:this.expTable[(this.logTable[s]+this.logTable[c])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+H.toHexString(this.primitive)+","+this.size+")"}equals(s){return s===this}}rt.AZTEC_DATA_12=new rt(4201,4096,1),rt.AZTEC_DATA_10=new rt(1033,1024,1),rt.AZTEC_DATA_6=new rt(67,64,1),rt.AZTEC_PARAM=new rt(19,16,1),rt.QR_CODE_FIELD_256=new rt(285,256,0),rt.DATA_MATRIX_FIELD_256=new rt(301,256,1),rt.AZTEC_DATA_8=rt.DATA_MATRIX_FIELD_256,rt.MAXICODE_FIELD_64=rt.AZTEC_DATA_6;class ht extends m{}ht.kind="ReedSolomonException";class Mt extends m{}Mt.kind="IllegalStateException";class wn{constructor(s){this.field=s}decode(s,c){const u=this.field,h=new dt(u,s),p=new Int32Array(c);let y=!0;for(let oe=0;oe<c;oe++){const ce=h.evaluateAt(u.exp(oe+u.getGeneratorBase()));p[p.length-1-oe]=ce,ce!==0&&(y=!1)}if(y)return;const b=new dt(u,p),S=this.runEuclideanAlgorithm(u.buildMonomial(c,1),b,c),T=S[0],D=S[1],$=this.findErrorLocations(T),X=this.findErrorMagnitudes(D,$);for(let oe=0;oe<$.length;oe++){const ce=s.length-1-u.log($[oe]);if(ce<0)throw new ht("Bad error location");s[ce]=rt.addOrSubtract(s[ce],X[oe])}}runEuclideanAlgorithm(s,c,u){if(s.getDegree()<c.getDegree()){const oe=s;s=c,c=oe}const h=this.field;let p=s,y=c,b=h.getZero(),S=h.getOne();for(;y.getDegree()>=(u/2|0);){let oe=p,ce=b;if(p=y,b=S,p.isZero())throw new ht("r_{i-1} was zero");y=oe;let fe=h.getZero();const xe=p.getCoefficient(p.getDegree()),Ae=h.inverse(xe);for(;y.getDegree()>=p.getDegree()&&!y.isZero();){const $e=y.getDegree()-p.getDegree(),He=h.multiply(y.getCoefficient(y.getDegree()),Ae);fe=fe.addOrSubtract(h.buildMonomial($e,He)),y=y.addOrSubtract(p.multiplyByMonomial($e,He))}if(S=fe.multiply(b).addOrSubtract(ce),y.getDegree()>=p.getDegree())throw new Mt("Division algorithm failed to reduce polynomial?")}const T=S.getCoefficient(0);if(T===0)throw new ht("sigmaTilde(0) was zero");const D=h.inverse(T),$=S.multiplyScalar(D),X=y.multiplyScalar(D);return[$,X]}findErrorLocations(s){const c=s.getDegree();if(c===1)return Int32Array.from([s.getCoefficient(1)]);const u=new Int32Array(c);let h=0;const p=this.field;for(let y=1;y<p.getSize()&&h<c;y++)s.evaluateAt(y)===0&&(u[h]=p.inverse(y),h++);if(h!==c)throw new ht("Error locator degree does not match number of roots");return u}findErrorMagnitudes(s,c){const u=c.length,h=new Int32Array(u),p=this.field;for(let y=0;y<u;y++){const b=p.inverse(c[y]);let S=1;for(let T=0;T<u;T++)if(y!==T){const D=p.multiply(c[T],b),$=(D&1)===0?D|1:D&-2;S=p.multiply(S,$)}h[y]=p.multiply(s.evaluateAt(b),p.inverse(S)),p.getGeneratorBase()!==0&&(h[y]=p.multiply(h[y],b))}return h}}var vt;(function(G){G[G.UPPER=0]="UPPER",G[G.LOWER=1]="LOWER",G[G.MIXED=2]="MIXED",G[G.DIGIT=3]="DIGIT",G[G.PUNCT=4]="PUNCT",G[G.BINARY=5]="BINARY"})(vt||(vt={}));class mt{decode(s){this.ddata=s;let c=s.getBits(),u=this.extractBits(c),h=this.correctBits(u),p=mt.convertBoolArrayToByteArray(h),y=mt.getEncodedData(h),b=new nt(p,y,null,null);return b.setNumBits(h.length),b}static highLevelDecode(s){return this.getEncodedData(s)}static getEncodedData(s){let c=s.length,u=vt.UPPER,h=vt.UPPER,p="",y=0;for(;y<c;)if(h===vt.BINARY){if(c-y<5)break;let b=mt.readCode(s,y,5);if(y+=5,b===0){if(c-y<11)break;b=mt.readCode(s,y,11)+31,y+=11}for(let S=0;S<b;S++){if(c-y<8){y=c;break}const T=mt.readCode(s,y,8);p+=O.castAsNonUtf8Char(T),y+=8}h=u}else{let b=h===vt.DIGIT?4:5;if(c-y<b)break;let S=mt.readCode(s,y,b);y+=b;let T=mt.getCharacter(h,S);T.startsWith("CTRL_")?(u=h,h=mt.getTable(T.charAt(5)),T.charAt(6)==="L"&&(u=h)):(p+=T,h=u)}return p}static getTable(s){switch(s){case"L":return vt.LOWER;case"P":return vt.PUNCT;case"M":return vt.MIXED;case"D":return vt.DIGIT;case"B":return vt.BINARY;case"U":default:return vt.UPPER}}static getCharacter(s,c){switch(s){case vt.UPPER:return mt.UPPER_TABLE[c];case vt.LOWER:return mt.LOWER_TABLE[c];case vt.MIXED:return mt.MIXED_TABLE[c];case vt.PUNCT:return mt.PUNCT_TABLE[c];case vt.DIGIT:return mt.DIGIT_TABLE[c];default:throw new Mt("Bad table")}}correctBits(s){let c,u;this.ddata.getNbLayers()<=2?(u=6,c=rt.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(u=8,c=rt.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(u=10,c=rt.AZTEC_DATA_10):(u=12,c=rt.AZTEC_DATA_12);let h=this.ddata.getNbDatablocks(),p=s.length/u;if(p<h)throw new z;let y=s.length%u,b=new Int32Array(p);for(let X=0;X<p;X++,y+=u)b[X]=mt.readCode(s,y,u);try{new wn(c).decode(b,p-h)}catch(X){throw new z(X)}let S=(1<<u)-1,T=0;for(let X=0;X<h;X++){let oe=b[X];if(oe===0||oe===S)throw new z;(oe===1||oe===S-1)&&T++}let D=new Array(h*u-T),$=0;for(let X=0;X<h;X++){let oe=b[X];if(oe===1||oe===S-1)D.fill(oe>1,$,$+u-1),$+=u-1;else for(let ce=u-1;ce>=0;--ce)D[$++]=(oe&1<<ce)!==0}return D}extractBits(s){let c=this.ddata.isCompact(),u=this.ddata.getNbLayers(),h=(c?11:14)+u*4,p=new Int32Array(h),y=new Array(this.totalBitsInLayer(u,c));if(c)for(let b=0;b<p.length;b++)p[b]=b;else{let b=h+1+2*H.truncDivision(H.truncDivision(h,2)-1,15),S=h/2,T=H.truncDivision(b,2);for(let D=0;D<S;D++){let $=D+H.truncDivision(D,15);p[S-D-1]=T-$-1,p[S+D]=T+$+1}}for(let b=0,S=0;b<u;b++){let T=(u-b)*4+(c?9:12),D=b*2,$=h-1-D;for(let X=0;X<T;X++){let oe=X*2;for(let ce=0;ce<2;ce++)y[S+oe+ce]=s.get(p[D+ce],p[D+X]),y[S+2*T+oe+ce]=s.get(p[D+X],p[$-ce]),y[S+4*T+oe+ce]=s.get(p[$-ce],p[$-X]),y[S+6*T+oe+ce]=s.get(p[$-X],p[D+ce])}S+=T*8}return y}static readCode(s,c,u){let h=0;for(let p=c;p<c+u;p++)h<<=1,s[p]&&(h|=1);return h}static readByte(s,c){let u=s.length-c;return u>=8?mt.readCode(s,c,8):mt.readCode(s,c,u)<<8-u}static convertBoolArrayToByteArray(s){let c=new Uint8Array((s.length+7)/8);for(let u=0;u<c.length;u++)c[u]=mt.readByte(s,8*u);return c}totalBitsInLayer(s,c){return((c?88:112)+16*s)*s}}mt.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],mt.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],mt.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],mt.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],mt.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Qe{constructor(){}static round(s){return s===NaN?0:s<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:s>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:s+(s<0?-.5:.5)|0}static distance(s,c,u,h){const p=s-u,y=c-h;return Math.sqrt(p*p+y*y)}static sum(s){let c=0;for(let u=0,h=s.length;u!==h;u++){const p=s[u];c+=p}return c}}class Ot{static floatToIntBits(s){return s}}Ot.MAX_VALUE=Number.MAX_SAFE_INTEGER;class je{constructor(s,c){this.x=s,this.y=c}getX(){return this.x}getY(){return this.y}equals(s){if(s instanceof je){const c=s;return this.x===c.x&&this.y===c.y}return!1}hashCode(){return 31*Ot.floatToIntBits(this.x)+Ot.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(s){const c=this.distance(s[0],s[1]),u=this.distance(s[1],s[2]),h=this.distance(s[0],s[2]);let p,y,b;if(u>=c&&u>=h?(y=s[0],p=s[1],b=s[2]):h>=u&&h>=c?(y=s[1],p=s[0],b=s[2]):(y=s[2],p=s[0],b=s[1]),this.crossProductZ(p,y,b)<0){const S=p;p=b,b=S}s[0]=p,s[1]=y,s[2]=b}static distance(s,c){return Qe.distance(s.x,s.y,c.x,c.y)}static crossProductZ(s,c,u){const h=c.x,p=c.y;return(u.x-h)*(s.y-p)-(u.y-p)*(s.x-h)}}class lt{constructor(s,c){this.bits=s,this.points=c}getBits(){return this.bits}getPoints(){return this.points}}class rr extends lt{constructor(s,c,u,h,p){super(s,c),this.compact=u,this.nbDatablocks=h,this.nbLayers=p}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class It{constructor(s,c,u,h){this.image=s,this.height=s.getHeight(),this.width=s.getWidth(),c==null&&(c=It.INIT_SIZE),u==null&&(u=s.getWidth()/2|0),h==null&&(h=s.getHeight()/2|0);const p=c/2|0;if(this.leftInit=u-p,this.rightInit=u+p,this.upInit=h-p,this.downInit=h+p,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new re}detect(){let s=this.leftInit,c=this.rightInit,u=this.upInit,h=this.downInit,p=!1,y=!0,b=!1,S=!1,T=!1,D=!1,$=!1;const X=this.width,oe=this.height;for(;y;){y=!1;let ce=!0;for(;(ce||!S)&&c<X;)ce=this.containsBlackPoint(u,h,c,!1),ce?(c++,y=!0,S=!0):S||c++;if(c>=X){p=!0;break}let fe=!0;for(;(fe||!T)&&h<oe;)fe=this.containsBlackPoint(s,c,h,!0),fe?(h++,y=!0,T=!0):T||h++;if(h>=oe){p=!0;break}let xe=!0;for(;(xe||!D)&&s>=0;)xe=this.containsBlackPoint(u,h,s,!1),xe?(s--,y=!0,D=!0):D||s--;if(s<0){p=!0;break}let Ae=!0;for(;(Ae||!$)&&u>=0;)Ae=this.containsBlackPoint(s,c,u,!0),Ae?(u--,y=!0,$=!0):$||u--;if(u<0){p=!0;break}y&&(b=!0)}if(!p&&b){const ce=c-s;let fe=null;for(let He=1;fe===null&&He<ce;He++)fe=this.getBlackPointOnSegment(s,h-He,s+He,h);if(fe==null)throw new re;let xe=null;for(let He=1;xe===null&&He<ce;He++)xe=this.getBlackPointOnSegment(s,u+He,s+He,u);if(xe==null)throw new re;let Ae=null;for(let He=1;Ae===null&&He<ce;He++)Ae=this.getBlackPointOnSegment(c,u+He,c-He,u);if(Ae==null)throw new re;let $e=null;for(let He=1;$e===null&&He<ce;He++)$e=this.getBlackPointOnSegment(c,h-He,c-He,h);if($e==null)throw new re;return this.centerEdges($e,fe,Ae,xe)}else throw new re}getBlackPointOnSegment(s,c,u,h){const p=Qe.round(Qe.distance(s,c,u,h)),y=(u-s)/p,b=(h-c)/p,S=this.image;for(let T=0;T<p;T++){const D=Qe.round(s+T*y),$=Qe.round(c+T*b);if(S.get(D,$))return new je(D,$)}return null}centerEdges(s,c,u,h){const p=s.getX(),y=s.getY(),b=c.getX(),S=c.getY(),T=u.getX(),D=u.getY(),$=h.getX(),X=h.getY(),oe=It.CORR;return p<this.width/2?[new je($-oe,X+oe),new je(b+oe,S+oe),new je(T-oe,D-oe),new je(p+oe,y-oe)]:[new je($+oe,X+oe),new je(b+oe,S-oe),new je(T-oe,D+oe),new je(p-oe,y-oe)]}containsBlackPoint(s,c,u,h){const p=this.image;if(h){for(let y=s;y<=c;y++)if(p.get(y,u))return!0}else for(let y=s;y<=c;y++)if(p.get(u,y))return!0;return!1}}It.INIT_SIZE=10,It.CORR=1;class Ye{static checkAndNudgePoints(s,c){const u=s.getWidth(),h=s.getHeight();let p=!0;for(let y=0;y<c.length&&p;y+=2){const b=Math.floor(c[y]),S=Math.floor(c[y+1]);if(b<-1||b>u||S<-1||S>h)throw new re;p=!1,b===-1?(c[y]=0,p=!0):b===u&&(c[y]=u-1,p=!0),S===-1?(c[y+1]=0,p=!0):S===h&&(c[y+1]=h-1,p=!0)}p=!0;for(let y=c.length-2;y>=0&&p;y-=2){const b=Math.floor(c[y]),S=Math.floor(c[y+1]);if(b<-1||b>u||S<-1||S>h)throw new re;p=!1,b===-1?(c[y]=0,p=!0):b===u&&(c[y]=u-1,p=!0),S===-1?(c[y+1]=0,p=!0):S===h&&(c[y+1]=h-1,p=!0)}}}class Ve{constructor(s,c,u,h,p,y,b,S,T){this.a11=s,this.a21=c,this.a31=u,this.a12=h,this.a22=p,this.a32=y,this.a13=b,this.a23=S,this.a33=T}static quadrilateralToQuadrilateral(s,c,u,h,p,y,b,S,T,D,$,X,oe,ce,fe,xe){const Ae=Ve.quadrilateralToSquare(s,c,u,h,p,y,b,S);return Ve.squareToQuadrilateral(T,D,$,X,oe,ce,fe,xe).times(Ae)}transformPoints(s){const c=s.length,u=this.a11,h=this.a12,p=this.a13,y=this.a21,b=this.a22,S=this.a23,T=this.a31,D=this.a32,$=this.a33;for(let X=0;X<c;X+=2){const oe=s[X],ce=s[X+1],fe=p*oe+S*ce+$;s[X]=(u*oe+y*ce+T)/fe,s[X+1]=(h*oe+b*ce+D)/fe}}transformPointsWithValues(s,c){const u=this.a11,h=this.a12,p=this.a13,y=this.a21,b=this.a22,S=this.a23,T=this.a31,D=this.a32,$=this.a33,X=s.length;for(let oe=0;oe<X;oe++){const ce=s[oe],fe=c[oe],xe=p*ce+S*fe+$;s[oe]=(u*ce+y*fe+T)/xe,c[oe]=(h*ce+b*fe+D)/xe}}static squareToQuadrilateral(s,c,u,h,p,y,b,S){const T=s-u+p-b,D=c-h+y-S;if(T===0&&D===0)return new Ve(u-s,p-u,s,h-c,y-h,c,0,0,1);{const $=u-p,X=b-p,oe=h-y,ce=S-y,fe=$*ce-X*oe,xe=(T*ce-X*D)/fe,Ae=($*D-T*oe)/fe;return new Ve(u-s+xe*u,b-s+Ae*b,s,h-c+xe*h,S-c+Ae*S,c,xe,Ae,1)}}static quadrilateralToSquare(s,c,u,h,p,y,b,S){return Ve.squareToQuadrilateral(s,c,u,h,p,y,b,S).buildAdjoint()}buildAdjoint(){return new Ve(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(s){return new Ve(this.a11*s.a11+this.a21*s.a12+this.a31*s.a13,this.a11*s.a21+this.a21*s.a22+this.a31*s.a23,this.a11*s.a31+this.a21*s.a32+this.a31*s.a33,this.a12*s.a11+this.a22*s.a12+this.a32*s.a13,this.a12*s.a21+this.a22*s.a22+this.a32*s.a23,this.a12*s.a31+this.a22*s.a32+this.a32*s.a33,this.a13*s.a11+this.a23*s.a12+this.a33*s.a13,this.a13*s.a21+this.a23*s.a22+this.a33*s.a23,this.a13*s.a31+this.a23*s.a32+this.a33*s.a33)}}class it extends Ye{sampleGrid(s,c,u,h,p,y,b,S,T,D,$,X,oe,ce,fe,xe,Ae,$e,He){const Fe=Ve.quadrilateralToQuadrilateral(h,p,y,b,S,T,D,$,X,oe,ce,fe,xe,Ae,$e,He);return this.sampleGridWithTransform(s,c,u,Fe)}sampleGridWithTransform(s,c,u,h){if(c<=0||u<=0)throw new re;const p=new ue(c,u),y=new Float32Array(2*c);for(let b=0;b<u;b++){const S=y.length,T=b+.5;for(let D=0;D<S;D+=2)y[D]=D/2+.5,y[D+1]=T;h.transformPoints(y),Ye.checkAndNudgePoints(s,y);try{for(let D=0;D<S;D+=2)s.get(Math.floor(y[D]),Math.floor(y[D+1]))&&p.set(D/2,b)}catch{throw new re}}return p}}class ct{static setGridSampler(s){ct.gridSampler=s}static getInstance(){return ct.gridSampler}}ct.gridSampler=new it;class ot{constructor(s,c){this.x=s,this.y=c}toResultPoint(){return new je(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class bt{constructor(s){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=s}detect(){return this.detectMirror(!1)}detectMirror(s){let c=this.getMatrixCenter(),u=this.getBullsEyeCorners(c);if(s){let y=u[0];u[0]=u[2],u[2]=y}this.extractParameters(u);let h=this.sampleGrid(this.image,u[this.shift%4],u[(this.shift+1)%4],u[(this.shift+2)%4],u[(this.shift+3)%4]),p=this.getMatrixCornerPoints(u);return new rr(h,p,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(s){if(!this.isValidPoint(s[0])||!this.isValidPoint(s[1])||!this.isValidPoint(s[2])||!this.isValidPoint(s[3]))throw new re;let c=2*this.nbCenterLayers,u=new Int32Array([this.sampleLine(s[0],s[1],c),this.sampleLine(s[1],s[2],c),this.sampleLine(s[2],s[3],c),this.sampleLine(s[3],s[0],c)]);this.shift=this.getRotation(u,c);let h=0;for(let y=0;y<4;y++){let b=u[(this.shift+y)%4];this.compact?(h<<=7,h+=b>>1&127):(h<<=10,h+=(b>>2&992)+(b>>1&31))}let p=this.getCorrectedParameterData(h,this.compact);this.compact?(this.nbLayers=(p>>6)+1,this.nbDataBlocks=(p&63)+1):(this.nbLayers=(p>>11)+1,this.nbDataBlocks=(p&2047)+1)}getRotation(s,c){let u=0;s.forEach((h,p,y)=>{let b=(h>>c-2<<1)+(h&1);u=(u<<3)+b}),u=((u&1)<<11)+(u>>1);for(let h=0;h<4;h++)if(H.bitCount(u^this.EXPECTED_CORNER_BITS[h])<=2)return h;throw new re}getCorrectedParameterData(s,c){let u,h;c?(u=7,h=2):(u=10,h=4);let p=u-h,y=new Int32Array(u);for(let S=u-1;S>=0;--S)y[S]=s&15,s>>=4;try{new wn(rt.AZTEC_PARAM).decode(y,p)}catch{throw new re}let b=0;for(let S=0;S<h;S++)b=(b<<4)+y[S];return b}getBullsEyeCorners(s){let c=s,u=s,h=s,p=s,y=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let $=this.getFirstDifferent(c,y,1,-1),X=this.getFirstDifferent(u,y,1,1),oe=this.getFirstDifferent(h,y,-1,1),ce=this.getFirstDifferent(p,y,-1,-1);if(this.nbCenterLayers>2){let fe=this.distancePoint(ce,$)*this.nbCenterLayers/(this.distancePoint(p,c)*(this.nbCenterLayers+2));if(fe<.75||fe>1.25||!this.isWhiteOrBlackRectangle($,X,oe,ce))break}c=$,u=X,h=oe,p=ce,y=!y}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new re;this.compact=this.nbCenterLayers===5;let b=new je(c.getX()+.5,c.getY()-.5),S=new je(u.getX()+.5,u.getY()+.5),T=new je(h.getX()-.5,h.getY()+.5),D=new je(p.getX()-.5,p.getY()-.5);return this.expandSquare([b,S,T,D],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let s,c,u,h;try{let b=new It(this.image).detect();s=b[0],c=b[1],u=b[2],h=b[3]}catch{let S=this.image.getWidth()/2,T=this.image.getHeight()/2;s=this.getFirstDifferent(new ot(S+7,T-7),!1,1,-1).toResultPoint(),c=this.getFirstDifferent(new ot(S+7,T+7),!1,1,1).toResultPoint(),u=this.getFirstDifferent(new ot(S-7,T+7),!1,-1,1).toResultPoint(),h=this.getFirstDifferent(new ot(S-7,T-7),!1,-1,-1).toResultPoint()}let p=Qe.round((s.getX()+h.getX()+c.getX()+u.getX())/4),y=Qe.round((s.getY()+h.getY()+c.getY()+u.getY())/4);try{let b=new It(this.image,15,p,y).detect();s=b[0],c=b[1],u=b[2],h=b[3]}catch{s=this.getFirstDifferent(new ot(p+7,y-7),!1,1,-1).toResultPoint(),c=this.getFirstDifferent(new ot(p+7,y+7),!1,1,1).toResultPoint(),u=this.getFirstDifferent(new ot(p-7,y+7),!1,-1,1).toResultPoint(),h=this.getFirstDifferent(new ot(p-7,y-7),!1,-1,-1).toResultPoint()}return p=Qe.round((s.getX()+h.getX()+c.getX()+u.getX())/4),y=Qe.round((s.getY()+h.getY()+c.getY()+u.getY())/4),new ot(p,y)}getMatrixCornerPoints(s){return this.expandSquare(s,2*this.nbCenterLayers,this.getDimension())}sampleGrid(s,c,u,h,p){let y=ct.getInstance(),b=this.getDimension(),S=b/2-this.nbCenterLayers,T=b/2+this.nbCenterLayers;return y.sampleGrid(s,b,b,S,S,T,S,T,T,S,T,c.getX(),c.getY(),u.getX(),u.getY(),h.getX(),h.getY(),p.getX(),p.getY())}sampleLine(s,c,u){let h=0,p=this.distanceResultPoint(s,c),y=p/u,b=s.getX(),S=s.getY(),T=y*(c.getX()-s.getX())/p,D=y*(c.getY()-s.getY())/p;for(let $=0;$<u;$++)this.image.get(Qe.round(b+$*T),Qe.round(S+$*D))&&(h|=1<<u-$-1);return h}isWhiteOrBlackRectangle(s,c,u,h){let p=3;s=new ot(s.getX()-p,s.getY()+p),c=new ot(c.getX()-p,c.getY()-p),u=new ot(u.getX()+p,u.getY()-p),h=new ot(h.getX()+p,h.getY()+p);let y=this.getColor(h,s);if(y===0)return!1;let b=this.getColor(s,c);return b!==y||(b=this.getColor(c,u),b!==y)?!1:(b=this.getColor(u,h),b===y)}getColor(s,c){let u=this.distancePoint(s,c),h=(c.getX()-s.getX())/u,p=(c.getY()-s.getY())/u,y=0,b=s.getX(),S=s.getY(),T=this.image.get(s.getX(),s.getY()),D=Math.ceil(u);for(let X=0;X<D;X++)b+=h,S+=p,this.image.get(Qe.round(b),Qe.round(S))!==T&&y++;let $=y/u;return $>.1&&$<.9?0:$<=.1===T?1:-1}getFirstDifferent(s,c,u,h){let p=s.getX()+u,y=s.getY()+h;for(;this.isValid(p,y)&&this.image.get(p,y)===c;)p+=u,y+=h;for(p-=u,y-=h;this.isValid(p,y)&&this.image.get(p,y)===c;)p+=u;for(p-=u;this.isValid(p,y)&&this.image.get(p,y)===c;)y+=h;return y-=h,new ot(p,y)}expandSquare(s,c,u){let h=u/(2*c),p=s[0].getX()-s[2].getX(),y=s[0].getY()-s[2].getY(),b=(s[0].getX()+s[2].getX())/2,S=(s[0].getY()+s[2].getY())/2,T=new je(b+h*p,S+h*y),D=new je(b-h*p,S-h*y);p=s[1].getX()-s[3].getX(),y=s[1].getY()-s[3].getY(),b=(s[1].getX()+s[3].getX())/2,S=(s[1].getY()+s[3].getY())/2;let $=new je(b+h*p,S+h*y),X=new je(b-h*p,S-h*y);return[T,$,D,X]}isValid(s,c){return s>=0&&s<this.image.getWidth()&&c>0&&c<this.image.getHeight()}isValidPoint(s){let c=Qe.round(s.getX()),u=Qe.round(s.getY());return this.isValid(c,u)}distancePoint(s,c){return Qe.distance(s.getX(),s.getY(),c.getX(),c.getY())}distanceResultPoint(s,c){return Qe.distance(s.getX(),s.getY(),c.getX(),c.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(H.truncDivision(this.nbLayers-4,8)+1)+15}}class Dt{decode(s,c=null){let u=null,h=new bt(s.getBlackMatrix()),p=null,y=null;try{let D=h.detectMirror(!1);p=D.getPoints(),this.reportFoundResultPoints(c,p),y=new mt().decode(D)}catch(D){u=D}if(y==null)try{let D=h.detectMirror(!0);p=D.getPoints(),this.reportFoundResultPoints(c,p),y=new mt().decode(D)}catch(D){throw u??D}let b=new Re(y.getText(),y.getRawBytes(),y.getNumBits(),p,we.AZTEC,k.currentTimeMillis()),S=y.getByteSegments();S!=null&&b.putMetadata(tt.BYTE_SEGMENTS,S);let T=y.getECLevel();return T!=null&&b.putMetadata(tt.ERROR_CORRECTION_LEVEL,T),b}reportFoundResultPoints(s,c){if(s!=null){let u=s.get(se.NEED_RESULT_POINT_CALLBACK);u!=null&&c.forEach((h,p,y)=>{u.foundPossibleResultPoint(h)})}}reset(){}}class er extends me{constructor(s=500){super(new Dt,s)}}class wt{decode(s,c){try{return this.doDecode(s,c)}catch{if(c&&c.get(se.TRY_HARDER)===!0&&s.isRotateSupported()){const p=s.rotateCounterClockwise(),y=this.doDecode(p,c),b=y.getResultMetadata();let S=270;b!==null&&b.get(tt.ORIENTATION)===!0&&(S=S+b.get(tt.ORIENTATION)%360),y.putMetadata(tt.ORIENTATION,S);const T=y.getResultPoints();if(T!==null){const D=p.getHeight();for(let $=0;$<T.length;$++)T[$]=new je(D-T[$].getY()-1,T[$].getX())}return y}else throw new re}}reset(){}doDecode(s,c){const u=s.getWidth(),h=s.getHeight();let p=new W(u);const y=c&&c.get(se.TRY_HARDER)===!0,b=Math.max(1,h>>(y?8:5));let S;y?S=h:S=15;const T=Math.trunc(h/2);for(let D=0;D<S;D++){const $=Math.trunc((D+1)/2),X=(D&1)===0,oe=T+b*(X?$:-$);if(oe<0||oe>=h)break;try{p=s.getBlackRow(oe,p)}catch{continue}for(let ce=0;ce<2;ce++){if(ce===1&&(p.reverse(),c&&c.get(se.NEED_RESULT_POINT_CALLBACK)===!0)){const fe=new Map;c.forEach((xe,Ae)=>fe.set(Ae,xe)),fe.delete(se.NEED_RESULT_POINT_CALLBACK),c=fe}try{const fe=this.decodeRow(oe,p,c);if(ce===1){fe.putMetadata(tt.ORIENTATION,180);const xe=fe.getResultPoints();xe!==null&&(xe[0]=new je(u-xe[0].getX()-1,xe[0].getY()),xe[1]=new je(u-xe[1].getX()-1,xe[1].getY()))}return fe}catch{}}}throw new re}static recordPattern(s,c,u){const h=u.length;for(let T=0;T<h;T++)u[T]=0;const p=s.getSize();if(c>=p)throw new re;let y=!s.get(c),b=0,S=c;for(;S<p;){if(s.get(S)!==y)u[b]++;else{if(++b===h)break;u[b]=1,y=!y}S++}if(!(b===h||b===h-1&&S===p))throw new re}static recordPatternInReverse(s,c,u){let h=u.length,p=s.get(c);for(;c>0&&h>=0;)s.get(--c)!==p&&(h--,p=!p);if(h>=0)throw new re;wt.recordPattern(s,c+1,u)}static patternMatchVariance(s,c,u){const h=s.length;let p=0,y=0;for(let T=0;T<h;T++)p+=s[T],y+=c[T];if(p<y)return Number.POSITIVE_INFINITY;const b=p/y;u*=b;let S=0;for(let T=0;T<h;T++){const D=s[T],$=c[T]*b,X=D>$?D-$:$-D;if(X>u)return Number.POSITIVE_INFINITY;S+=X}return S/p}}class ke extends wt{static findStartPattern(s){const c=s.getSize(),u=s.getNextSet(0);let h=0,p=Int32Array.from([0,0,0,0,0,0]),y=u,b=!1;const S=6;for(let T=u;T<c;T++)if(s.get(T)!==b)p[h]++;else{if(h===S-1){let D=ke.MAX_AVG_VARIANCE,$=-1;for(let X=ke.CODE_START_A;X<=ke.CODE_START_C;X++){const oe=wt.patternMatchVariance(p,ke.CODE_PATTERNS[X],ke.MAX_INDIVIDUAL_VARIANCE);oe<D&&(D=oe,$=X)}if($>=0&&s.isRange(Math.max(0,y-(T-y)/2),y,!1))return Int32Array.from([y,T,$]);y+=p[0]+p[1],p=p.slice(2,p.length-1),p[h-1]=0,p[h]=0,h--}else h++;p[h]=1,b=!b}throw new re}static decodeCode(s,c,u){wt.recordPattern(s,u,c);let h=ke.MAX_AVG_VARIANCE,p=-1;for(let y=0;y<ke.CODE_PATTERNS.length;y++){const b=ke.CODE_PATTERNS[y],S=this.patternMatchVariance(c,b,ke.MAX_INDIVIDUAL_VARIANCE);S<h&&(h=S,p=y)}if(p>=0)return p;throw new re}decodeRow(s,c,u){const h=u&&u.get(se.ASSUME_GS1)===!0,p=ke.findStartPattern(c),y=p[2];let b=0;const S=new Uint8Array(20);S[b++]=y;let T;switch(y){case ke.CODE_START_A:T=ke.CODE_CODE_A;break;case ke.CODE_START_B:T=ke.CODE_CODE_B;break;case ke.CODE_START_C:T=ke.CODE_CODE_C;break;default:throw new z}let D=!1,$=!1,X="",oe=p[0],ce=p[1];const fe=Int32Array.from([0,0,0,0,0,0]);let xe=0,Ae=0,$e=y,He=0,Fe=!0,Qt=!1,zt=!1;for(;!D;){const Ea=$;switch($=!1,xe=Ae,Ae=ke.decodeCode(c,fe,ce),S[b++]=Ae,Ae!==ke.CODE_STOP&&(Fe=!0),Ae!==ke.CODE_STOP&&(He++,$e+=He*Ae),oe=ce,ce+=fe.reduce((qh,kf)=>qh+kf,0),Ae){case ke.CODE_START_A:case ke.CODE_START_B:case ke.CODE_START_C:throw new z}switch(T){case ke.CODE_CODE_A:if(Ae<64)zt===Qt?X+=String.fromCharCode(32+Ae):X+=String.fromCharCode(32+Ae+128),zt=!1;else if(Ae<96)zt===Qt?X+=String.fromCharCode(Ae-64):X+=String.fromCharCode(Ae+64),zt=!1;else switch(Ae!==ke.CODE_STOP&&(Fe=!1),Ae){case ke.CODE_FNC_1:h&&(X.length===0?X+="]C1":X+="");break;case ke.CODE_FNC_2:case ke.CODE_FNC_3:break;case ke.CODE_FNC_4_A:!Qt&&zt?(Qt=!0,zt=!1):Qt&&zt?(Qt=!1,zt=!1):zt=!0;break;case ke.CODE_SHIFT:$=!0,T=ke.CODE_CODE_B;break;case ke.CODE_CODE_B:T=ke.CODE_CODE_B;break;case ke.CODE_CODE_C:T=ke.CODE_CODE_C;break;case ke.CODE_STOP:D=!0;break}break;case ke.CODE_CODE_B:if(Ae<96)zt===Qt?X+=String.fromCharCode(32+Ae):X+=String.fromCharCode(32+Ae+128),zt=!1;else switch(Ae!==ke.CODE_STOP&&(Fe=!1),Ae){case ke.CODE_FNC_1:h&&(X.length===0?X+="]C1":X+="");break;case ke.CODE_FNC_2:case ke.CODE_FNC_3:break;case ke.CODE_FNC_4_B:!Qt&&zt?(Qt=!0,zt=!1):Qt&&zt?(Qt=!1,zt=!1):zt=!0;break;case ke.CODE_SHIFT:$=!0,T=ke.CODE_CODE_A;break;case ke.CODE_CODE_A:T=ke.CODE_CODE_A;break;case ke.CODE_CODE_C:T=ke.CODE_CODE_C;break;case ke.CODE_STOP:D=!0;break}break;case ke.CODE_CODE_C:if(Ae<100)Ae<10&&(X+="0"),X+=Ae;else switch(Ae!==ke.CODE_STOP&&(Fe=!1),Ae){case ke.CODE_FNC_1:h&&(X.length===0?X+="]C1":X+="");break;case ke.CODE_CODE_A:T=ke.CODE_CODE_A;break;case ke.CODE_CODE_B:T=ke.CODE_CODE_B;break;case ke.CODE_STOP:D=!0;break}break}Ea&&(T=T===ke.CODE_CODE_A?ke.CODE_CODE_B:ke.CODE_CODE_A)}const Cr=ce-oe;if(ce=c.getNextUnset(ce),!c.isRange(ce,Math.min(c.getSize(),ce+(ce-oe)/2),!1))throw new re;if($e-=He*xe,$e%103!==xe)throw new N;const is=X.length;if(is===0)throw new re;is>0&&Fe&&(T===ke.CODE_CODE_C?X=X.substring(0,is-2):X=X.substring(0,is-1));const xi=(p[1]+p[0])/2,kn=oe+Cr/2,Zr=S.length,Wi=new Uint8Array(Zr);for(let Ea=0;Ea<Zr;Ea++)Wi[Ea]=S[Ea];const ul=[new je(xi,s),new je(kn,s)];return new Re(X,Wi,0,ul,we.CODE_128,new Date().getTime())}}ke.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],ke.MAX_AVG_VARIANCE=.25,ke.MAX_INDIVIDUAL_VARIANCE=.7,ke.CODE_SHIFT=98,ke.CODE_CODE_C=99,ke.CODE_CODE_B=100,ke.CODE_CODE_A=101,ke.CODE_FNC_1=102,ke.CODE_FNC_2=97,ke.CODE_FNC_3=96,ke.CODE_FNC_4_A=101,ke.CODE_FNC_4_B=100,ke.CODE_START_A=103,ke.CODE_START_B=104,ke.CODE_START_C=105,ke.CODE_STOP=106;class Xe extends wt{constructor(s=!1,c=!1){super(),this.usingCheckDigit=s,this.extendedMode=c,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(s,c,u){let h=this.counters;h.fill(0),this.decodeRowResult="";let p=Xe.findAsteriskPattern(c,h),y=c.getNextSet(p[1]),b=c.getSize(),S,T;do{Xe.recordPattern(c,y,h);let fe=Xe.toNarrowWidePattern(h);if(fe<0)throw new re;S=Xe.patternToChar(fe),this.decodeRowResult+=S,T=y;for(let xe of h)y+=xe;y=c.getNextSet(y)}while(S!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let D=0;for(let fe of h)D+=fe;let $=y-T-D;if(y!==b&&$*2<D)throw new re;if(this.usingCheckDigit){let fe=this.decodeRowResult.length-1,xe=0;for(let Ae=0;Ae<fe;Ae++)xe+=Xe.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(Ae));if(this.decodeRowResult.charAt(fe)!==Xe.ALPHABET_STRING.charAt(xe%43))throw new N;this.decodeRowResult=this.decodeRowResult.substring(0,fe)}if(this.decodeRowResult.length===0)throw new re;let X;this.extendedMode?X=Xe.decodeExtended(this.decodeRowResult):X=this.decodeRowResult;let oe=(p[1]+p[0])/2,ce=T+D/2;return new Re(X,null,0,[new je(oe,s),new je(ce,s)],we.CODE_39,new Date().getTime())}static findAsteriskPattern(s,c){let u=s.getSize(),h=s.getNextSet(0),p=0,y=h,b=!1,S=c.length;for(let T=h;T<u;T++)if(s.get(T)!==b)c[p]++;else{if(p===S-1){if(this.toNarrowWidePattern(c)===Xe.ASTERISK_ENCODING&&s.isRange(Math.max(0,y-Math.floor((T-y)/2)),y,!1))return[y,T];y+=c[0]+c[1],c.copyWithin(0,2,2+p-1),c[p-1]=0,c[p]=0,p--}else p++;c[p]=1,b=!b}throw new re}static toNarrowWidePattern(s){let c=s.length,u=0,h;do{let p=2147483647;for(let S of s)S<p&&S>u&&(p=S);u=p,h=0;let y=0,b=0;for(let S=0;S<c;S++){let T=s[S];T>u&&(b|=1<<c-1-S,h++,y+=T)}if(h===3){for(let S=0;S<c&&h>0;S++){let T=s[S];if(T>u&&(h--,T*2>=y))return-1}return b}}while(h>3);return-1}static patternToChar(s){for(let c=0;c<Xe.CHARACTER_ENCODINGS.length;c++)if(Xe.CHARACTER_ENCODINGS[c]===s)return Xe.ALPHABET_STRING.charAt(c);if(s===Xe.ASTERISK_ENCODING)return"*";throw new re}static decodeExtended(s){let c=s.length,u="";for(let h=0;h<c;h++){let p=s.charAt(h);if(p==="+"||p==="$"||p==="%"||p==="/"){let y=s.charAt(h+1),b="\0";switch(p){case"+":if(y>="A"&&y<="Z")b=String.fromCharCode(y.charCodeAt(0)+32);else throw new z;break;case"$":if(y>="A"&&y<="Z")b=String.fromCharCode(y.charCodeAt(0)-64);else throw new z;break;case"%":if(y>="A"&&y<="E")b=String.fromCharCode(y.charCodeAt(0)-38);else if(y>="F"&&y<="J")b=String.fromCharCode(y.charCodeAt(0)-11);else if(y>="K"&&y<="O")b=String.fromCharCode(y.charCodeAt(0)+16);else if(y>="P"&&y<="T")b=String.fromCharCode(y.charCodeAt(0)+43);else if(y==="U")b="\0";else if(y==="V")b="@";else if(y==="W")b="`";else if(y==="X"||y==="Y"||y==="Z")b="";else throw new z;break;case"/":if(y>="A"&&y<="O")b=String.fromCharCode(y.charCodeAt(0)-32);else if(y==="Z")b=":";else throw new z;break}u+=b,h++}else u+=p}return u}}Xe.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Xe.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Xe.ASTERISK_ENCODING=148;class Je extends wt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(s,c,u){let h=this.decodeStart(c),p=this.decodeEnd(c),y=new q;Je.decodeMiddle(c,h[1],p[0],y);let b=y.toString(),S=null;u!=null&&(S=u.get(se.ALLOWED_LENGTHS)),S==null&&(S=Je.DEFAULT_ALLOWED_LENGTHS);let T=b.length,D=!1,$=0;for(let ce of S){if(T===ce){D=!0;break}ce>$&&($=ce)}if(!D&&T>$&&(D=!0),!D)throw new z;const X=[new je(h[1],s),new je(p[0],s)];return new Re(b,null,0,X,we.ITF,new Date().getTime())}static decodeMiddle(s,c,u,h){let p=new Int32Array(10),y=new Int32Array(5),b=new Int32Array(5);for(p.fill(0),y.fill(0),b.fill(0);c<u;){wt.recordPattern(s,c,p);for(let T=0;T<5;T++){let D=2*T;y[T]=p[D],b[T]=p[D+1]}let S=Je.decodeDigit(y);h.append(S.toString()),S=this.decodeDigit(b),h.append(S.toString()),p.forEach(function(T){c+=T})}}decodeStart(s){let c=Je.skipWhiteSpace(s),u=Je.findGuardPattern(s,c,Je.START_PATTERN);return this.narrowLineWidth=(u[1]-u[0])/4,this.validateQuietZone(s,u[0]),u}validateQuietZone(s,c){let u=this.narrowLineWidth*10;u=u<c?u:c;for(let h=c-1;u>0&&h>=0&&!s.get(h);h--)u--;if(u!==0)throw new re}static skipWhiteSpace(s){const c=s.getSize(),u=s.getNextSet(0);if(u===c)throw new re;return u}decodeEnd(s){s.reverse();try{let c=Je.skipWhiteSpace(s),u;try{u=Je.findGuardPattern(s,c,Je.END_PATTERN_REVERSED[0])}catch(p){p instanceof re&&(u=Je.findGuardPattern(s,c,Je.END_PATTERN_REVERSED[1]))}this.validateQuietZone(s,u[0]);let h=u[0];return u[0]=s.getSize()-u[1],u[1]=s.getSize()-h,u}finally{s.reverse()}}static findGuardPattern(s,c,u){let h=u.length,p=new Int32Array(h),y=s.getSize(),b=!1,S=0,T=c;p.fill(0);for(let D=c;D<y;D++)if(s.get(D)!==b)p[S]++;else{if(S===h-1){if(wt.patternMatchVariance(p,u,Je.MAX_INDIVIDUAL_VARIANCE)<Je.MAX_AVG_VARIANCE)return[T,D];T+=p[0]+p[1],k.arraycopy(p,2,p,0,S-1),p[S-1]=0,p[S]=0,S--}else S++;p[S]=1,b=!b}throw new re}static decodeDigit(s){let c=Je.MAX_AVG_VARIANCE,u=-1,h=Je.PATTERNS.length;for(let p=0;p<h;p++){let y=Je.PATTERNS[p],b=wt.patternMatchVariance(s,y,Je.MAX_INDIVIDUAL_VARIANCE);b<c?(c=b,u=p):b===c&&(u=-1)}if(u>=0)return u%10;throw new re}}Je.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Je.MAX_AVG_VARIANCE=.38,Je.MAX_INDIVIDUAL_VARIANCE=.5,Je.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Je.START_PATTERN=Int32Array.from([1,1,1,1]),Je.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Pt extends wt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(s){let c=!1,u,h=0,p=Int32Array.from([0,0,0]);for(;!c;){p=Int32Array.from([0,0,0]),u=Pt.findGuardPattern(s,h,!1,this.START_END_PATTERN,p);let y=u[0];h=u[1];let b=y-(h-y);b>=0&&(c=s.isRange(b,y,!1))}return u}static checkChecksum(s){return Pt.checkStandardUPCEANChecksum(s)}static checkStandardUPCEANChecksum(s){let c=s.length;if(c===0)return!1;let u=parseInt(s.charAt(c-1),10);return Pt.getStandardUPCEANChecksum(s.substring(0,c-1))===u}static getStandardUPCEANChecksum(s){let c=s.length,u=0;for(let h=c-1;h>=0;h-=2){let p=s.charAt(h).charCodeAt(0)-48;if(p<0||p>9)throw new z;u+=p}u*=3;for(let h=c-2;h>=0;h-=2){let p=s.charAt(h).charCodeAt(0)-48;if(p<0||p>9)throw new z;u+=p}return(1e3-u)%10}static decodeEnd(s,c){return Pt.findGuardPattern(s,c,!1,Pt.START_END_PATTERN,new Int32Array(Pt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(s,c,u,h){return this.findGuardPattern(s,c,u,h,new Int32Array(h.length))}static findGuardPattern(s,c,u,h,p){let y=s.getSize();c=u?s.getNextUnset(c):s.getNextSet(c);let b=0,S=c,T=h.length,D=u;for(let $=c;$<y;$++)if(s.get($)!==D)p[b]++;else{if(b===T-1){if(wt.patternMatchVariance(p,h,Pt.MAX_INDIVIDUAL_VARIANCE)<Pt.MAX_AVG_VARIANCE)return Int32Array.from([S,$]);S+=p[0]+p[1];let X=p.slice(2,p.length-1);for(let oe=0;oe<b-1;oe++)p[oe]=X[oe];p[b-1]=0,p[b]=0,b--}else b++;p[b]=1,D=!D}throw new re}static decodeDigit(s,c,u,h){this.recordPattern(s,u,c);let p=this.MAX_AVG_VARIANCE,y=-1,b=h.length;for(let S=0;S<b;S++){let T=h[S],D=wt.patternMatchVariance(c,T,Pt.MAX_INDIVIDUAL_VARIANCE);D<p&&(p=D,y=S)}if(y>=0)return y;throw new re}}Pt.MAX_AVG_VARIANCE=.48,Pt.MAX_INDIVIDUAL_VARIANCE=.7,Pt.START_END_PATTERN=Int32Array.from([1,1,1]),Pt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Pt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Pt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Lr{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(s,c,u){let h=this.decodeRowStringBuffer,p=this.decodeMiddle(c,u,h),y=h.toString(),b=Lr.parseExtensionString(y),S=[new je((u[0]+u[1])/2,s),new je(p,s)],T=new Re(y,null,0,S,we.UPC_EAN_EXTENSION,new Date().getTime());return b!=null&&T.putAllMetadata(b),T}decodeMiddle(s,c,u){let h=this.decodeMiddleCounters;h[0]=0,h[1]=0,h[2]=0,h[3]=0;let p=s.getSize(),y=c[1],b=0;for(let T=0;T<5&&y<p;T++){let D=Pt.decodeDigit(s,h,y,Pt.L_AND_G_PATTERNS);u+=String.fromCharCode(48+D%10);for(let $ of h)y+=$;D>=10&&(b|=1<<4-T),T!==4&&(y=s.getNextSet(y),y=s.getNextUnset(y))}if(u.length!==5)throw new re;let S=this.determineCheckDigit(b);if(Lr.extensionChecksum(u.toString())!==S)throw new re;return y}static extensionChecksum(s){let c=s.length,u=0;for(let h=c-2;h>=0;h-=2)u+=s.charAt(h).charCodeAt(0)-48;u*=3;for(let h=c-1;h>=0;h-=2)u+=s.charAt(h).charCodeAt(0)-48;return u*=3,u%10}determineCheckDigit(s){for(let c=0;c<10;c++)if(s===this.CHECK_DIGIT_ENCODINGS[c])return c;throw new re}static parseExtensionString(s){if(s.length!==5)return null;let c=Lr.parseExtension5String(s);return c==null?null:new Map([[tt.SUGGESTED_PRICE,c]])}static parseExtension5String(s){let c;switch(s.charAt(0)){case"0":c="";break;case"5":c="$";break;case"9":switch(s){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}c="";break;default:c="";break}let u=parseInt(s.substring(1)),h=(u/100).toString(),p=u%100,y=p<10?"0"+p:p.toString();return c+h+"."+y}}class zi{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(s,c,u){let h=this.decodeRowStringBuffer,p=this.decodeMiddle(c,u,h),y=h.toString(),b=zi.parseExtensionString(y),S=[new je((u[0]+u[1])/2,s),new je(p,s)],T=new Re(y,null,0,S,we.UPC_EAN_EXTENSION,new Date().getTime());return b!=null&&T.putAllMetadata(b),T}decodeMiddle(s,c,u){let h=this.decodeMiddleCounters;h[0]=0,h[1]=0,h[2]=0,h[3]=0;let p=s.getSize(),y=c[1],b=0;for(let S=0;S<2&&y<p;S++){let T=Pt.decodeDigit(s,h,y,Pt.L_AND_G_PATTERNS);u+=String.fromCharCode(48+T%10);for(let D of h)y+=D;T>=10&&(b|=1<<1-S),S!==1&&(y=s.getNextSet(y),y=s.getNextUnset(y))}if(u.length!==2)throw new re;if(parseInt(u.toString())%4!==b)throw new re;return y}static parseExtensionString(s){return s.length!==2?null:new Map([[tt.ISSUE_NUMBER,parseInt(s)]])}}class ai{static decodeRow(s,c,u){let h=Pt.findGuardPattern(c,u,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Lr().decodeRow(s,c,h)}catch{return new zi().decodeRow(s,c,h)}}}ai.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Wt extends Pt{constructor(){super(),this.decodeRowStringBuffer="",Wt.L_AND_G_PATTERNS=Wt.L_PATTERNS.map(s=>Int32Array.from(s));for(let s=10;s<20;s++){let c=Wt.L_PATTERNS[s-10],u=new Int32Array(c.length);for(let h=0;h<c.length;h++)u[h]=c[c.length-h-1];Wt.L_AND_G_PATTERNS[s]=u}}decodeRow(s,c,u){let h=Wt.findStartGuardPattern(c),p=u==null?null:u.get(se.NEED_RESULT_POINT_CALLBACK);if(p!=null){const Fe=new je((h[0]+h[1])/2,s);p.foundPossibleResultPoint(Fe)}let y=this.decodeMiddle(c,h,this.decodeRowStringBuffer),b=y.rowOffset,S=y.resultString;if(p!=null){const Fe=new je(b,s);p.foundPossibleResultPoint(Fe)}let T=this.decodeEnd(c,b);if(p!=null){const Fe=new je((T[0]+T[1])/2,s);p.foundPossibleResultPoint(Fe)}let D=T[1],$=D+(D-T[0]);if($>=c.getSize()||!c.isRange(D,$,!1))throw new re;let X=S.toString();if(X.length<8)throw new z;if(!Wt.checkChecksum(X))throw new N;let oe=(h[1]+h[0])/2,ce=(T[1]+T[0])/2,fe=this.getBarcodeFormat(),xe=[new je(oe,s),new je(ce,s)],Ae=new Re(X,null,0,xe,fe,new Date().getTime()),$e=0;try{let Fe=ai.decodeRow(s,c,T[1]);Ae.putMetadata(tt.UPC_EAN_EXTENSION,Fe.getText()),Ae.putAllMetadata(Fe.getResultMetadata()),Ae.addResultPoints(Fe.getResultPoints()),$e=Fe.getText().length}catch{}let He=u==null?null:u.get(se.ALLOWED_EAN_EXTENSIONS);if(He!=null){let Fe=!1;for(let Qt in He)if($e.toString()===Qt){Fe=!0;break}if(!Fe)throw new re}return Ae}decodeEnd(s,c){return Wt.findGuardPattern(s,c,!1,Wt.START_END_PATTERN,new Int32Array(Wt.START_END_PATTERN.length).fill(0))}static checkChecksum(s){return Wt.checkStandardUPCEANChecksum(s)}static checkStandardUPCEANChecksum(s){let c=s.length;if(c===0)return!1;let u=parseInt(s.charAt(c-1),10);return Wt.getStandardUPCEANChecksum(s.substring(0,c-1))===u}static getStandardUPCEANChecksum(s){let c=s.length,u=0;for(let h=c-1;h>=0;h-=2){let p=s.charAt(h).charCodeAt(0)-48;if(p<0||p>9)throw new z;u+=p}u*=3;for(let h=c-2;h>=0;h-=2){let p=s.charAt(h).charCodeAt(0)-48;if(p<0||p>9)throw new z;u+=p}return(1e3-u)%10}}class kt extends Wt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(s,c,u){let h=this.decodeMiddleCounters;h[0]=0,h[1]=0,h[2]=0,h[3]=0;let p=s.getSize(),y=c[1],b=0;for(let T=0;T<6&&y<p;T++){let D=Wt.decodeDigit(s,h,y,Wt.L_AND_G_PATTERNS);u+=String.fromCharCode(48+D%10);for(let $ of h)y+=$;D>=10&&(b|=1<<5-T)}u=kt.determineFirstDigit(u,b),y=Wt.findGuardPattern(s,y,!0,Wt.MIDDLE_PATTERN,new Int32Array(Wt.MIDDLE_PATTERN.length).fill(0))[1];for(let T=0;T<6&&y<p;T++){let D=Wt.decodeDigit(s,h,y,Wt.L_PATTERNS);u+=String.fromCharCode(48+D);for(let $ of h)y+=$}return{rowOffset:y,resultString:u}}getBarcodeFormat(){return we.EAN_13}static determineFirstDigit(s,c){for(let u=0;u<10;u++)if(c===this.FIRST_DIGIT_ENCODINGS[u])return s=String.fromCharCode(48+u)+s,s;throw new re}}kt.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Nn extends Wt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(s,c,u){const h=this.decodeMiddleCounters;h[0]=0,h[1]=0,h[2]=0,h[3]=0;let p=s.getSize(),y=c[1];for(let S=0;S<4&&y<p;S++){let T=Wt.decodeDigit(s,h,y,Wt.L_PATTERNS);u+=String.fromCharCode(48+T);for(let D of h)y+=D}y=Wt.findGuardPattern(s,y,!0,Wt.MIDDLE_PATTERN,new Int32Array(Wt.MIDDLE_PATTERN.length).fill(0))[1];for(let S=0;S<4&&y<p;S++){let T=Wt.decodeDigit(s,h,y,Wt.L_PATTERNS);u+=String.fromCharCode(48+T);for(let D of h)y+=D}return{rowOffset:y,resultString:u}}getBarcodeFormat(){return we.EAN_8}}class li extends Wt{constructor(){super(...arguments),this.ean13Reader=new kt}getBarcodeFormat(){return we.UPC_A}decode(s,c){return this.maybeReturnResult(this.ean13Reader.decode(s))}decodeRow(s,c,u){return this.maybeReturnResult(this.ean13Reader.decodeRow(s,c,u))}decodeMiddle(s,c,u){return this.ean13Reader.decodeMiddle(s,c,u)}maybeReturnResult(s){let c=s.getText();if(c.charAt(0)==="0"){let u=new Re(c.substring(1),null,null,s.getResultPoints(),we.UPC_A);return s.getResultMetadata()!=null&&u.putAllMetadata(s.getResultMetadata()),u}else throw new re}reset(){this.ean13Reader.reset()}}class $n extends Wt{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(s,c,u){const h=this.decodeMiddleCounters.map(T=>T);h[0]=0,h[1]=0,h[2]=0,h[3]=0;const p=s.getSize();let y=c[1],b=0;for(let T=0;T<6&&y<p;T++){const D=$n.decodeDigit(s,h,y,$n.L_AND_G_PATTERNS);u+=String.fromCharCode(48+D%10);for(let $ of h)y+=$;D>=10&&(b|=1<<5-T)}let S=$n.determineNumSysAndCheckDigit(u,b);return{rowOffset:y,resultString:S}}decodeEnd(s,c){return $n.findGuardPatternWithoutCounters(s,c,!0,$n.MIDDLE_END_PATTERN)}checkChecksum(s){return Wt.checkChecksum($n.convertUPCEtoUPCA(s))}static determineNumSysAndCheckDigit(s,c){for(let u=0;u<=1;u++)for(let h=0;h<10;h++)if(c===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[u][h]){let p=String.fromCharCode(48+u),y=String.fromCharCode(48+h);return p+s+y}throw re.getNotFoundInstance()}getBarcodeFormat(){return we.UPC_E}static convertUPCEtoUPCA(s){const c=s.slice(1,7).split("").map(p=>p.charCodeAt(0)),u=new q;u.append(s.charAt(0));let h=c[5];switch(h){case 0:case 1:case 2:u.appendChars(c,0,2),u.append(h),u.append("0000"),u.appendChars(c,2,3);break;case 3:u.appendChars(c,0,3),u.append("00000"),u.appendChars(c,3,2);break;case 4:u.appendChars(c,0,4),u.append("00000"),u.append(c[4]);break;default:u.appendChars(c,0,5),u.append("0000"),u.append(h);break}return s.length>=8&&u.append(s.charAt(7)),u.toString()}}$n.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),$n.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class ci extends wt{constructor(s){super();let c=s==null?null:s.get(se.POSSIBLE_FORMATS),u=[];r(c)?(u.push(new kt),u.push(new li),u.push(new Nn),u.push(new $n)):(c.indexOf(we.EAN_13)>-1&&u.push(new kt),c.indexOf(we.UPC_A)>-1&&u.push(new li),c.indexOf(we.EAN_8)>-1&&u.push(new Nn),c.indexOf(we.UPC_E)>-1&&u.push(new $n)),this.readers=u}decodeRow(s,c,u){for(let h of this.readers)try{const p=h.decodeRow(s,c,u),y=p.getBarcodeFormat()===we.EAN_13&&p.getText().charAt(0)==="0",b=u==null?null:u.get(se.POSSIBLE_FORMATS),S=b==null||b.includes(we.UPC_A);if(y&&S){const T=p.getRawBytes(),D=new Re(p.getText().substring(1),T,T?T.length:null,p.getResultPoints(),we.UPC_A);return D.putAllMetadata(p.getResultMetadata()),D}return p}catch{}throw new re}reset(){for(let s of this.readers)s.reset()}}class Pr extends wt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(s,c){for(let u=0;u<c.length;u++)if(wt.patternMatchVariance(s,c[u],Pr.MAX_INDIVIDUAL_VARIANCE)<Pr.MAX_AVG_VARIANCE)return u;throw new re}static count(s){return Qe.sum(new Int32Array(s))}static increment(s,c){let u=0,h=c[0];for(let p=1;p<s.length;p++)c[p]>h&&(h=c[p],u=p);s[u]++}static decrement(s,c){let u=0,h=c[0];for(let p=1;p<s.length;p++)c[p]<h&&(h=c[p],u=p);s[u]--}static isFinderPattern(s){let c=s[0]+s[1],u=c+s[2]+s[3],h=c/u;if(h>=Pr.MIN_FINDER_PATTERN_RATIO&&h<=Pr.MAX_FINDER_PATTERN_RATIO){let p=Number.MAX_SAFE_INTEGER,y=Number.MIN_SAFE_INTEGER;for(let b of s)b>y&&(y=b),b<p&&(p=b);return y<10*p}return!1}}Pr.MAX_AVG_VARIANCE=.2,Pr.MAX_INDIVIDUAL_VARIANCE=.45,Pr.MIN_FINDER_PATTERN_RATIO=9.5/12,Pr.MAX_FINDER_PATTERN_RATIO=12.5/14;class ui{constructor(s,c){this.value=s,this.checksumPortion=c}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(s){if(!(s instanceof ui))return!1;const c=s;return this.value===c.value&&this.checksumPortion===c.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class ks{constructor(s,c,u,h,p){this.value=s,this.startEnd=c,this.value=s,this.startEnd=c,this.resultPoints=new Array,this.resultPoints.push(new je(u,p)),this.resultPoints.push(new je(h,p))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(s){if(!(s instanceof ks))return!1;const c=s;return this.value===c.value}hashCode(){return this.value}}class Ji{constructor(){}static getRSSvalue(s,c,u){let h=0;for(let S of s)h+=S;let p=0,y=0,b=s.length;for(let S=0;S<b-1;S++){let T;for(T=1,y|=1<<S;T<s[S];T++,y&=~(1<<S)){let D=Ji.combins(h-T-1,b-S-2);if(u&&y===0&&h-T-(b-S-1)>=b-S-1&&(D-=Ji.combins(h-T-(b-S),b-S-2)),b-S-1>1){let $=0;for(let X=h-T-(b-S-2);X>c;X--)$+=Ji.combins(h-T-X-1,b-S-3);D-=$*(b-1-S)}else h-T>c&&D--;p+=D}h-=T}return p}static combins(s,c){let u,h;s-c>c?(h=c,u=s-c):(h=s-c,u=c);let p=1,y=1;for(let b=s;b>u;b--)p*=b,y<=h&&(p/=y,y++);for(;y<=h;)p/=y,y++;return p}}class aa{static buildBitArray(s){let c=s.length*2-1;s[s.length-1].getRightChar()==null&&(c-=1);let u=12*c,h=new W(u),p=0,b=s[0].getRightChar().getValue();for(let S=11;S>=0;--S)(b&1<<S)!=0&&h.set(p),p++;for(let S=1;S<s.length;++S){let T=s[S],D=T.getLeftChar().getValue();for(let $=11;$>=0;--$)(D&1<<$)!=0&&h.set(p),p++;if(T.getRightChar()!=null){let $=T.getRightChar().getValue();for(let X=11;X>=0;--X)($&1<<X)!=0&&h.set(p),p++}}return h}}class ps{constructor(s,c){c?this.decodedInformation=null:(this.finished=s,this.decodedInformation=c)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class la{constructor(s){this.newPosition=s}getNewPosition(){return this.newPosition}}class wr extends la{constructor(s,c){super(s),this.value=c}getValue(){return this.value}isFNC1(){return this.value===wr.FNC1}}wr.FNC1="$";class fi extends la{constructor(s,c,u){super(s),u?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=c}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class di extends la{constructor(s,c,u){if(super(s),c<0||c>10||u<0||u>10)throw new z;this.firstDigit=c,this.secondDigit=u}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===di.FNC1}isSecondDigitFNC1(){return this.secondDigit===di.FNC1}isAnyFNC1(){return this.firstDigit===di.FNC1||this.secondDigit===di.FNC1}}di.FNC1=10;class Ze{constructor(){}static parseFieldsInGeneralPurpose(s){if(!s)return null;if(s.length<2)throw new re;let c=s.substring(0,2);for(let p of Ze.TWO_DIGIT_DATA_LENGTH)if(p[0]===c)return p[1]===Ze.VARIABLE_LENGTH?Ze.processVariableAI(2,p[2],s):Ze.processFixedAI(2,p[1],s);if(s.length<3)throw new re;let u=s.substring(0,3);for(let p of Ze.THREE_DIGIT_DATA_LENGTH)if(p[0]===u)return p[1]===Ze.VARIABLE_LENGTH?Ze.processVariableAI(3,p[2],s):Ze.processFixedAI(3,p[1],s);for(let p of Ze.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(p[0]===u)return p[1]===Ze.VARIABLE_LENGTH?Ze.processVariableAI(4,p[2],s):Ze.processFixedAI(4,p[1],s);if(s.length<4)throw new re;let h=s.substring(0,4);for(let p of Ze.FOUR_DIGIT_DATA_LENGTH)if(p[0]===h)return p[1]===Ze.VARIABLE_LENGTH?Ze.processVariableAI(4,p[2],s):Ze.processFixedAI(4,p[1],s);throw new re}static processFixedAI(s,c,u){if(u.length<s)throw new re;let h=u.substring(0,s);if(u.length<s+c)throw new re;let p=u.substring(s,s+c),y=u.substring(s+c),b="("+h+")"+p,S=Ze.parseFieldsInGeneralPurpose(y);return S==null?b:b+S}static processVariableAI(s,c,u){let h=u.substring(0,s),p;u.length<s+c?p=u.length:p=s+c;let y=u.substring(s,p),b=u.substring(p),S="("+h+")"+y,T=Ze.parseFieldsInGeneralPurpose(b);return T==null?S:S+T}}Ze.VARIABLE_LENGTH=[],Ze.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Ze.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Ze.VARIABLE_LENGTH,20],["22",Ze.VARIABLE_LENGTH,29],["30",Ze.VARIABLE_LENGTH,8],["37",Ze.VARIABLE_LENGTH,8],["90",Ze.VARIABLE_LENGTH,30],["91",Ze.VARIABLE_LENGTH,30],["92",Ze.VARIABLE_LENGTH,30],["93",Ze.VARIABLE_LENGTH,30],["94",Ze.VARIABLE_LENGTH,30],["95",Ze.VARIABLE_LENGTH,30],["96",Ze.VARIABLE_LENGTH,30],["97",Ze.VARIABLE_LENGTH,3],["98",Ze.VARIABLE_LENGTH,30],["99",Ze.VARIABLE_LENGTH,30]],Ze.THREE_DIGIT_DATA_LENGTH=[["240",Ze.VARIABLE_LENGTH,30],["241",Ze.VARIABLE_LENGTH,30],["242",Ze.VARIABLE_LENGTH,6],["250",Ze.VARIABLE_LENGTH,30],["251",Ze.VARIABLE_LENGTH,30],["253",Ze.VARIABLE_LENGTH,17],["254",Ze.VARIABLE_LENGTH,20],["400",Ze.VARIABLE_LENGTH,30],["401",Ze.VARIABLE_LENGTH,30],["402",17],["403",Ze.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Ze.VARIABLE_LENGTH,20],["421",Ze.VARIABLE_LENGTH,15],["422",3],["423",Ze.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Ze.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Ze.VARIABLE_LENGTH,15],["391",Ze.VARIABLE_LENGTH,18],["392",Ze.VARIABLE_LENGTH,15],["393",Ze.VARIABLE_LENGTH,18],["703",Ze.VARIABLE_LENGTH,30]],Ze.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Ze.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Ze.VARIABLE_LENGTH,20],["8003",Ze.VARIABLE_LENGTH,30],["8004",Ze.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Ze.VARIABLE_LENGTH,30],["8008",Ze.VARIABLE_LENGTH,12],["8018",18],["8020",Ze.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Ze.VARIABLE_LENGTH,70],["8200",Ze.VARIABLE_LENGTH,70]];class ti{constructor(s){this.buffer=new q,this.information=s}decodeAllCodes(s,c){let u=c,h=null;do{let p=this.decodeGeneralPurposeField(u,h),y=Ze.parseFieldsInGeneralPurpose(p.getNewString());if(y!=null&&s.append(y),p.isRemaining()?h=""+p.getRemainingValue():h=null,u===p.getNewPosition())break;u=p.getNewPosition()}while(!0);return s.toString()}isStillNumeric(s){if(s+7>this.information.getSize())return s+4<=this.information.getSize();for(let c=s;c<s+3;++c)if(this.information.get(c))return!0;return this.information.get(s+3)}decodeNumeric(s){if(s+7>this.information.getSize()){let p=this.extractNumericValueFromBitArray(s,4);return p===0?new di(this.information.getSize(),di.FNC1,di.FNC1):new di(this.information.getSize(),p-1,di.FNC1)}let c=this.extractNumericValueFromBitArray(s,7),u=(c-8)/11,h=(c-8)%11;return new di(s+7,u,h)}extractNumericValueFromBitArray(s,c){return ti.extractNumericValueFromBitArray(this.information,s,c)}static extractNumericValueFromBitArray(s,c,u){let h=0;for(let p=0;p<u;++p)s.get(c+p)&&(h|=1<<u-p-1);return h}decodeGeneralPurposeField(s,c){this.buffer.setLengthToZero(),c!=null&&this.buffer.append(c),this.current.setPosition(s);let u=this.parseBlocks();return u!=null&&u.isRemaining()?new fi(this.current.getPosition(),this.buffer.toString(),u.getRemainingValue()):new fi(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let s,c;do{let u=this.current.getPosition();if(this.current.isAlpha()?(c=this.parseAlphaBlock(),s=c.isFinished()):this.current.isIsoIec646()?(c=this.parseIsoIec646Block(),s=c.isFinished()):(c=this.parseNumericBlock(),s=c.isFinished()),!(u!==this.current.getPosition())&&!s)break}while(!s);return c.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let s=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFirstDigitFNC1()){let c;return s.isSecondDigitFNC1()?c=new fi(this.current.getPosition(),this.buffer.toString()):c=new fi(this.current.getPosition(),this.buffer.toString(),s.getSecondDigit()),new ps(!0,c)}if(this.buffer.append(s.getFirstDigit()),s.isSecondDigitFNC1()){let c=new fi(this.current.getPosition(),this.buffer.toString());return new ps(!0,c)}this.buffer.append(s.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new ps(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let s=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFNC1()){let c=new fi(this.current.getPosition(),this.buffer.toString());return new ps(!0,c)}this.buffer.append(s.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new ps(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let s=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFNC1()){let c=new fi(this.current.getPosition(),this.buffer.toString());return new ps(!0,c)}this.buffer.append(s.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new ps(!1)}isStillIsoIec646(s){if(s+5>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(s,5);if(c>=5&&c<16)return!0;if(s+7>this.information.getSize())return!1;let u=this.extractNumericValueFromBitArray(s,7);if(u>=64&&u<116)return!0;if(s+8>this.information.getSize())return!1;let h=this.extractNumericValueFromBitArray(s,8);return h>=232&&h<253}decodeIsoIec646(s){let c=this.extractNumericValueFromBitArray(s,5);if(c===15)return new wr(s+5,wr.FNC1);if(c>=5&&c<15)return new wr(s+5,"0"+(c-5));let u=this.extractNumericValueFromBitArray(s,7);if(u>=64&&u<90)return new wr(s+7,""+(u+1));if(u>=90&&u<116)return new wr(s+7,""+(u+7));let h=this.extractNumericValueFromBitArray(s,8),p;switch(h){case 232:p="!";break;case 233:p='"';break;case 234:p="%";break;case 235:p="&";break;case 236:p="'";break;case 237:p="(";break;case 238:p=")";break;case 239:p="*";break;case 240:p="+";break;case 241:p=",";break;case 242:p="-";break;case 243:p=".";break;case 244:p="/";break;case 245:p=":";break;case 246:p=";";break;case 247:p="<";break;case 248:p="=";break;case 249:p=">";break;case 250:p="?";break;case 251:p="_";break;case 252:p=" ";break;default:throw new z}return new wr(s+8,p)}isStillAlpha(s){if(s+5>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(s,5);if(c>=5&&c<16)return!0;if(s+6>this.information.getSize())return!1;let u=this.extractNumericValueFromBitArray(s,6);return u>=16&&u<63}decodeAlphanumeric(s){let c=this.extractNumericValueFromBitArray(s,5);if(c===15)return new wr(s+5,wr.FNC1);if(c>=5&&c<15)return new wr(s+5,"0"+(c-5));let u=this.extractNumericValueFromBitArray(s,6);if(u>=32&&u<58)return new wr(s+6,""+(u+33));let h;switch(u){case 58:h="*";break;case 59:h=",";break;case 60:h="-";break;case 61:h=".";break;case 62:h="/";break;default:throw new Mt("Decoding invalid alphanumeric value: "+u)}return new wr(s+6,h)}isAlphaTo646ToAlphaLatch(s){if(s+1>this.information.getSize())return!1;for(let c=0;c<5&&c+s<this.information.getSize();++c)if(c===2){if(!this.information.get(s+2))return!1}else if(this.information.get(s+c))return!1;return!0}isAlphaOr646ToNumericLatch(s){if(s+3>this.information.getSize())return!1;for(let c=s;c<s+3;++c)if(this.information.get(c))return!1;return!0}isNumericToAlphaNumericLatch(s){if(s+1>this.information.getSize())return!1;for(let c=0;c<4&&c+s<this.information.getSize();++c)if(this.information.get(s+c))return!1;return!0}}class cr{constructor(s){this.information=s,this.generalDecoder=new ti(s)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class An extends cr{constructor(s){super(s)}encodeCompressedGtin(s,c){s.append("(01)");let u=s.length();s.append("9"),this.encodeCompressedGtinWithoutAI(s,c,u)}encodeCompressedGtinWithoutAI(s,c,u){for(let h=0;h<4;++h){let p=this.getGeneralDecoder().extractNumericValueFromBitArray(c+10*h,10);p/100===0&&s.append("0"),p/10===0&&s.append("0"),s.append(p)}An.appendCheckDigit(s,u)}static appendCheckDigit(s,c){let u=0;for(let h=0;h<13;h++){let p=s.charAt(h+c).charCodeAt(0)-48;u+=(h&1)===0?3*p:p}u=10-u%10,u===10&&(u=0),s.append(u)}}An.GTIN_SIZE=40;class hi extends An{constructor(s){super(s)}parseInformation(){let s=new q;s.append("(01)");let c=s.length(),u=this.getGeneralDecoder().extractNumericValueFromBitArray(hi.HEADER_SIZE,4);return s.append(u),this.encodeCompressedGtinWithoutAI(s,hi.HEADER_SIZE+4,c),this.getGeneralDecoder().decodeAllCodes(s,hi.HEADER_SIZE+44)}}hi.HEADER_SIZE=4;class oo extends cr{constructor(s){super(s)}parseInformation(){let s=new q;return this.getGeneralDecoder().decodeAllCodes(s,oo.HEADER_SIZE)}}oo.HEADER_SIZE=5;class rl extends An{constructor(s){super(s)}encodeCompressedWeight(s,c,u){let h=this.getGeneralDecoder().extractNumericValueFromBitArray(c,u);this.addWeightCode(s,h);let p=this.checkWeight(h),y=1e5;for(let b=0;b<5;++b)p/y===0&&s.append("0"),y/=10;s.append(p)}}class ji extends rl{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()!=ji.HEADER_SIZE+rl.GTIN_SIZE+ji.WEIGHT_SIZE)throw new re;let s=new q;return this.encodeCompressedGtin(s,ji.HEADER_SIZE),this.encodeCompressedWeight(s,ji.HEADER_SIZE+rl.GTIN_SIZE,ji.WEIGHT_SIZE),s.toString()}}ji.HEADER_SIZE=5,ji.WEIGHT_SIZE=15;class su extends ji{constructor(s){super(s)}addWeightCode(s,c){s.append("(3103)")}checkWeight(s){return s}}class Bs extends ji{constructor(s){super(s)}addWeightCode(s,c){c<1e4?s.append("(3202)"):s.append("(3203)")}checkWeight(s){return s<1e4?s:s-1e4}}class pi extends An{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()<pi.HEADER_SIZE+An.GTIN_SIZE)throw new re;let s=new q;this.encodeCompressedGtin(s,pi.HEADER_SIZE);let c=this.getGeneralDecoder().extractNumericValueFromBitArray(pi.HEADER_SIZE+An.GTIN_SIZE,pi.LAST_DIGIT_SIZE);s.append("(392"),s.append(c),s.append(")");let u=this.getGeneralDecoder().decodeGeneralPurposeField(pi.HEADER_SIZE+An.GTIN_SIZE+pi.LAST_DIGIT_SIZE,null);return s.append(u.getNewString()),s.toString()}}pi.HEADER_SIZE=8,pi.LAST_DIGIT_SIZE=2;class tr extends An{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()<tr.HEADER_SIZE+An.GTIN_SIZE)throw new re;let s=new q;this.encodeCompressedGtin(s,tr.HEADER_SIZE);let c=this.getGeneralDecoder().extractNumericValueFromBitArray(tr.HEADER_SIZE+An.GTIN_SIZE,tr.LAST_DIGIT_SIZE);s.append("(393"),s.append(c),s.append(")");let u=this.getGeneralDecoder().extractNumericValueFromBitArray(tr.HEADER_SIZE+An.GTIN_SIZE+tr.LAST_DIGIT_SIZE,tr.FIRST_THREE_DIGITS_SIZE);u/100==0&&s.append("0"),u/10==0&&s.append("0"),s.append(u);let h=this.getGeneralDecoder().decodeGeneralPurposeField(tr.HEADER_SIZE+An.GTIN_SIZE+tr.LAST_DIGIT_SIZE+tr.FIRST_THREE_DIGITS_SIZE,null);return s.append(h.getNewString()),s.toString()}}tr.HEADER_SIZE=8,tr.LAST_DIGIT_SIZE=2,tr.FIRST_THREE_DIGITS_SIZE=10;class tn extends rl{constructor(s,c,u){super(s),this.dateCode=u,this.firstAIdigits=c}parseInformation(){if(this.getInformation().getSize()!=tn.HEADER_SIZE+tn.GTIN_SIZE+tn.WEIGHT_SIZE+tn.DATE_SIZE)throw new re;let s=new q;return this.encodeCompressedGtin(s,tn.HEADER_SIZE),this.encodeCompressedWeight(s,tn.HEADER_SIZE+tn.GTIN_SIZE,tn.WEIGHT_SIZE),this.encodeCompressedDate(s,tn.HEADER_SIZE+tn.GTIN_SIZE+tn.WEIGHT_SIZE),s.toString()}encodeCompressedDate(s,c){let u=this.getGeneralDecoder().extractNumericValueFromBitArray(c,tn.DATE_SIZE);if(u==38400)return;s.append("("),s.append(this.dateCode),s.append(")");let h=u%32;u/=32;let p=u%12+1;u/=12;let y=u;y/10==0&&s.append("0"),s.append(y),p/10==0&&s.append("0"),s.append(p),h/10==0&&s.append("0"),s.append(h)}addWeightCode(s,c){s.append("("),s.append(this.firstAIdigits),s.append(c/1e5),s.append(")")}checkWeight(s){return s%1e5}}tn.HEADER_SIZE=8,tn.WEIGHT_SIZE=20,tn.DATE_SIZE=16;function Ti(G){try{if(G.get(1))return new hi(G);if(!G.get(2))return new oo(G);switch(ti.extractNumericValueFromBitArray(G,1,4)){case 4:return new su(G);case 5:return new Bs(G)}switch(ti.extractNumericValueFromBitArray(G,1,5)){case 12:return new pi(G);case 13:return new tr(G)}switch(ti.extractNumericValueFromBitArray(G,1,7)){case 56:return new tn(G,"310","11");case 57:return new tn(G,"320","11");case 58:return new tn(G,"310","13");case 59:return new tn(G,"320","13");case 60:return new tn(G,"310","15");case 61:return new tn(G,"320","15");case 62:return new tn(G,"310","17");case 63:return new tn(G,"320","17")}}catch(s){throw console.log(s),new Mt("unknown decoder: "+G)}}class Qr{constructor(s,c,u,h){this.leftchar=s,this.rightchar=c,this.finderpattern=u,this.maybeLast=h}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(s,c){return s instanceof Qr?Qr.equalsOrNull(s.leftchar,c.leftchar)&&Qr.equalsOrNull(s.rightchar,c.rightchar)&&Qr.equalsOrNull(s.finderpattern,c.finderpattern):!1}static equalsOrNull(s,c){return s===null?c===null:Qr.equals(s,c)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class ur{constructor(s,c,u){this.pairs=s,this.rowNumber=c,this.wasReversed=u}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(s){return this.checkEqualitity(this,s)}toString(){return"{ "+this.pairs+" }"}equals(s,c){return s instanceof ur?this.checkEqualitity(s,c)&&s.wasReversed===c.wasReversed:!1}checkEqualitity(s,c){if(!s||!c)return;let u;return s.forEach((h,p)=>{c.forEach(y=>{h.getLeftChar().getValue()===y.getLeftChar().getValue()&&h.getRightChar().getValue()===y.getRightChar().getValue()&&h.getFinderPatter().getValue()===y.getFinderPatter().getValue()&&(u=!0)})}),u}}class Be extends Pr{constructor(s){super(...arguments),this.pairs=new Array(Be.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=s===!0}decodeRow(s,c,u){this.pairs.length=0,this.startFromEven=!1;try{return Be.constructResult(this.decodeRow2pairs(s,c))}catch(h){this.verbose&&console.log(h)}return this.pairs.length=0,this.startFromEven=!0,Be.constructResult(this.decodeRow2pairs(s,c))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(s,c){let u=!1;for(;!u;)try{this.pairs.push(this.retrieveNextPair(c,this.pairs,s))}catch(p){if(p instanceof re){if(!this.pairs.length)throw new re;u=!0}}if(this.checkChecksum())return this.pairs;let h;if(this.rows.length?h=!0:h=!1,this.storeRow(s,!1),h){let p=this.checkRowsBoolean(!1);if(p!=null||(p=this.checkRowsBoolean(!0),p!=null))return p}throw new re}checkRowsBoolean(s){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,s&&(this.rows=this.rows.reverse());let c=null;try{c=this.checkRows(new Array,0)}catch(u){this.verbose&&console.log(u)}return s&&(this.rows=this.rows.reverse()),c}checkRows(s,c){for(let u=c;u<this.rows.length;u++){let h=this.rows[u];this.pairs.length=0;for(let y of s)this.pairs.push(y.getPairs());if(this.pairs.push(h.getPairs()),!Be.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let p=new Array(s);p.push(h);try{return this.checkRows(p,u+1)}catch(y){this.verbose&&console.log(y)}}throw new re}static isValidSequence(s){for(let c of Be.FINDER_PATTERN_SEQUENCES){if(s.length>c.length)continue;let u=!0;for(let h=0;h<s.length;h++)if(s[h].getFinderPattern().getValue()!=c[h]){u=!1;break}if(u)return!0}return!1}storeRow(s,c){let u=0,h=!1,p=!1;for(;u<this.rows.length;){let y=this.rows[u];if(y.getRowNumber()>s){p=y.isEquivalent(this.pairs);break}h=y.isEquivalent(this.pairs),u++}p||h||Be.isPartialRow(this.pairs,this.rows)||(this.rows.push(u,new ur(this.pairs,s,c)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(s,c){for(let u of c)if(u.getPairs().length!==s.length){for(let h of u.getPairs())for(let p of s)if(Qr.equals(h,p))break}}static isPartialRow(s,c){for(let u of c){let h=!0;for(let p of s){let y=!1;for(let b of u.getPairs())if(p.equals(b)){y=!0;break}if(!y){h=!1;break}}if(h)return!0}return!1}getRows(){return this.rows}static constructResult(s){let c=aa.buildBitArray(s),h=Ti(c).parseInformation(),p=s[0].getFinderPattern().getResultPoints(),y=s[s.length-1].getFinderPattern().getResultPoints(),b=[p[0],p[1],y[0],y[1]];return new Re(h,null,null,b,we.RSS_EXPANDED,null)}checkChecksum(){let s=this.pairs.get(0),c=s.getLeftChar(),u=s.getRightChar();if(u==null)return!1;let h=u.getChecksumPortion(),p=2;for(let b=1;b<this.pairs.size();++b){let S=this.pairs.get(b);h+=S.getLeftChar().getChecksumPortion(),p++;let T=S.getRightChar();T!=null&&(h+=T.getChecksumPortion(),p++)}return h%=211,211*(p-4)+h==c.getValue()}static getNextSecondBar(s,c){let u;return s.get(c)?(u=s.getNextUnset(c),u=s.getNextSet(u)):(u=s.getNextSet(c),u=s.getNextUnset(u)),u}retrieveNextPair(s,c,u){let h=c.length%2==0;this.startFromEven&&(h=!h);let p,y=!0,b=-1;do this.findNextPair(s,c,b),p=this.parseFoundFinderPattern(s,u,h),p==null?b=Be.getNextSecondBar(s,this.startEnd[0]):y=!1;while(y);let S=this.decodeDataCharacter(s,p,h,!0);if(!this.isEmptyPair(c)&&c[c.length-1].mustBeLast())throw new re;let T;try{T=this.decodeDataCharacter(s,p,h,!1)}catch(D){T=null,this.verbose&&console.log(D)}return new Qr(S,T,p,!0)}isEmptyPair(s){return s.length===0}findNextPair(s,c,u){let h=this.getDecodeFinderCounters();h[0]=0,h[1]=0,h[2]=0,h[3]=0;let p=s.getSize(),y;u>=0?y=u:this.isEmptyPair(c)?y=0:y=c[c.length-1].getFinderPattern().getStartEnd()[1];let b=c.length%2!=0;this.startFromEven&&(b=!b);let S=!1;for(;y<p&&(S=!s.get(y),!!S);)y++;let T=0,D=y;for(let $=y;$<p;$++)if(s.get($)!=S)h[T]++;else{if(T==3){if(b&&Be.reverseCounters(h),Be.isFinderPattern(h)){this.startEnd[0]=D,this.startEnd[1]=$;return}b&&Be.reverseCounters(h),D+=h[0]+h[1],h[0]=h[2],h[1]=h[3],h[2]=0,h[3]=0,T--}else T++;h[T]=1,S=!S}throw new re}static reverseCounters(s){let c=s.length;for(let u=0;u<c/2;++u){let h=s[u];s[u]=s[c-u-1],s[c-u-1]=h}}parseFoundFinderPattern(s,c,u){let h,p,y;if(u){let T=this.startEnd[0]-1;for(;T>=0&&!s.get(T);)T--;T++,h=this.startEnd[0]-T,p=T,y=this.startEnd[1]}else p=this.startEnd[0],y=s.getNextUnset(this.startEnd[1]+1),h=y-this.startEnd[1];let b=this.getDecodeFinderCounters();k.arraycopy(b,0,b,1,b.length-1),b[0]=h;let S;try{S=this.parseFinderValue(b,Be.FINDER_PATTERNS)}catch{return null}return new ks(S,[p,y],p,y,c)}decodeDataCharacter(s,c,u,h){let p=this.getDataCharacterCounters();for(let kn=0;kn<p.length;kn++)p[kn]=0;if(h)Be.recordPatternInReverse(s,c.getStartEnd()[0],p);else{Be.recordPattern(s,c.getStartEnd()[1],p);for(let kn=0,Zr=p.length-1;kn<Zr;kn++,Zr--){let Wi=p[kn];p[kn]=p[Zr],p[Zr]=Wi}}let y=17,b=Qe.sum(new Int32Array(p))/y,S=(c.getStartEnd()[1]-c.getStartEnd()[0])/15;if(Math.abs(b-S)/S>.3)throw new re;let T=this.getOddCounts(),D=this.getEvenCounts(),$=this.getOddRoundingErrors(),X=this.getEvenRoundingErrors();for(let kn=0;kn<p.length;kn++){let Zr=1*p[kn]/b,Wi=Zr+.5;if(Wi<1){if(Zr<.3)throw new re;Wi=1}else if(Wi>8){if(Zr>8.7)throw new re;Wi=8}let ul=kn/2;(kn&1)==0?(T[ul]=Wi,$[ul]=Zr-Wi):(D[ul]=Wi,X[ul]=Zr-Wi)}this.adjustOddEvenCounts(y);let oe=4*c.getValue()+(u?0:2)+(h?0:1)-1,ce=0,fe=0;for(let kn=T.length-1;kn>=0;kn--){if(Be.isNotA1left(c,u,h)){let Zr=Be.WEIGHTS[oe][2*kn];fe+=T[kn]*Zr}ce+=T[kn]}let xe=0;for(let kn=D.length-1;kn>=0;kn--)if(Be.isNotA1left(c,u,h)){let Zr=Be.WEIGHTS[oe][2*kn+1];xe+=D[kn]*Zr}let Ae=fe+xe;if((ce&1)!=0||ce>13||ce<4)throw new re;let $e=(13-ce)/2,He=Be.SYMBOL_WIDEST[$e],Fe=9-He,Qt=Ji.getRSSvalue(T,He,!0),zt=Ji.getRSSvalue(D,Fe,!1),Cr=Be.EVEN_TOTAL_SUBSET[$e],is=Be.GSUM[$e],xi=Qt*Cr+zt+is;return new ui(xi,Ae)}static isNotA1left(s,c,u){return!(s.getValue()==0&&c&&u)}adjustOddEvenCounts(s){let c=Qe.sum(new Int32Array(this.getOddCounts())),u=Qe.sum(new Int32Array(this.getEvenCounts())),h=!1,p=!1;c>13?p=!0:c<4&&(h=!0);let y=!1,b=!1;u>13?b=!0:u<4&&(y=!0);let S=c+u-s,T=(c&1)==1,D=(u&1)==0;if(S==1)if(T){if(D)throw new re;p=!0}else{if(!D)throw new re;b=!0}else if(S==-1)if(T){if(D)throw new re;h=!0}else{if(!D)throw new re;y=!0}else if(S==0){if(T){if(!D)throw new re;c<u?(h=!0,b=!0):(p=!0,y=!0)}else if(D)throw new re}else throw new re;if(h){if(p)throw new re;Be.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(p&&Be.decrement(this.getOddCounts(),this.getOddRoundingErrors()),y){if(b)throw new re;Be.increment(this.getEvenCounts(),this.getOddRoundingErrors())}b&&Be.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Be.SYMBOL_WIDEST=[7,5,4,3,1],Be.EVEN_TOTAL_SUBSET=[4,20,52,104,204],Be.GSUM=[0,348,1388,2948,3988],Be.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],Be.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],Be.FINDER_PAT_A=0,Be.FINDER_PAT_B=1,Be.FINDER_PAT_C=2,Be.FINDER_PAT_D=3,Be.FINDER_PAT_E=4,Be.FINDER_PAT_F=5,Be.FINDER_PATTERN_SEQUENCES=[[Be.FINDER_PAT_A,Be.FINDER_PAT_A],[Be.FINDER_PAT_A,Be.FINDER_PAT_B,Be.FINDER_PAT_B],[Be.FINDER_PAT_A,Be.FINDER_PAT_C,Be.FINDER_PAT_B,Be.FINDER_PAT_D],[Be.FINDER_PAT_A,Be.FINDER_PAT_E,Be.FINDER_PAT_B,Be.FINDER_PAT_D,Be.FINDER_PAT_C],[Be.FINDER_PAT_A,Be.FINDER_PAT_E,Be.FINDER_PAT_B,Be.FINDER_PAT_D,Be.FINDER_PAT_D,Be.FINDER_PAT_F],[Be.FINDER_PAT_A,Be.FINDER_PAT_E,Be.FINDER_PAT_B,Be.FINDER_PAT_D,Be.FINDER_PAT_E,Be.FINDER_PAT_F,Be.FINDER_PAT_F],[Be.FINDER_PAT_A,Be.FINDER_PAT_A,Be.FINDER_PAT_B,Be.FINDER_PAT_B,Be.FINDER_PAT_C,Be.FINDER_PAT_C,Be.FINDER_PAT_D,Be.FINDER_PAT_D],[Be.FINDER_PAT_A,Be.FINDER_PAT_A,Be.FINDER_PAT_B,Be.FINDER_PAT_B,Be.FINDER_PAT_C,Be.FINDER_PAT_C,Be.FINDER_PAT_D,Be.FINDER_PAT_E,Be.FINDER_PAT_E],[Be.FINDER_PAT_A,Be.FINDER_PAT_A,Be.FINDER_PAT_B,Be.FINDER_PAT_B,Be.FINDER_PAT_C,Be.FINDER_PAT_C,Be.FINDER_PAT_D,Be.FINDER_PAT_E,Be.FINDER_PAT_F,Be.FINDER_PAT_F],[Be.FINDER_PAT_A,Be.FINDER_PAT_A,Be.FINDER_PAT_B,Be.FINDER_PAT_B,Be.FINDER_PAT_C,Be.FINDER_PAT_D,Be.FINDER_PAT_D,Be.FINDER_PAT_E,Be.FINDER_PAT_E,Be.FINDER_PAT_F,Be.FINDER_PAT_F]],Be.MAX_PAIRS=11;class lc extends ui{constructor(s,c,u){super(s,c),this.count=0,this.finderPattern=u}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class _n extends Pr{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(s,c,u){const h=this.decodePair(c,!1,s,u);_n.addOrTally(this.possibleLeftPairs,h),c.reverse();let p=this.decodePair(c,!0,s,u);_n.addOrTally(this.possibleRightPairs,p),c.reverse();for(let y of this.possibleLeftPairs)if(y.getCount()>1){for(let b of this.possibleRightPairs)if(b.getCount()>1&&_n.checkChecksum(y,b))return _n.constructResult(y,b)}throw new re}static addOrTally(s,c){if(c==null)return;let u=!1;for(let h of s)if(h.getValue()===c.getValue()){h.incrementCount(),u=!0;break}u||s.push(c)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(s,c){let u=4537077*s.getValue()+c.getValue(),h=new String(u).toString(),p=new q;for(let T=13-h.length;T>0;T--)p.append("0");p.append(h);let y=0;for(let T=0;T<13;T++){let D=p.charAt(T).charCodeAt(0)-48;y+=(T&1)===0?3*D:D}y=10-y%10,y===10&&(y=0),p.append(y.toString());let b=s.getFinderPattern().getResultPoints(),S=c.getFinderPattern().getResultPoints();return new Re(p.toString(),null,0,[b[0],b[1],S[0],S[1]],we.RSS_14,new Date().getTime())}static checkChecksum(s,c){let u=(s.getChecksumPortion()+16*c.getChecksumPortion())%79,h=9*s.getFinderPattern().getValue()+c.getFinderPattern().getValue();return h>72&&h--,h>8&&h--,u===h}decodePair(s,c,u,h){try{let p=this.findFinderPattern(s,c),y=this.parseFoundFinderPattern(s,u,c,p),b=h==null?null:h.get(se.NEED_RESULT_POINT_CALLBACK);if(b!=null){let D=(p[0]+p[1])/2;c&&(D=s.getSize()-1-D),b.foundPossibleResultPoint(new je(D,u))}let S=this.decodeDataCharacter(s,y,!0),T=this.decodeDataCharacter(s,y,!1);return new lc(1597*S.getValue()+T.getValue(),S.getChecksumPortion()+4*T.getChecksumPortion(),y)}catch{return null}}decodeDataCharacter(s,c,u){let h=this.getDataCharacterCounters();for(let xe=0;xe<h.length;xe++)h[xe]=0;if(u)wt.recordPatternInReverse(s,c.getStartEnd()[0],h);else{wt.recordPattern(s,c.getStartEnd()[1]+1,h);for(let xe=0,Ae=h.length-1;xe<Ae;xe++,Ae--){let $e=h[xe];h[xe]=h[Ae],h[Ae]=$e}}let p=u?16:15,y=Qe.sum(new Int32Array(h))/p,b=this.getOddCounts(),S=this.getEvenCounts(),T=this.getOddRoundingErrors(),D=this.getEvenRoundingErrors();for(let xe=0;xe<h.length;xe++){let Ae=h[xe]/y,$e=Math.floor(Ae+.5);$e<1?$e=1:$e>8&&($e=8);let He=Math.floor(xe/2);(xe&1)===0?(b[He]=$e,T[He]=Ae-$e):(S[He]=$e,D[He]=Ae-$e)}this.adjustOddEvenCounts(u,p);let $=0,X=0;for(let xe=b.length-1;xe>=0;xe--)X*=9,X+=b[xe],$+=b[xe];let oe=0,ce=0;for(let xe=S.length-1;xe>=0;xe--)oe*=9,oe+=S[xe],ce+=S[xe];let fe=X+3*oe;if(u){if(($&1)!==0||$>12||$<4)throw new re;let xe=(12-$)/2,Ae=_n.OUTSIDE_ODD_WIDEST[xe],$e=9-Ae,He=Ji.getRSSvalue(b,Ae,!1),Fe=Ji.getRSSvalue(S,$e,!0),Qt=_n.OUTSIDE_EVEN_TOTAL_SUBSET[xe],zt=_n.OUTSIDE_GSUM[xe];return new ui(He*Qt+Fe+zt,fe)}else{if((ce&1)!==0||ce>10||ce<4)throw new re;let xe=(10-ce)/2,Ae=_n.INSIDE_ODD_WIDEST[xe],$e=9-Ae,He=Ji.getRSSvalue(b,Ae,!0),Fe=Ji.getRSSvalue(S,$e,!1),Qt=_n.INSIDE_ODD_TOTAL_SUBSET[xe],zt=_n.INSIDE_GSUM[xe];return new ui(Fe*Qt+He+zt,fe)}}findFinderPattern(s,c){let u=this.getDecodeFinderCounters();u[0]=0,u[1]=0,u[2]=0,u[3]=0;let h=s.getSize(),p=!1,y=0;for(;y<h&&(p=!s.get(y),c!==p);)y++;let b=0,S=y;for(let T=y;T<h;T++)if(s.get(T)!==p)u[b]++;else{if(b===3){if(Pr.isFinderPattern(u))return[S,T];S+=u[0]+u[1],u[0]=u[2],u[1]=u[3],u[2]=0,u[3]=0,b--}else b++;u[b]=1,p=!p}throw new re}parseFoundFinderPattern(s,c,u,h){let p=s.get(h[0]),y=h[0]-1;for(;y>=0&&p!==s.get(y);)y--;y++;const b=h[0]-y,S=this.getDecodeFinderCounters(),T=new Int32Array(S.length);k.arraycopy(S,0,T,1,S.length-1),T[0]=b;const D=this.parseFinderValue(T,_n.FINDER_PATTERNS);let $=y,X=h[1];return u&&($=s.getSize()-1-$,X=s.getSize()-1-X),new ks(D,[y,h[1]],$,X,c)}adjustOddEvenCounts(s,c){let u=Qe.sum(new Int32Array(this.getOddCounts())),h=Qe.sum(new Int32Array(this.getEvenCounts())),p=!1,y=!1,b=!1,S=!1;s?(u>12?y=!0:u<4&&(p=!0),h>12?S=!0:h<4&&(b=!0)):(u>11?y=!0:u<5&&(p=!0),h>10?S=!0:h<4&&(b=!0));let T=u+h-c,D=(u&1)===(s?1:0),$=(h&1)===1;if(T===1)if(D){if($)throw new re;y=!0}else{if(!$)throw new re;S=!0}else if(T===-1)if(D){if($)throw new re;p=!0}else{if(!$)throw new re;b=!0}else if(T===0){if(D){if(!$)throw new re;u<h?(p=!0,S=!0):(y=!0,b=!0)}else if($)throw new re}else throw new re;if(p){if(y)throw new re;Pr.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(y&&Pr.decrement(this.getOddCounts(),this.getOddRoundingErrors()),b){if(S)throw new re;Pr.increment(this.getEvenCounts(),this.getOddRoundingErrors())}S&&Pr.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}_n.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],_n.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],_n.OUTSIDE_GSUM=[0,161,961,2015,2715],_n.INSIDE_GSUM=[0,336,1036,1516],_n.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],_n.INSIDE_ODD_WIDEST=[2,4,6,8],_n.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class gi extends wt{constructor(s,c){super(),this.readers=[],this.verbose=c===!0;const u=s?s.get(se.POSSIBLE_FORMATS):null,h=s&&s.get(se.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;u?((u.includes(we.EAN_13)||u.includes(we.UPC_A)||u.includes(we.EAN_8)||u.includes(we.UPC_E))&&this.readers.push(new ci(s)),u.includes(we.CODE_39)&&this.readers.push(new Xe(h)),u.includes(we.CODE_128)&&this.readers.push(new ke),u.includes(we.ITF)&&this.readers.push(new Je),u.includes(we.RSS_14)&&this.readers.push(new _n),u.includes(we.RSS_EXPANDED)&&this.readers.push(new Be(this.verbose))):(this.readers.push(new ci(s)),this.readers.push(new Xe),this.readers.push(new ci(s)),this.readers.push(new ke),this.readers.push(new Je),this.readers.push(new _n),this.readers.push(new Be(this.verbose)))}decodeRow(s,c,u){for(let h=0;h<this.readers.length;h++)try{return this.readers[h].decodeRow(s,c,u)}catch{}throw new re}reset(){this.readers.forEach(s=>s.reset())}}class cc extends me{constructor(s=500,c){super(new gi(c),s,c)}}class hn{constructor(s,c,u){this.ecCodewords=s,this.ecBlocks=[c],u&&this.ecBlocks.push(u)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class nn{constructor(s,c){this.count=s,this.dataCodewords=c}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Kt{constructor(s,c,u,h,p,y){this.versionNumber=s,this.symbolSizeRows=c,this.symbolSizeColumns=u,this.dataRegionSizeRows=h,this.dataRegionSizeColumns=p,this.ecBlocks=y;let b=0;const S=y.getECCodewords(),T=y.getECBlocks();for(let D of T)b+=D.getCount()*(D.getDataCodewords()+S);this.totalCodewords=b}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(s,c){if((s&1)!==0||(c&1)!==0)throw new z;for(let u of Kt.VERSIONS)if(u.symbolSizeRows===s&&u.symbolSizeColumns===c)return u;throw new z}toString(){return""+this.versionNumber}static buildVersions(){return[new Kt(1,10,10,8,8,new hn(5,new nn(1,3))),new Kt(2,12,12,10,10,new hn(7,new nn(1,5))),new Kt(3,14,14,12,12,new hn(10,new nn(1,8))),new Kt(4,16,16,14,14,new hn(12,new nn(1,12))),new Kt(5,18,18,16,16,new hn(14,new nn(1,18))),new Kt(6,20,20,18,18,new hn(18,new nn(1,22))),new Kt(7,22,22,20,20,new hn(20,new nn(1,30))),new Kt(8,24,24,22,22,new hn(24,new nn(1,36))),new Kt(9,26,26,24,24,new hn(28,new nn(1,44))),new Kt(10,32,32,14,14,new hn(36,new nn(1,62))),new Kt(11,36,36,16,16,new hn(42,new nn(1,86))),new Kt(12,40,40,18,18,new hn(48,new nn(1,114))),new Kt(13,44,44,20,20,new hn(56,new nn(1,144))),new Kt(14,48,48,22,22,new hn(68,new nn(1,174))),new Kt(15,52,52,24,24,new hn(42,new nn(2,102))),new Kt(16,64,64,14,14,new hn(56,new nn(2,140))),new Kt(17,72,72,16,16,new hn(36,new nn(4,92))),new Kt(18,80,80,18,18,new hn(48,new nn(4,114))),new Kt(19,88,88,20,20,new hn(56,new nn(4,144))),new Kt(20,96,96,22,22,new hn(68,new nn(4,174))),new Kt(21,104,104,24,24,new hn(56,new nn(6,136))),new Kt(22,120,120,18,18,new hn(68,new nn(6,175))),new Kt(23,132,132,20,20,new hn(62,new nn(8,163))),new Kt(24,144,144,22,22,new hn(62,new nn(8,156),new nn(2,155))),new Kt(25,8,18,6,16,new hn(7,new nn(1,5))),new Kt(26,8,32,6,14,new hn(11,new nn(1,10))),new Kt(27,12,26,10,24,new hn(14,new nn(1,16))),new Kt(28,12,36,10,16,new hn(18,new nn(1,22))),new Kt(29,16,36,14,16,new hn(24,new nn(1,32))),new Kt(30,16,48,14,22,new hn(28,new nn(1,49)))]}}Kt.VERSIONS=Kt.buildVersions();class _o{constructor(s){const c=s.getHeight();if(c<8||c>144||(c&1)!==0)throw new z;this.version=_o.readVersion(s),this.mappingBitMatrix=this.extractDataRegion(s),this.readMappingMatrix=new ue(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(s){const c=s.getHeight(),u=s.getWidth();return Kt.getVersionForDimensions(c,u)}readCodewords(){const s=new Int8Array(this.version.getTotalCodewords());let c=0,u=4,h=0;const p=this.mappingBitMatrix.getHeight(),y=this.mappingBitMatrix.getWidth();let b=!1,S=!1,T=!1,D=!1;do if(u===p&&h===0&&!b)s[c++]=this.readCorner1(p,y)&255,u-=2,h+=2,b=!0;else if(u===p-2&&h===0&&(y&3)!==0&&!S)s[c++]=this.readCorner2(p,y)&255,u-=2,h+=2,S=!0;else if(u===p+4&&h===2&&(y&7)===0&&!T)s[c++]=this.readCorner3(p,y)&255,u-=2,h+=2,T=!0;else if(u===p-2&&h===0&&(y&7)===4&&!D)s[c++]=this.readCorner4(p,y)&255,u-=2,h+=2,D=!0;else{do u<p&&h>=0&&!this.readMappingMatrix.get(h,u)&&(s[c++]=this.readUtah(u,h,p,y)&255),u-=2,h+=2;while(u>=0&&h<y);u+=1,h+=3;do u>=0&&h<y&&!this.readMappingMatrix.get(h,u)&&(s[c++]=this.readUtah(u,h,p,y)&255),u+=2,h-=2;while(u<p&&h>=0);u+=3,h+=1}while(u<p||h<y);if(c!==this.version.getTotalCodewords())throw new z;return s}readModule(s,c,u,h){return s<0&&(s+=u,c+=4-(u+4&7)),c<0&&(c+=h,s+=4-(h+4&7)),this.readMappingMatrix.set(c,s),this.mappingBitMatrix.get(c,s)}readUtah(s,c,u,h){let p=0;return this.readModule(s-2,c-2,u,h)&&(p|=1),p<<=1,this.readModule(s-2,c-1,u,h)&&(p|=1),p<<=1,this.readModule(s-1,c-2,u,h)&&(p|=1),p<<=1,this.readModule(s-1,c-1,u,h)&&(p|=1),p<<=1,this.readModule(s-1,c,u,h)&&(p|=1),p<<=1,this.readModule(s,c-2,u,h)&&(p|=1),p<<=1,this.readModule(s,c-1,u,h)&&(p|=1),p<<=1,this.readModule(s,c,u,h)&&(p|=1),p}readCorner1(s,c){let u=0;return this.readModule(s-1,0,s,c)&&(u|=1),u<<=1,this.readModule(s-1,1,s,c)&&(u|=1),u<<=1,this.readModule(s-1,2,s,c)&&(u|=1),u<<=1,this.readModule(0,c-2,s,c)&&(u|=1),u<<=1,this.readModule(0,c-1,s,c)&&(u|=1),u<<=1,this.readModule(1,c-1,s,c)&&(u|=1),u<<=1,this.readModule(2,c-1,s,c)&&(u|=1),u<<=1,this.readModule(3,c-1,s,c)&&(u|=1),u}readCorner2(s,c){let u=0;return this.readModule(s-3,0,s,c)&&(u|=1),u<<=1,this.readModule(s-2,0,s,c)&&(u|=1),u<<=1,this.readModule(s-1,0,s,c)&&(u|=1),u<<=1,this.readModule(0,c-4,s,c)&&(u|=1),u<<=1,this.readModule(0,c-3,s,c)&&(u|=1),u<<=1,this.readModule(0,c-2,s,c)&&(u|=1),u<<=1,this.readModule(0,c-1,s,c)&&(u|=1),u<<=1,this.readModule(1,c-1,s,c)&&(u|=1),u}readCorner3(s,c){let u=0;return this.readModule(s-1,0,s,c)&&(u|=1),u<<=1,this.readModule(s-1,c-1,s,c)&&(u|=1),u<<=1,this.readModule(0,c-3,s,c)&&(u|=1),u<<=1,this.readModule(0,c-2,s,c)&&(u|=1),u<<=1,this.readModule(0,c-1,s,c)&&(u|=1),u<<=1,this.readModule(1,c-3,s,c)&&(u|=1),u<<=1,this.readModule(1,c-2,s,c)&&(u|=1),u<<=1,this.readModule(1,c-1,s,c)&&(u|=1),u}readCorner4(s,c){let u=0;return this.readModule(s-3,0,s,c)&&(u|=1),u<<=1,this.readModule(s-2,0,s,c)&&(u|=1),u<<=1,this.readModule(s-1,0,s,c)&&(u|=1),u<<=1,this.readModule(0,c-2,s,c)&&(u|=1),u<<=1,this.readModule(0,c-1,s,c)&&(u|=1),u<<=1,this.readModule(1,c-1,s,c)&&(u|=1),u<<=1,this.readModule(2,c-1,s,c)&&(u|=1),u<<=1,this.readModule(3,c-1,s,c)&&(u|=1),u}extractDataRegion(s){const c=this.version.getSymbolSizeRows(),u=this.version.getSymbolSizeColumns();if(s.getHeight()!==c)throw new A("Dimension of bitMatrix must match the version size");const h=this.version.getDataRegionSizeRows(),p=this.version.getDataRegionSizeColumns(),y=c/h|0,b=u/p|0,S=y*h,T=b*p,D=new ue(T,S);for(let $=0;$<y;++$){const X=$*h;for(let oe=0;oe<b;++oe){const ce=oe*p;for(let fe=0;fe<h;++fe){const xe=$*(h+2)+1+fe,Ae=X+fe;for(let $e=0;$e<p;++$e){const He=oe*(p+2)+1+$e;if(s.get(He,xe)){const Fe=ce+$e;D.set(Fe,Ae)}}}}}return D}}class mi{constructor(s,c){this.numDataCodewords=s,this.codewords=c}static getDataBlocks(s,c){const u=c.getECBlocks();let h=0;const p=u.getECBlocks();for(let fe of p)h+=fe.getCount();const y=new Array(h);let b=0;for(let fe of p)for(let xe=0;xe<fe.getCount();xe++){const Ae=fe.getDataCodewords(),$e=u.getECCodewords()+Ae;y[b++]=new mi(Ae,new Uint8Array($e))}const T=y[0].codewords.length-u.getECCodewords(),D=T-1;let $=0;for(let fe=0;fe<D;fe++)for(let xe=0;xe<b;xe++)y[xe].codewords[fe]=s[$++];const X=c.getVersionNumber()===24,oe=X?8:b;for(let fe=0;fe<oe;fe++)y[fe].codewords[T-1]=s[$++];const ce=y[0].codewords.length;for(let fe=T;fe<ce;fe++)for(let xe=0;xe<b;xe++){const Ae=X?(xe+8)%b:xe,$e=X&&Ae>7?fe-1:fe;y[Ae].codewords[$e]=s[$++]}if($!==s.length)throw new A;return y}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class fr{constructor(s){this.bytes=s,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(s){if(s<1||s>32||s>this.available())throw new A(""+s);let c=0,u=this.bitOffset,h=this.byteOffset;const p=this.bytes;if(u>0){const y=8-u,b=s<y?s:y,S=y-b,T=255>>8-b<<S;c=(p[h]&T)>>S,s-=b,u+=b,u===8&&(u=0,h++)}if(s>0){for(;s>=8;)c=c<<8|p[h]&255,h++,s-=8;if(s>0){const y=8-s,b=255>>y<<y;c=c<<s|(p[h]&b)>>y,u+=s}}return this.bitOffset=u,this.byteOffset=h,c}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Jt;(function(G){G[G.PAD_ENCODE=0]="PAD_ENCODE",G[G.ASCII_ENCODE=1]="ASCII_ENCODE",G[G.C40_ENCODE=2]="C40_ENCODE",G[G.TEXT_ENCODE=3]="TEXT_ENCODE",G[G.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",G[G.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",G[G.BASE256_ENCODE=6]="BASE256_ENCODE"})(Jt||(Jt={}));class yi{static decode(s){const c=new fr(s),u=new q,h=new q,p=new Array;let y=Jt.ASCII_ENCODE;do if(y===Jt.ASCII_ENCODE)y=this.decodeAsciiSegment(c,u,h);else{switch(y){case Jt.C40_ENCODE:this.decodeC40Segment(c,u);break;case Jt.TEXT_ENCODE:this.decodeTextSegment(c,u);break;case Jt.ANSIX12_ENCODE:this.decodeAnsiX12Segment(c,u);break;case Jt.EDIFACT_ENCODE:this.decodeEdifactSegment(c,u);break;case Jt.BASE256_ENCODE:this.decodeBase256Segment(c,u,p);break;default:throw new z}y=Jt.ASCII_ENCODE}while(y!==Jt.PAD_ENCODE&&c.available()>0);return h.length()>0&&u.append(h.toString()),new nt(s,u.toString(),p.length===0?null:p,null)}static decodeAsciiSegment(s,c,u){let h=!1;do{let p=s.readBits(8);if(p===0)throw new z;if(p<=128)return h&&(p+=128),c.append(String.fromCharCode(p-1)),Jt.ASCII_ENCODE;if(p===129)return Jt.PAD_ENCODE;if(p<=229){const y=p-130;y<10&&c.append("0"),c.append(""+y)}else switch(p){case 230:return Jt.C40_ENCODE;case 231:return Jt.BASE256_ENCODE;case 232:c.append("");break;case 233:case 234:break;case 235:h=!0;break;case 236:c.append("[)>05"),u.insert(0,"");break;case 237:c.append("[)>06"),u.insert(0,"");break;case 238:return Jt.ANSIX12_ENCODE;case 239:return Jt.TEXT_ENCODE;case 240:return Jt.EDIFACT_ENCODE;case 241:break;default:if(p!==254||s.available()!==0)throw new z;break}}while(s.available()>0);return Jt.ASCII_ENCODE}static decodeC40Segment(s,c){let u=!1;const h=[];let p=0;do{if(s.available()===8)return;const y=s.readBits(8);if(y===254)return;this.parseTwoBytes(y,s.readBits(8),h);for(let b=0;b<3;b++){const S=h[b];switch(p){case 0:if(S<3)p=S+1;else if(S<this.C40_BASIC_SET_CHARS.length){const T=this.C40_BASIC_SET_CHARS[S];u?(c.append(String.fromCharCode(T.charCodeAt(0)+128)),u=!1):c.append(T)}else throw new z;break;case 1:u?(c.append(String.fromCharCode(S+128)),u=!1):c.append(String.fromCharCode(S)),p=0;break;case 2:if(S<this.C40_SHIFT2_SET_CHARS.length){const T=this.C40_SHIFT2_SET_CHARS[S];u?(c.append(String.fromCharCode(T.charCodeAt(0)+128)),u=!1):c.append(T)}else switch(S){case 27:c.append("");break;case 30:u=!0;break;default:throw new z}p=0;break;case 3:u?(c.append(String.fromCharCode(S+224)),u=!1):c.append(String.fromCharCode(S+96)),p=0;break;default:throw new z}}}while(s.available()>0)}static decodeTextSegment(s,c){let u=!1,h=[],p=0;do{if(s.available()===8)return;const y=s.readBits(8);if(y===254)return;this.parseTwoBytes(y,s.readBits(8),h);for(let b=0;b<3;b++){const S=h[b];switch(p){case 0:if(S<3)p=S+1;else if(S<this.TEXT_BASIC_SET_CHARS.length){const T=this.TEXT_BASIC_SET_CHARS[S];u?(c.append(String.fromCharCode(T.charCodeAt(0)+128)),u=!1):c.append(T)}else throw new z;break;case 1:u?(c.append(String.fromCharCode(S+128)),u=!1):c.append(String.fromCharCode(S)),p=0;break;case 2:if(S<this.TEXT_SHIFT2_SET_CHARS.length){const T=this.TEXT_SHIFT2_SET_CHARS[S];u?(c.append(String.fromCharCode(T.charCodeAt(0)+128)),u=!1):c.append(T)}else switch(S){case 27:c.append("");break;case 30:u=!0;break;default:throw new z}p=0;break;case 3:if(S<this.TEXT_SHIFT3_SET_CHARS.length){const T=this.TEXT_SHIFT3_SET_CHARS[S];u?(c.append(String.fromCharCode(T.charCodeAt(0)+128)),u=!1):c.append(T),p=0}else throw new z;break;default:throw new z}}}while(s.available()>0)}static decodeAnsiX12Segment(s,c){const u=[];do{if(s.available()===8)return;const h=s.readBits(8);if(h===254)return;this.parseTwoBytes(h,s.readBits(8),u);for(let p=0;p<3;p++){const y=u[p];switch(y){case 0:c.append("\r");break;case 1:c.append("*");break;case 2:c.append(">");break;case 3:c.append(" ");break;default:if(y<14)c.append(String.fromCharCode(y+44));else if(y<40)c.append(String.fromCharCode(y+51));else throw new z;break}}}while(s.available()>0)}static parseTwoBytes(s,c,u){let h=(s<<8)+c-1,p=Math.floor(h/1600);u[0]=p,h-=p*1600,p=Math.floor(h/40),u[1]=p,u[2]=h-p*40}static decodeEdifactSegment(s,c){do{if(s.available()<=16)return;for(let u=0;u<4;u++){let h=s.readBits(6);if(h===31){const p=8-s.getBitOffset();p!==8&&s.readBits(p);return}(h&32)===0&&(h|=64),c.append(String.fromCharCode(h))}}while(s.available()>0)}static decodeBase256Segment(s,c,u){let h=1+s.getByteOffset();const p=this.unrandomize255State(s.readBits(8),h++);let y;if(p===0?y=s.available()/8|0:p<250?y=p:y=250*(p-249)+this.unrandomize255State(s.readBits(8),h++),y<0)throw new z;const b=new Uint8Array(y);for(let S=0;S<y;S++){if(s.available()<8)throw new z;b[S]=this.unrandomize255State(s.readBits(8),h++)}u.push(b);try{c.append(Y.decode(b,O.ISO88591))}catch(S){throw new Mt("Platform does not support required encoding: "+S.message)}}static unrandomize255State(s,c){const u=149*c%255+1,h=s-u;return h>=0?h:h+256}}yi.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],yi.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],yi.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],yi.TEXT_SHIFT2_SET_CHARS=yi.C40_SHIFT2_SET_CHARS,yi.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class uc{constructor(){this.rsDecoder=new wn(rt.DATA_MATRIX_FIELD_256)}decode(s){const c=new _o(s),u=c.getVersion(),h=c.readCodewords(),p=mi.getDataBlocks(h,u);let y=0;for(let T of p)y+=T.getNumDataCodewords();const b=new Uint8Array(y),S=p.length;for(let T=0;T<S;T++){const D=p[T],$=D.getCodewords(),X=D.getNumDataCodewords();this.correctErrors($,X);for(let oe=0;oe<X;oe++)b[oe*S+T]=$[oe]}return yi.decode(b)}correctErrors(s,c){const u=new Int32Array(s);try{this.rsDecoder.decode(u,s.length-c)}catch{throw new N}for(let h=0;h<c;h++)s[h]=u[h]}}class Rt{constructor(s){this.image=s,this.rectangleDetector=new It(this.image)}detect(){const s=this.rectangleDetector.detect();let c=this.detectSolid1(s);if(c=this.detectSolid2(c),c[3]=this.correctTopRight(c),!c[3])throw new re;c=this.shiftToModuleCenter(c);const u=c[0],h=c[1],p=c[2],y=c[3];let b=this.transitionsBetween(u,y)+1,S=this.transitionsBetween(p,y)+1;(b&1)===1&&(b+=1),(S&1)===1&&(S+=1),4*b<7*S&&4*S<7*b&&(b=S=Math.max(b,S));let T=Rt.sampleGrid(this.image,u,h,p,y,b,S);return new lt(T,[u,h,p,y])}static shiftPoint(s,c,u){let h=(c.getX()-s.getX())/(u+1),p=(c.getY()-s.getY())/(u+1);return new je(s.getX()+h,s.getY()+p)}static moveAway(s,c,u){let h=s.getX(),p=s.getY();return h<c?h-=1:h+=1,p<u?p-=1:p+=1,new je(h,p)}detectSolid1(s){let c=s[0],u=s[1],h=s[3],p=s[2],y=this.transitionsBetween(c,u),b=this.transitionsBetween(u,h),S=this.transitionsBetween(h,p),T=this.transitionsBetween(p,c),D=y,$=[p,c,u,h];return D>b&&(D=b,$[0]=c,$[1]=u,$[2]=h,$[3]=p),D>S&&(D=S,$[0]=u,$[1]=h,$[2]=p,$[3]=c),D>T&&($[0]=h,$[1]=p,$[2]=c,$[3]=u),$}detectSolid2(s){let c=s[0],u=s[1],h=s[2],p=s[3],y=this.transitionsBetween(c,p),b=Rt.shiftPoint(u,h,(y+1)*4),S=Rt.shiftPoint(h,u,(y+1)*4),T=this.transitionsBetween(b,c),D=this.transitionsBetween(S,p);return T<D?(s[0]=c,s[1]=u,s[2]=h,s[3]=p):(s[0]=u,s[1]=h,s[2]=p,s[3]=c),s}correctTopRight(s){let c=s[0],u=s[1],h=s[2],p=s[3],y=this.transitionsBetween(c,p),b=this.transitionsBetween(u,p),S=Rt.shiftPoint(c,u,(b+1)*4),T=Rt.shiftPoint(h,u,(y+1)*4);y=this.transitionsBetween(S,p),b=this.transitionsBetween(T,p);let D=new je(p.getX()+(h.getX()-u.getX())/(y+1),p.getY()+(h.getY()-u.getY())/(y+1)),$=new je(p.getX()+(c.getX()-u.getX())/(b+1),p.getY()+(c.getY()-u.getY())/(b+1));if(!this.isValid(D))return this.isValid($)?$:null;if(!this.isValid($))return D;let X=this.transitionsBetween(S,D)+this.transitionsBetween(T,D),oe=this.transitionsBetween(S,$)+this.transitionsBetween(T,$);return X>oe?D:$}shiftToModuleCenter(s){let c=s[0],u=s[1],h=s[2],p=s[3],y=this.transitionsBetween(c,p)+1,b=this.transitionsBetween(h,p)+1,S=Rt.shiftPoint(c,u,b*4),T=Rt.shiftPoint(h,u,y*4);y=this.transitionsBetween(S,p)+1,b=this.transitionsBetween(T,p)+1,(y&1)===1&&(y+=1),(b&1)===1&&(b+=1);let D=(c.getX()+u.getX()+h.getX()+p.getX())/4,$=(c.getY()+u.getY()+h.getY()+p.getY())/4;c=Rt.moveAway(c,D,$),u=Rt.moveAway(u,D,$),h=Rt.moveAway(h,D,$),p=Rt.moveAway(p,D,$);let X,oe;return S=Rt.shiftPoint(c,u,b*4),S=Rt.shiftPoint(S,p,y*4),X=Rt.shiftPoint(u,c,b*4),X=Rt.shiftPoint(X,h,y*4),T=Rt.shiftPoint(h,p,b*4),T=Rt.shiftPoint(T,u,y*4),oe=Rt.shiftPoint(p,h,b*4),oe=Rt.shiftPoint(oe,c,y*4),[S,X,T,oe]}isValid(s){return s.getX()>=0&&s.getX()<this.image.getWidth()&&s.getY()>0&&s.getY()<this.image.getHeight()}static sampleGrid(s,c,u,h,p,y,b){return ct.getInstance().sampleGrid(s,y,b,.5,.5,y-.5,.5,y-.5,b-.5,.5,b-.5,c.getX(),c.getY(),p.getX(),p.getY(),h.getX(),h.getY(),u.getX(),u.getY())}transitionsBetween(s,c){let u=Math.trunc(s.getX()),h=Math.trunc(s.getY()),p=Math.trunc(c.getX()),y=Math.trunc(c.getY()),b=Math.abs(y-h)>Math.abs(p-u);if(b){let fe=u;u=h,h=fe,fe=p,p=y,y=fe}let S=Math.abs(p-u),T=Math.abs(y-h),D=-S/2,$=h<y?1:-1,X=u<p?1:-1,oe=0,ce=this.image.get(b?h:u,b?u:h);for(let fe=u,xe=h;fe!==p;fe+=X){let Ae=this.image.get(b?xe:fe,b?fe:xe);if(Ae!==ce&&(oe++,ce=Ae),D+=T,D>0){if(xe===y)break;xe+=$,D-=S}}return oe}}class Ii{constructor(){this.decoder=new uc}decode(s,c=null){let u,h;if(c!=null&&c.has(se.PURE_BARCODE)){const T=Ii.extractPureBits(s.getBlackMatrix());u=this.decoder.decode(T),h=Ii.NO_POINTS}else{const T=new Rt(s.getBlackMatrix()).detect();u=this.decoder.decode(T.getBits()),h=T.getPoints()}const p=u.getRawBytes(),y=new Re(u.getText(),p,8*p.length,h,we.DATA_MATRIX,k.currentTimeMillis()),b=u.getByteSegments();b!=null&&y.putMetadata(tt.BYTE_SEGMENTS,b);const S=u.getECLevel();return S!=null&&y.putMetadata(tt.ERROR_CORRECTION_LEVEL,S),y}reset(){}static extractPureBits(s){const c=s.getTopLeftOnBit(),u=s.getBottomRightOnBit();if(c==null||u==null)throw new re;const h=this.moduleSize(c,s);let p=c[1];const y=u[1];let b=c[0];const T=(u[0]-b+1)/h,D=(y-p+1)/h;if(T<=0||D<=0)throw new re;const $=h/2;p+=$,b+=$;const X=new ue(T,D);for(let oe=0;oe<D;oe++){const ce=p+oe*h;for(let fe=0;fe<T;fe++)s.get(b+fe*h,ce)&&X.set(fe,oe)}return X}static moduleSize(s,c){const u=c.getWidth();let h=s[0];const p=s[1];for(;h<u&&c.get(h,p);)h++;if(h===u)throw new re;const y=h-s[0];if(y===0)throw new re;return y}}Ii.NO_POINTS=[];class Us extends me{constructor(s=500){super(new Ii,s)}}var es;(function(G){G[G.L=0]="L",G[G.M=1]="M",G[G.Q=2]="Q",G[G.H=3]="H"})(es||(es={}));class Yt{constructor(s,c,u){this.value=s,this.stringValue=c,this.bits=u,Yt.FOR_BITS.set(u,this),Yt.FOR_VALUE.set(s,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(s){switch(s){case"L":return Yt.L;case"M":return Yt.M;case"Q":return Yt.Q;case"H":return Yt.H;default:throw new w(s+"not available")}}toString(){return this.stringValue}equals(s){if(!(s instanceof Yt))return!1;const c=s;return this.value===c.value}static forBits(s){if(s<0||s>=Yt.FOR_BITS.size)throw new A;return Yt.FOR_BITS.get(s)}}Yt.FOR_BITS=new Map,Yt.FOR_VALUE=new Map,Yt.L=new Yt(es.L,"L",1),Yt.M=new Yt(es.M,"M",0),Yt.Q=new Yt(es.Q,"Q",3),Yt.H=new Yt(es.H,"H",2);class xr{constructor(s){this.errorCorrectionLevel=Yt.forBits(s>>3&3),this.dataMask=s&7}static numBitsDiffering(s,c){return H.bitCount(s^c)}static decodeFormatInformation(s,c){const u=xr.doDecodeFormatInformation(s,c);return u!==null?u:xr.doDecodeFormatInformation(s^xr.FORMAT_INFO_MASK_QR,c^xr.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(s,c){let u=Number.MAX_SAFE_INTEGER,h=0;for(const p of xr.FORMAT_INFO_DECODE_LOOKUP){const y=p[0];if(y===s||y===c)return new xr(p[1]);let b=xr.numBitsDiffering(s,y);b<u&&(h=p[1],u=b),s!==c&&(b=xr.numBitsDiffering(c,y),b<u&&(h=p[1],u=b))}return u<=3?new xr(h):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(s){if(!(s instanceof xr))return!1;const c=s;return this.errorCorrectionLevel===c.errorCorrectionLevel&&this.dataMask===c.dataMask}}xr.FORMAT_INFO_MASK_QR=21522,xr.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class Ee{constructor(s,...c){this.ecCodewordsPerBlock=s,this.ecBlocks=c}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let s=0;const c=this.ecBlocks;for(const u of c)s+=u.getCount();return s}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class ne{constructor(s,c){this.count=s,this.dataCodewords=c}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class pt{constructor(s,c,...u){this.versionNumber=s,this.alignmentPatternCenters=c,this.ecBlocks=u;let h=0;const p=u[0].getECCodewordsPerBlock(),y=u[0].getECBlocks();for(const b of y)h+=b.getCount()*(b.getDataCodewords()+p);this.totalCodewords=h}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(s){return this.ecBlocks[s.getValue()]}static getProvisionalVersionForDimension(s){if(s%4!==1)throw new z;try{return this.getVersionForNumber((s-17)/4)}catch{throw new z}}static getVersionForNumber(s){if(s<1||s>40)throw new A;return pt.VERSIONS[s-1]}static decodeVersionInformation(s){let c=Number.MAX_SAFE_INTEGER,u=0;for(let h=0;h<pt.VERSION_DECODE_INFO.length;h++){const p=pt.VERSION_DECODE_INFO[h];if(p===s)return pt.getVersionForNumber(h+7);const y=xr.numBitsDiffering(s,p);y<c&&(u=h+7,c=y)}return c<=3?pt.getVersionForNumber(u):null}buildFunctionPattern(){const s=this.getDimensionForVersion(),c=new ue(s);c.setRegion(0,0,9,9),c.setRegion(s-8,0,8,9),c.setRegion(0,s-8,9,8);const u=this.alignmentPatternCenters.length;for(let h=0;h<u;h++){const p=this.alignmentPatternCenters[h]-2;for(let y=0;y<u;y++)h===0&&(y===0||y===u-1)||h===u-1&&y===0||c.setRegion(this.alignmentPatternCenters[y]-2,p,5,5)}return c.setRegion(6,9,1,s-17),c.setRegion(9,6,s-17,1),this.versionNumber>6&&(c.setRegion(s-11,0,3,6),c.setRegion(0,s-11,6,3)),c}toString(){return""+this.versionNumber}}pt.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),pt.VERSIONS=[new pt(1,new Int32Array(0),new Ee(7,new ne(1,19)),new Ee(10,new ne(1,16)),new Ee(13,new ne(1,13)),new Ee(17,new ne(1,9))),new pt(2,Int32Array.from([6,18]),new Ee(10,new ne(1,34)),new Ee(16,new ne(1,28)),new Ee(22,new ne(1,22)),new Ee(28,new ne(1,16))),new pt(3,Int32Array.from([6,22]),new Ee(15,new ne(1,55)),new Ee(26,new ne(1,44)),new Ee(18,new ne(2,17)),new Ee(22,new ne(2,13))),new pt(4,Int32Array.from([6,26]),new Ee(20,new ne(1,80)),new Ee(18,new ne(2,32)),new Ee(26,new ne(2,24)),new Ee(16,new ne(4,9))),new pt(5,Int32Array.from([6,30]),new Ee(26,new ne(1,108)),new Ee(24,new ne(2,43)),new Ee(18,new ne(2,15),new ne(2,16)),new Ee(22,new ne(2,11),new ne(2,12))),new pt(6,Int32Array.from([6,34]),new Ee(18,new ne(2,68)),new Ee(16,new ne(4,27)),new Ee(24,new ne(4,19)),new Ee(28,new ne(4,15))),new pt(7,Int32Array.from([6,22,38]),new Ee(20,new ne(2,78)),new Ee(18,new ne(4,31)),new Ee(18,new ne(2,14),new ne(4,15)),new Ee(26,new ne(4,13),new ne(1,14))),new pt(8,Int32Array.from([6,24,42]),new Ee(24,new ne(2,97)),new Ee(22,new ne(2,38),new ne(2,39)),new Ee(22,new ne(4,18),new ne(2,19)),new Ee(26,new ne(4,14),new ne(2,15))),new pt(9,Int32Array.from([6,26,46]),new Ee(30,new ne(2,116)),new Ee(22,new ne(3,36),new ne(2,37)),new Ee(20,new ne(4,16),new ne(4,17)),new Ee(24,new ne(4,12),new ne(4,13))),new pt(10,Int32Array.from([6,28,50]),new Ee(18,new ne(2,68),new ne(2,69)),new Ee(26,new ne(4,43),new ne(1,44)),new Ee(24,new ne(6,19),new ne(2,20)),new Ee(28,new ne(6,15),new ne(2,16))),new pt(11,Int32Array.from([6,30,54]),new Ee(20,new ne(4,81)),new Ee(30,new ne(1,50),new ne(4,51)),new Ee(28,new ne(4,22),new ne(4,23)),new Ee(24,new ne(3,12),new ne(8,13))),new pt(12,Int32Array.from([6,32,58]),new Ee(24,new ne(2,92),new ne(2,93)),new Ee(22,new ne(6,36),new ne(2,37)),new Ee(26,new ne(4,20),new ne(6,21)),new Ee(28,new ne(7,14),new ne(4,15))),new pt(13,Int32Array.from([6,34,62]),new Ee(26,new ne(4,107)),new Ee(22,new ne(8,37),new ne(1,38)),new Ee(24,new ne(8,20),new ne(4,21)),new Ee(22,new ne(12,11),new ne(4,12))),new pt(14,Int32Array.from([6,26,46,66]),new Ee(30,new ne(3,115),new ne(1,116)),new Ee(24,new ne(4,40),new ne(5,41)),new Ee(20,new ne(11,16),new ne(5,17)),new Ee(24,new ne(11,12),new ne(5,13))),new pt(15,Int32Array.from([6,26,48,70]),new Ee(22,new ne(5,87),new ne(1,88)),new Ee(24,new ne(5,41),new ne(5,42)),new Ee(30,new ne(5,24),new ne(7,25)),new Ee(24,new ne(11,12),new ne(7,13))),new pt(16,Int32Array.from([6,26,50,74]),new Ee(24,new ne(5,98),new ne(1,99)),new Ee(28,new ne(7,45),new ne(3,46)),new Ee(24,new ne(15,19),new ne(2,20)),new Ee(30,new ne(3,15),new ne(13,16))),new pt(17,Int32Array.from([6,30,54,78]),new Ee(28,new ne(1,107),new ne(5,108)),new Ee(28,new ne(10,46),new ne(1,47)),new Ee(28,new ne(1,22),new ne(15,23)),new Ee(28,new ne(2,14),new ne(17,15))),new pt(18,Int32Array.from([6,30,56,82]),new Ee(30,new ne(5,120),new ne(1,121)),new Ee(26,new ne(9,43),new ne(4,44)),new Ee(28,new ne(17,22),new ne(1,23)),new Ee(28,new ne(2,14),new ne(19,15))),new pt(19,Int32Array.from([6,30,58,86]),new Ee(28,new ne(3,113),new ne(4,114)),new Ee(26,new ne(3,44),new ne(11,45)),new Ee(26,new ne(17,21),new ne(4,22)),new Ee(26,new ne(9,13),new ne(16,14))),new pt(20,Int32Array.from([6,34,62,90]),new Ee(28,new ne(3,107),new ne(5,108)),new Ee(26,new ne(3,41),new ne(13,42)),new Ee(30,new ne(15,24),new ne(5,25)),new Ee(28,new ne(15,15),new ne(10,16))),new pt(21,Int32Array.from([6,28,50,72,94]),new Ee(28,new ne(4,116),new ne(4,117)),new Ee(26,new ne(17,42)),new Ee(28,new ne(17,22),new ne(6,23)),new Ee(30,new ne(19,16),new ne(6,17))),new pt(22,Int32Array.from([6,26,50,74,98]),new Ee(28,new ne(2,111),new ne(7,112)),new Ee(28,new ne(17,46)),new Ee(30,new ne(7,24),new ne(16,25)),new Ee(24,new ne(34,13))),new pt(23,Int32Array.from([6,30,54,78,102]),new Ee(30,new ne(4,121),new ne(5,122)),new Ee(28,new ne(4,47),new ne(14,48)),new Ee(30,new ne(11,24),new ne(14,25)),new Ee(30,new ne(16,15),new ne(14,16))),new pt(24,Int32Array.from([6,28,54,80,106]),new Ee(30,new ne(6,117),new ne(4,118)),new Ee(28,new ne(6,45),new ne(14,46)),new Ee(30,new ne(11,24),new ne(16,25)),new Ee(30,new ne(30,16),new ne(2,17))),new pt(25,Int32Array.from([6,32,58,84,110]),new Ee(26,new ne(8,106),new ne(4,107)),new Ee(28,new ne(8,47),new ne(13,48)),new Ee(30,new ne(7,24),new ne(22,25)),new Ee(30,new ne(22,15),new ne(13,16))),new pt(26,Int32Array.from([6,30,58,86,114]),new Ee(28,new ne(10,114),new ne(2,115)),new Ee(28,new ne(19,46),new ne(4,47)),new Ee(28,new ne(28,22),new ne(6,23)),new Ee(30,new ne(33,16),new ne(4,17))),new pt(27,Int32Array.from([6,34,62,90,118]),new Ee(30,new ne(8,122),new ne(4,123)),new Ee(28,new ne(22,45),new ne(3,46)),new Ee(30,new ne(8,23),new ne(26,24)),new Ee(30,new ne(12,15),new ne(28,16))),new pt(28,Int32Array.from([6,26,50,74,98,122]),new Ee(30,new ne(3,117),new ne(10,118)),new Ee(28,new ne(3,45),new ne(23,46)),new Ee(30,new ne(4,24),new ne(31,25)),new Ee(30,new ne(11,15),new ne(31,16))),new pt(29,Int32Array.from([6,30,54,78,102,126]),new Ee(30,new ne(7,116),new ne(7,117)),new Ee(28,new ne(21,45),new ne(7,46)),new Ee(30,new ne(1,23),new ne(37,24)),new Ee(30,new ne(19,15),new ne(26,16))),new pt(30,Int32Array.from([6,26,52,78,104,130]),new Ee(30,new ne(5,115),new ne(10,116)),new Ee(28,new ne(19,47),new ne(10,48)),new Ee(30,new ne(15,24),new ne(25,25)),new Ee(30,new ne(23,15),new ne(25,16))),new pt(31,Int32Array.from([6,30,56,82,108,134]),new Ee(30,new ne(13,115),new ne(3,116)),new Ee(28,new ne(2,46),new ne(29,47)),new Ee(30,new ne(42,24),new ne(1,25)),new Ee(30,new ne(23,15),new ne(28,16))),new pt(32,Int32Array.from([6,34,60,86,112,138]),new Ee(30,new ne(17,115)),new Ee(28,new ne(10,46),new ne(23,47)),new Ee(30,new ne(10,24),new ne(35,25)),new Ee(30,new ne(19,15),new ne(35,16))),new pt(33,Int32Array.from([6,30,58,86,114,142]),new Ee(30,new ne(17,115),new ne(1,116)),new Ee(28,new ne(14,46),new ne(21,47)),new Ee(30,new ne(29,24),new ne(19,25)),new Ee(30,new ne(11,15),new ne(46,16))),new pt(34,Int32Array.from([6,34,62,90,118,146]),new Ee(30,new ne(13,115),new ne(6,116)),new Ee(28,new ne(14,46),new ne(23,47)),new Ee(30,new ne(44,24),new ne(7,25)),new Ee(30,new ne(59,16),new ne(1,17))),new pt(35,Int32Array.from([6,30,54,78,102,126,150]),new Ee(30,new ne(12,121),new ne(7,122)),new Ee(28,new ne(12,47),new ne(26,48)),new Ee(30,new ne(39,24),new ne(14,25)),new Ee(30,new ne(22,15),new ne(41,16))),new pt(36,Int32Array.from([6,24,50,76,102,128,154]),new Ee(30,new ne(6,121),new ne(14,122)),new Ee(28,new ne(6,47),new ne(34,48)),new Ee(30,new ne(46,24),new ne(10,25)),new Ee(30,new ne(2,15),new ne(64,16))),new pt(37,Int32Array.from([6,28,54,80,106,132,158]),new Ee(30,new ne(17,122),new ne(4,123)),new Ee(28,new ne(29,46),new ne(14,47)),new Ee(30,new ne(49,24),new ne(10,25)),new Ee(30,new ne(24,15),new ne(46,16))),new pt(38,Int32Array.from([6,32,58,84,110,136,162]),new Ee(30,new ne(4,122),new ne(18,123)),new Ee(28,new ne(13,46),new ne(32,47)),new Ee(30,new ne(48,24),new ne(14,25)),new Ee(30,new ne(42,15),new ne(32,16))),new pt(39,Int32Array.from([6,26,54,82,110,138,166]),new Ee(30,new ne(20,117),new ne(4,118)),new Ee(28,new ne(40,47),new ne(7,48)),new Ee(30,new ne(43,24),new ne(22,25)),new Ee(30,new ne(10,15),new ne(67,16))),new pt(40,Int32Array.from([6,30,58,86,114,142,170]),new Ee(30,new ne(19,118),new ne(6,119)),new Ee(28,new ne(18,47),new ne(31,48)),new Ee(30,new ne(34,24),new ne(34,25)),new Ee(30,new ne(20,15),new ne(61,16)))];var Er;(function(G){G[G.DATA_MASK_000=0]="DATA_MASK_000",G[G.DATA_MASK_001=1]="DATA_MASK_001",G[G.DATA_MASK_010=2]="DATA_MASK_010",G[G.DATA_MASK_011=3]="DATA_MASK_011",G[G.DATA_MASK_100=4]="DATA_MASK_100",G[G.DATA_MASK_101=5]="DATA_MASK_101",G[G.DATA_MASK_110=6]="DATA_MASK_110",G[G.DATA_MASK_111=7]="DATA_MASK_111"})(Er||(Er={}));class kr{constructor(s,c){this.value=s,this.isMasked=c}unmaskBitMatrix(s,c){for(let u=0;u<c;u++)for(let h=0;h<c;h++)this.isMasked(u,h)&&s.flip(h,u)}}kr.values=new Map([[Er.DATA_MASK_000,new kr(Er.DATA_MASK_000,(G,s)=>(G+s&1)===0)],[Er.DATA_MASK_001,new kr(Er.DATA_MASK_001,(G,s)=>(G&1)===0)],[Er.DATA_MASK_010,new kr(Er.DATA_MASK_010,(G,s)=>s%3===0)],[Er.DATA_MASK_011,new kr(Er.DATA_MASK_011,(G,s)=>(G+s)%3===0)],[Er.DATA_MASK_100,new kr(Er.DATA_MASK_100,(G,s)=>(Math.floor(G/2)+Math.floor(s/3)&1)===0)],[Er.DATA_MASK_101,new kr(Er.DATA_MASK_101,(G,s)=>G*s%6===0)],[Er.DATA_MASK_110,new kr(Er.DATA_MASK_110,(G,s)=>G*s%6<3)],[Er.DATA_MASK_111,new kr(Er.DATA_MASK_111,(G,s)=>(G+s+G*s%3&1)===0)]]);class Ri{constructor(s){const c=s.getHeight();if(c<21||(c&3)!==1)throw new z;this.bitMatrix=s}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let s=0;for(let p=0;p<6;p++)s=this.copyBit(p,8,s);s=this.copyBit(7,8,s),s=this.copyBit(8,8,s),s=this.copyBit(8,7,s);for(let p=5;p>=0;p--)s=this.copyBit(8,p,s);const c=this.bitMatrix.getHeight();let u=0;const h=c-7;for(let p=c-1;p>=h;p--)u=this.copyBit(8,p,u);for(let p=c-8;p<c;p++)u=this.copyBit(p,8,u);if(this.parsedFormatInfo=xr.decodeFormatInformation(s,u),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new z}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const s=this.bitMatrix.getHeight(),c=Math.floor((s-17)/4);if(c<=6)return pt.getVersionForNumber(c);let u=0;const h=s-11;for(let y=5;y>=0;y--)for(let b=s-9;b>=h;b--)u=this.copyBit(b,y,u);let p=pt.decodeVersionInformation(u);if(p!==null&&p.getDimensionForVersion()===s)return this.parsedVersion=p,p;u=0;for(let y=5;y>=0;y--)for(let b=s-9;b>=h;b--)u=this.copyBit(y,b,u);if(p=pt.decodeVersionInformation(u),p!==null&&p.getDimensionForVersion()===s)return this.parsedVersion=p,p;throw new z}copyBit(s,c,u){return(this.isMirror?this.bitMatrix.get(c,s):this.bitMatrix.get(s,c))?u<<1|1:u<<1}readCodewords(){const s=this.readFormatInformation(),c=this.readVersion(),u=kr.values.get(s.getDataMask()),h=this.bitMatrix.getHeight();u.unmaskBitMatrix(this.bitMatrix,h);const p=c.buildFunctionPattern();let y=!0;const b=new Uint8Array(c.getTotalCodewords());let S=0,T=0,D=0;for(let $=h-1;$>0;$-=2){$===6&&$--;for(let X=0;X<h;X++){const oe=y?h-1-X:X;for(let ce=0;ce<2;ce++)p.get($-ce,oe)||(D++,T<<=1,this.bitMatrix.get($-ce,oe)&&(T|=1),D===8&&(b[S++]=T,D=0,T=0))}y=!y}if(S!==c.getTotalCodewords())throw new z;return b}remask(){if(this.parsedFormatInfo===null)return;const s=kr.values[this.parsedFormatInfo.getDataMask()],c=this.bitMatrix.getHeight();s.unmaskBitMatrix(this.bitMatrix,c)}setMirror(s){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=s}mirror(){const s=this.bitMatrix;for(let c=0,u=s.getWidth();c<u;c++)for(let h=c+1,p=s.getHeight();h<p;h++)s.get(c,h)!==s.get(h,c)&&(s.flip(h,c),s.flip(c,h))}}class il{constructor(s,c){this.numDataCodewords=s,this.codewords=c}static getDataBlocks(s,c,u){if(s.length!==c.getTotalCodewords())throw new A;const h=c.getECBlocksForLevel(u);let p=0;const y=h.getECBlocks();for(const ce of y)p+=ce.getCount();const b=new Array(p);let S=0;for(const ce of y)for(let fe=0;fe<ce.getCount();fe++){const xe=ce.getDataCodewords(),Ae=h.getECCodewordsPerBlock()+xe;b[S++]=new il(xe,new Uint8Array(Ae))}const T=b[0].codewords.length;let D=b.length-1;for(;D>=0&&b[D].codewords.length!==T;)D--;D++;const $=T-h.getECCodewordsPerBlock();let X=0;for(let ce=0;ce<$;ce++)for(let fe=0;fe<S;fe++)b[fe].codewords[ce]=s[X++];for(let ce=D;ce<S;ce++)b[ce].codewords[$]=s[X++];const oe=b[0].codewords.length;for(let ce=$;ce<oe;ce++)for(let fe=0;fe<S;fe++){const xe=fe<D?ce:ce+1;b[fe].codewords[xe]=s[X++]}return b}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var ni;(function(G){G[G.TERMINATOR=0]="TERMINATOR",G[G.NUMERIC=1]="NUMERIC",G[G.ALPHANUMERIC=2]="ALPHANUMERIC",G[G.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",G[G.BYTE=4]="BYTE",G[G.ECI=5]="ECI",G[G.KANJI=6]="KANJI",G[G.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",G[G.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",G[G.HANZI=9]="HANZI"})(ni||(ni={}));class Et{constructor(s,c,u,h){this.value=s,this.stringValue=c,this.characterCountBitsForVersions=u,this.bits=h,Et.FOR_BITS.set(h,this),Et.FOR_VALUE.set(s,this)}static forBits(s){const c=Et.FOR_BITS.get(s);if(c===void 0)throw new A;return c}getCharacterCountBits(s){const c=s.getVersionNumber();let u;return c<=9?u=0:c<=26?u=1:u=2,this.characterCountBitsForVersions[u]}getValue(){return this.value}getBits(){return this.bits}equals(s){if(!(s instanceof Et))return!1;const c=s;return this.value===c.value}toString(){return this.stringValue}}Et.FOR_BITS=new Map,Et.FOR_VALUE=new Map,Et.TERMINATOR=new Et(ni.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Et.NUMERIC=new Et(ni.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Et.ALPHANUMERIC=new Et(ni.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Et.STRUCTURED_APPEND=new Et(ni.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Et.BYTE=new Et(ni.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Et.ECI=new Et(ni.ECI,"ECI",Int32Array.from([0,0,0]),7),Et.KANJI=new Et(ni.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Et.FNC1_FIRST_POSITION=new Et(ni.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Et.FNC1_SECOND_POSITION=new Et(ni.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Et.HANZI=new Et(ni.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Ln{static decode(s,c,u,h){const p=new fr(s);let y=new q;const b=new Array;let S=-1,T=-1;try{let D=null,$=!1,X;do{if(p.available()<4)X=Et.TERMINATOR;else{const oe=p.readBits(4);X=Et.forBits(oe)}switch(X){case Et.TERMINATOR:break;case Et.FNC1_FIRST_POSITION:case Et.FNC1_SECOND_POSITION:$=!0;break;case Et.STRUCTURED_APPEND:if(p.available()<16)throw new z;S=p.readBits(8),T=p.readBits(8);break;case Et.ECI:const oe=Ln.parseECIValue(p);if(D=F.getCharacterSetECIByValue(oe),D===null)throw new z;break;case Et.HANZI:const ce=p.readBits(4),fe=p.readBits(X.getCharacterCountBits(c));ce===Ln.GB2312_SUBSET&&Ln.decodeHanziSegment(p,y,fe);break;default:const xe=p.readBits(X.getCharacterCountBits(c));switch(X){case Et.NUMERIC:Ln.decodeNumericSegment(p,y,xe);break;case Et.ALPHANUMERIC:Ln.decodeAlphanumericSegment(p,y,xe,$);break;case Et.BYTE:Ln.decodeByteSegment(p,y,xe,D,b,h);break;case Et.KANJI:Ln.decodeKanjiSegment(p,y,xe);break;default:throw new z}break}}while(X!==Et.TERMINATOR)}catch{throw new z}return new nt(s,y.toString(),b.length===0?null:b,u===null?null:u.toString(),S,T)}static decodeHanziSegment(s,c,u){if(u*13>s.available())throw new z;const h=new Uint8Array(2*u);let p=0;for(;u>0;){const y=s.readBits(13);let b=y/96<<8&4294967295|y%96;b<959?b+=41377:b+=42657,h[p]=b>>8&255,h[p+1]=b&255,p+=2,u--}try{c.append(Y.decode(h,O.GB2312))}catch(y){throw new z(y)}}static decodeKanjiSegment(s,c,u){if(u*13>s.available())throw new z;const h=new Uint8Array(2*u);let p=0;for(;u>0;){const y=s.readBits(13);let b=y/192<<8&4294967295|y%192;b<7936?b+=33088:b+=49472,h[p]=b>>8,h[p+1]=b,p+=2,u--}try{c.append(Y.decode(h,O.SHIFT_JIS))}catch(y){throw new z(y)}}static decodeByteSegment(s,c,u,h,p,y){if(8*u>s.available())throw new z;const b=new Uint8Array(u);for(let T=0;T<u;T++)b[T]=s.readBits(8);let S;h===null?S=O.guessEncoding(b,y):S=h.getName();try{c.append(Y.decode(b,S))}catch(T){throw new z(T)}p.push(b)}static toAlphaNumericChar(s){if(s>=Ln.ALPHANUMERIC_CHARS.length)throw new z;return Ln.ALPHANUMERIC_CHARS[s]}static decodeAlphanumericSegment(s,c,u,h){const p=c.length();for(;u>1;){if(s.available()<11)throw new z;const y=s.readBits(11);c.append(Ln.toAlphaNumericChar(Math.floor(y/45))),c.append(Ln.toAlphaNumericChar(y%45)),u-=2}if(u===1){if(s.available()<6)throw new z;c.append(Ln.toAlphaNumericChar(s.readBits(6)))}if(h)for(let y=p;y<c.length();y++)c.charAt(y)==="%"&&(y<c.length()-1&&c.charAt(y+1)==="%"?c.deleteCharAt(y+1):c.setCharAt(y,""))}static decodeNumericSegment(s,c,u){for(;u>=3;){if(s.available()<10)throw new z;const h=s.readBits(10);if(h>=1e3)throw new z;c.append(Ln.toAlphaNumericChar(Math.floor(h/100))),c.append(Ln.toAlphaNumericChar(Math.floor(h/10)%10)),c.append(Ln.toAlphaNumericChar(h%10)),u-=3}if(u===2){if(s.available()<7)throw new z;const h=s.readBits(7);if(h>=100)throw new z;c.append(Ln.toAlphaNumericChar(Math.floor(h/10))),c.append(Ln.toAlphaNumericChar(h%10))}else if(u===1){if(s.available()<4)throw new z;const h=s.readBits(4);if(h>=10)throw new z;c.append(Ln.toAlphaNumericChar(h))}}static parseECIValue(s){const c=s.readBits(8);if((c&128)===0)return c&127;if((c&192)===128){const u=s.readBits(8);return(c&63)<<8&4294967295|u}if((c&224)===192){const u=s.readBits(16);return(c&31)<<16&4294967295|u}throw new z}}Ln.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Ln.GB2312_SUBSET=1;class fc{constructor(s){this.mirrored=s}isMirrored(){return this.mirrored}applyMirroredCorrection(s){if(!this.mirrored||s===null||s.length<3)return;const c=s[0];s[0]=s[2],s[2]=c}}class To{constructor(){this.rsDecoder=new wn(rt.QR_CODE_FIELD_256)}decodeBooleanArray(s,c){return this.decodeBitMatrix(ue.parseFromBooleanArray(s),c)}decodeBitMatrix(s,c){const u=new Ri(s);let h=null;try{return this.decodeBitMatrixParser(u,c)}catch(p){h=p}try{u.remask(),u.setMirror(!0),u.readVersion(),u.readFormatInformation(),u.mirror();const p=this.decodeBitMatrixParser(u,c);return p.setOther(new fc(!0)),p}catch(p){throw h!==null?h:p}}decodeBitMatrixParser(s,c){const u=s.readVersion(),h=s.readFormatInformation().getErrorCorrectionLevel(),p=s.readCodewords(),y=il.getDataBlocks(p,u,h);let b=0;for(const D of y)b+=D.getNumDataCodewords();const S=new Uint8Array(b);let T=0;for(const D of y){const $=D.getCodewords(),X=D.getNumDataCodewords();this.correctErrors($,X);for(let oe=0;oe<X;oe++)S[T++]=$[oe]}return Ln.decode(S,u,h,c)}correctErrors(s,c){const u=new Int32Array(s);try{this.rsDecoder.decode(u,s.length-c)}catch{throw new N}for(let h=0;h<c;h++)s[h]=u[h]}}class Io extends je{constructor(s,c,u){super(s,c),this.estimatedModuleSize=u}aboutEquals(s,c,u){if(Math.abs(c-this.getY())<=s&&Math.abs(u-this.getX())<=s){const h=Math.abs(s-this.estimatedModuleSize);return h<=1||h<=this.estimatedModuleSize}return!1}combineEstimate(s,c,u){const h=(this.getX()+c)/2,p=(this.getY()+s)/2,y=(this.estimatedModuleSize+u)/2;return new Io(h,p,y)}}class Ni{constructor(s,c,u,h,p,y,b){this.image=s,this.startX=c,this.startY=u,this.width=h,this.height=p,this.moduleSize=y,this.resultPointCallback=b,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const s=this.startX,c=this.height,u=this.width,h=s+u,p=this.startY+c/2,y=new Int32Array(3),b=this.image;for(let S=0;S<c;S++){const T=p+((S&1)===0?Math.floor((S+1)/2):-Math.floor((S+1)/2));y[0]=0,y[1]=0,y[2]=0;let D=s;for(;D<h&&!b.get(D,T);)D++;let $=0;for(;D<h;){if(b.get(D,T))if($===1)y[1]++;else if($===2){if(this.foundPatternCross(y)){const X=this.handlePossibleCenter(y,T,D);if(X!==null)return X}y[0]=y[2],y[1]=1,y[2]=0,$=1}else y[++$]++;else $===1&&$++,y[$]++;D++}if(this.foundPatternCross(y)){const X=this.handlePossibleCenter(y,T,h);if(X!==null)return X}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new re}static centerFromEnd(s,c){return c-s[2]-s[1]/2}foundPatternCross(s){const c=this.moduleSize,u=c/2;for(let h=0;h<3;h++)if(Math.abs(c-s[h])>=u)return!1;return!0}crossCheckVertical(s,c,u,h){const p=this.image,y=p.getHeight(),b=this.crossCheckStateCount;b[0]=0,b[1]=0,b[2]=0;let S=s;for(;S>=0&&p.get(c,S)&&b[1]<=u;)b[1]++,S--;if(S<0||b[1]>u)return NaN;for(;S>=0&&!p.get(c,S)&&b[0]<=u;)b[0]++,S--;if(b[0]>u)return NaN;for(S=s+1;S<y&&p.get(c,S)&&b[1]<=u;)b[1]++,S++;if(S===y||b[1]>u)return NaN;for(;S<y&&!p.get(c,S)&&b[2]<=u;)b[2]++,S++;if(b[2]>u)return NaN;const T=b[0]+b[1]+b[2];return 5*Math.abs(T-h)>=2*h?NaN:this.foundPatternCross(b)?Ni.centerFromEnd(b,S):NaN}handlePossibleCenter(s,c,u){const h=s[0]+s[1]+s[2],p=Ni.centerFromEnd(s,u),y=this.crossCheckVertical(c,p,2*s[1],h);if(!isNaN(y)){const b=(s[0]+s[1]+s[2])/3;for(const T of this.possibleCenters)if(T.aboutEquals(b,y,p))return T.combineEstimate(y,p,b);const S=new Io(p,y,b);this.possibleCenters.push(S),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(S)}return null}}class ca extends je{constructor(s,c,u,h){super(s,c),this.estimatedModuleSize=u,this.count=h,h===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(s,c,u){if(Math.abs(c-this.getY())<=s&&Math.abs(u-this.getX())<=s){const h=Math.abs(s-this.estimatedModuleSize);return h<=1||h<=this.estimatedModuleSize}return!1}combineEstimate(s,c,u){const h=this.count+1,p=(this.count*this.getX()+c)/h,y=(this.count*this.getY()+s)/h,b=(this.count*this.estimatedModuleSize+u)/h;return new ca(p,y,b,h)}}class ts{constructor(s){this.bottomLeft=s[0],this.topLeft=s[1],this.topRight=s[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Kn{constructor(s,c){this.image=s,this.resultPointCallback=c,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=c}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(s){const c=s!=null&&s.get(se.TRY_HARDER)!==void 0,u=s!=null&&s.get(se.PURE_BARCODE)!==void 0,h=this.image,p=h.getHeight(),y=h.getWidth();let b=Math.floor(3*p/(4*Kn.MAX_MODULES));(b<Kn.MIN_SKIP||c)&&(b=Kn.MIN_SKIP);let S=!1;const T=new Int32Array(5);for(let $=b-1;$<p&&!S;$+=b){T[0]=0,T[1]=0,T[2]=0,T[3]=0,T[4]=0;let X=0;for(let oe=0;oe<y;oe++)if(h.get(oe,$))(X&1)===1&&X++,T[X]++;else if((X&1)===0)if(X===4)if(Kn.foundPatternCross(T)){if(this.handlePossibleCenter(T,$,oe,u)===!0)if(b=2,this.hasSkipped===!0)S=this.haveMultiplyConfirmedCenters();else{const fe=this.findRowSkip();fe>T[2]&&($+=fe-T[2]-b,oe=y-1)}else{T[0]=T[2],T[1]=T[3],T[2]=T[4],T[3]=1,T[4]=0,X=3;continue}X=0,T[0]=0,T[1]=0,T[2]=0,T[3]=0,T[4]=0}else T[0]=T[2],T[1]=T[3],T[2]=T[4],T[3]=1,T[4]=0,X=3;else T[++X]++;else T[X]++;Kn.foundPatternCross(T)&&this.handlePossibleCenter(T,$,y,u)===!0&&(b=T[0],this.hasSkipped&&(S=this.haveMultiplyConfirmedCenters()))}const D=this.selectBestPatterns();return je.orderBestPatterns(D),new ts(D)}static centerFromEnd(s,c){return c-s[4]-s[3]-s[2]/2}static foundPatternCross(s){let c=0;for(let p=0;p<5;p++){const y=s[p];if(y===0)return!1;c+=y}if(c<7)return!1;const u=c/7,h=u/2;return Math.abs(u-s[0])<h&&Math.abs(u-s[1])<h&&Math.abs(3*u-s[2])<3*h&&Math.abs(u-s[3])<h&&Math.abs(u-s[4])<h}getCrossCheckStateCount(){const s=this.crossCheckStateCount;return s[0]=0,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s}crossCheckDiagonal(s,c,u,h){const p=this.getCrossCheckStateCount();let y=0;const b=this.image;for(;s>=y&&c>=y&&b.get(c-y,s-y);)p[2]++,y++;if(s<y||c<y)return!1;for(;s>=y&&c>=y&&!b.get(c-y,s-y)&&p[1]<=u;)p[1]++,y++;if(s<y||c<y||p[1]>u)return!1;for(;s>=y&&c>=y&&b.get(c-y,s-y)&&p[0]<=u;)p[0]++,y++;if(p[0]>u)return!1;const S=b.getHeight(),T=b.getWidth();for(y=1;s+y<S&&c+y<T&&b.get(c+y,s+y);)p[2]++,y++;if(s+y>=S||c+y>=T)return!1;for(;s+y<S&&c+y<T&&!b.get(c+y,s+y)&&p[3]<u;)p[3]++,y++;if(s+y>=S||c+y>=T||p[3]>=u)return!1;for(;s+y<S&&c+y<T&&b.get(c+y,s+y)&&p[4]<u;)p[4]++,y++;if(p[4]>=u)return!1;const D=p[0]+p[1]+p[2]+p[3]+p[4];return Math.abs(D-h)<2*h&&Kn.foundPatternCross(p)}crossCheckVertical(s,c,u,h){const p=this.image,y=p.getHeight(),b=this.getCrossCheckStateCount();let S=s;for(;S>=0&&p.get(c,S);)b[2]++,S--;if(S<0)return NaN;for(;S>=0&&!p.get(c,S)&&b[1]<=u;)b[1]++,S--;if(S<0||b[1]>u)return NaN;for(;S>=0&&p.get(c,S)&&b[0]<=u;)b[0]++,S--;if(b[0]>u)return NaN;for(S=s+1;S<y&&p.get(c,S);)b[2]++,S++;if(S===y)return NaN;for(;S<y&&!p.get(c,S)&&b[3]<u;)b[3]++,S++;if(S===y||b[3]>=u)return NaN;for(;S<y&&p.get(c,S)&&b[4]<u;)b[4]++,S++;if(b[4]>=u)return NaN;const T=b[0]+b[1]+b[2]+b[3]+b[4];return 5*Math.abs(T-h)>=2*h?NaN:Kn.foundPatternCross(b)?Kn.centerFromEnd(b,S):NaN}crossCheckHorizontal(s,c,u,h){const p=this.image,y=p.getWidth(),b=this.getCrossCheckStateCount();let S=s;for(;S>=0&&p.get(S,c);)b[2]++,S--;if(S<0)return NaN;for(;S>=0&&!p.get(S,c)&&b[1]<=u;)b[1]++,S--;if(S<0||b[1]>u)return NaN;for(;S>=0&&p.get(S,c)&&b[0]<=u;)b[0]++,S--;if(b[0]>u)return NaN;for(S=s+1;S<y&&p.get(S,c);)b[2]++,S++;if(S===y)return NaN;for(;S<y&&!p.get(S,c)&&b[3]<u;)b[3]++,S++;if(S===y||b[3]>=u)return NaN;for(;S<y&&p.get(S,c)&&b[4]<u;)b[4]++,S++;if(b[4]>=u)return NaN;const T=b[0]+b[1]+b[2]+b[3]+b[4];return 5*Math.abs(T-h)>=h?NaN:Kn.foundPatternCross(b)?Kn.centerFromEnd(b,S):NaN}handlePossibleCenter(s,c,u,h){const p=s[0]+s[1]+s[2]+s[3]+s[4];let y=Kn.centerFromEnd(s,u),b=this.crossCheckVertical(c,Math.floor(y),s[2],p);if(!isNaN(b)&&(y=this.crossCheckHorizontal(Math.floor(y),Math.floor(b),s[2],p),!isNaN(y)&&(!h||this.crossCheckDiagonal(Math.floor(b),Math.floor(y),s[2],p)))){const S=p/7;let T=!1;const D=this.possibleCenters;for(let $=0,X=D.length;$<X;$++){const oe=D[$];if(oe.aboutEquals(S,b,y)){D[$]=oe.combineEstimate(b,y,S),T=!0;break}}if(!T){const $=new ca(y,b,S);D.push($),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint($)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let c=null;for(const u of this.possibleCenters)if(u.getCount()>=Kn.CENTER_QUORUM)if(c==null)c=u;else return this.hasSkipped=!0,Math.floor((Math.abs(c.getX()-u.getX())-Math.abs(c.getY()-u.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let s=0,c=0;const u=this.possibleCenters.length;for(const y of this.possibleCenters)y.getCount()>=Kn.CENTER_QUORUM&&(s++,c+=y.getEstimatedModuleSize());if(s<3)return!1;const h=c/u;let p=0;for(const y of this.possibleCenters)p+=Math.abs(y.getEstimatedModuleSize()-h);return p<=.05*c}selectBestPatterns(){const s=this.possibleCenters.length;if(s<3)throw new re;const c=this.possibleCenters;let u;if(s>3){let h=0,p=0;for(const S of this.possibleCenters){const T=S.getEstimatedModuleSize();h+=T,p+=T*T}u=h/s;let y=Math.sqrt(p/s-u*u);c.sort((S,T)=>{const D=Math.abs(T.getEstimatedModuleSize()-u),$=Math.abs(S.getEstimatedModuleSize()-u);return D<$?-1:D>$?1:0});const b=Math.max(.2*u,y);for(let S=0;S<c.length&&c.length>3;S++){const T=c[S];Math.abs(T.getEstimatedModuleSize()-u)>b&&(c.splice(S,1),S--)}}if(c.length>3){let h=0;for(const p of c)h+=p.getEstimatedModuleSize();u=h/c.length,c.sort((p,y)=>{if(y.getCount()===p.getCount()){const b=Math.abs(y.getEstimatedModuleSize()-u),S=Math.abs(p.getEstimatedModuleSize()-u);return b<S?1:b>S?-1:0}else return y.getCount()-p.getCount()}),c.splice(3)}return[c[0],c[1],c[2]]}}Kn.CENTER_QUORUM=2,Kn.MIN_SKIP=3,Kn.MAX_MODULES=57;class Mi{constructor(s){this.image=s}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(s){this.resultPointCallback=s==null?null:s.get(se.NEED_RESULT_POINT_CALLBACK);const u=new Kn(this.image,this.resultPointCallback).find(s);return this.processFinderPatternInfo(u)}processFinderPatternInfo(s){const c=s.getTopLeft(),u=s.getTopRight(),h=s.getBottomLeft(),p=this.calculateModuleSize(c,u,h);if(p<1)throw new re("No pattern found in proccess finder.");const y=Mi.computeDimension(c,u,h,p),b=pt.getProvisionalVersionForDimension(y),S=b.getDimensionForVersion()-7;let T=null;if(b.getAlignmentPatternCenters().length>0){const oe=u.getX()-c.getX()+h.getX(),ce=u.getY()-c.getY()+h.getY(),fe=1-3/S,xe=Math.floor(c.getX()+fe*(oe-c.getX())),Ae=Math.floor(c.getY()+fe*(ce-c.getY()));for(let $e=4;$e<=16;$e<<=1)try{T=this.findAlignmentInRegion(p,xe,Ae,$e);break}catch(He){if(!(He instanceof re))throw He}}const D=Mi.createTransform(c,u,h,T,y),$=Mi.sampleGrid(this.image,D,y);let X;return T===null?X=[h,c,u]:X=[h,c,u,T],new lt($,X)}static createTransform(s,c,u,h,p){const y=p-3.5;let b,S,T,D;return h!==null?(b=h.getX(),S=h.getY(),T=y-3,D=T):(b=c.getX()-s.getX()+u.getX(),S=c.getY()-s.getY()+u.getY(),T=y,D=y),Ve.quadrilateralToQuadrilateral(3.5,3.5,y,3.5,T,D,3.5,y,s.getX(),s.getY(),c.getX(),c.getY(),b,S,u.getX(),u.getY())}static sampleGrid(s,c,u){return ct.getInstance().sampleGridWithTransform(s,u,u,c)}static computeDimension(s,c,u,h){const p=Qe.round(je.distance(s,c)/h),y=Qe.round(je.distance(s,u)/h);let b=Math.floor((p+y)/2)+7;switch(b&3){case 0:b++;break;case 2:b--;break;case 3:throw new re("Dimensions could be not found.")}return b}calculateModuleSize(s,c,u){return(this.calculateModuleSizeOneWay(s,c)+this.calculateModuleSizeOneWay(s,u))/2}calculateModuleSizeOneWay(s,c){const u=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(s.getX()),Math.floor(s.getY()),Math.floor(c.getX()),Math.floor(c.getY())),h=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(c.getX()),Math.floor(c.getY()),Math.floor(s.getX()),Math.floor(s.getY()));return isNaN(u)?h/7:isNaN(h)?u/7:(u+h)/14}sizeOfBlackWhiteBlackRunBothWays(s,c,u,h){let p=this.sizeOfBlackWhiteBlackRun(s,c,u,h),y=1,b=s-(u-s);b<0?(y=s/(s-b),b=0):b>=this.image.getWidth()&&(y=(this.image.getWidth()-1-s)/(b-s),b=this.image.getWidth()-1);let S=Math.floor(c-(h-c)*y);return y=1,S<0?(y=c/(c-S),S=0):S>=this.image.getHeight()&&(y=(this.image.getHeight()-1-c)/(S-c),S=this.image.getHeight()-1),b=Math.floor(s+(b-s)*y),p+=this.sizeOfBlackWhiteBlackRun(s,c,b,S),p-1}sizeOfBlackWhiteBlackRun(s,c,u,h){const p=Math.abs(h-c)>Math.abs(u-s);if(p){let oe=s;s=c,c=oe,oe=u,u=h,h=oe}const y=Math.abs(u-s),b=Math.abs(h-c);let S=-y/2;const T=s<u?1:-1,D=c<h?1:-1;let $=0;const X=u+T;for(let oe=s,ce=c;oe!==X;oe+=T){const fe=p?ce:oe,xe=p?oe:ce;if($===1===this.image.get(fe,xe)){if($===2)return Qe.distance(oe,ce,s,c);$++}if(S+=b,S>0){if(ce===h)break;ce+=D,S-=y}}return $===2?Qe.distance(u+T,h,s,c):NaN}findAlignmentInRegion(s,c,u,h){const p=Math.floor(h*s),y=Math.max(0,c-p),b=Math.min(this.image.getWidth()-1,c+p);if(b-y<s*3)throw new re("Alignment top exceeds estimated module size.");const S=Math.max(0,u-p),T=Math.min(this.image.getHeight()-1,u+p);if(T-S<s*3)throw new re("Alignment bottom exceeds estimated module size.");return new Ni(this.image,y,S,b-y,T-S,s,this.resultPointCallback).find()}}class Oi{constructor(){this.decoder=new To}getDecoder(){return this.decoder}decode(s,c){let u,h;if(c!=null&&c.get(se.PURE_BARCODE)!==void 0){const S=Oi.extractPureBits(s.getBlackMatrix());u=this.decoder.decodeBitMatrix(S,c),h=Oi.NO_POINTS}else{const S=new Mi(s.getBlackMatrix()).detect(c);u=this.decoder.decodeBitMatrix(S.getBits(),c),h=S.getPoints()}u.getOther()instanceof fc&&u.getOther().applyMirroredCorrection(h);const p=new Re(u.getText(),u.getRawBytes(),void 0,h,we.QR_CODE,void 0),y=u.getByteSegments();y!==null&&p.putMetadata(tt.BYTE_SEGMENTS,y);const b=u.getECLevel();return b!==null&&p.putMetadata(tt.ERROR_CORRECTION_LEVEL,b),u.hasStructuredAppend()&&(p.putMetadata(tt.STRUCTURED_APPEND_SEQUENCE,u.getStructuredAppendSequenceNumber()),p.putMetadata(tt.STRUCTURED_APPEND_PARITY,u.getStructuredAppendParity())),p}reset(){}static extractPureBits(s){const c=s.getTopLeftOnBit(),u=s.getBottomRightOnBit();if(c===null||u===null)throw new re;const h=this.moduleSize(c,s);let p=c[1],y=u[1],b=c[0],S=u[0];if(b>=S||p>=y)throw new re;if(y-p!==S-b&&(S=b+(y-p),S>=s.getWidth()))throw new re;const T=Math.round((S-b+1)/h),D=Math.round((y-p+1)/h);if(T<=0||D<=0)throw new re;if(D!==T)throw new re;const $=Math.floor(h/2);p+=$,b+=$;const X=b+Math.floor((T-1)*h)-S;if(X>0){if(X>$)throw new re;b-=X}const oe=p+Math.floor((D-1)*h)-y;if(oe>0){if(oe>$)throw new re;p-=oe}const ce=new ue(T,D);for(let fe=0;fe<D;fe++){const xe=p+Math.floor(fe*h);for(let Ae=0;Ae<T;Ae++)s.get(b+Math.floor(Ae*h),xe)&&ce.set(Ae,fe)}return ce}static moduleSize(s,c){const u=c.getHeight(),h=c.getWidth();let p=s[0],y=s[1],b=!0,S=0;for(;p<h&&y<u;){if(b!==c.get(p,y)){if(++S===5)break;b=!b}p++,y++}if(p===h||y===u)throw new re;return(p-s[0])/7}}Oi.NO_POINTS=new Array;class Ct{PDF417Common(){}static getBitCountSum(s){return Qe.sum(s)}static toIntArray(s){if(s==null||!s.length)return Ct.EMPTY_INT_ARRAY;const c=new Int32Array(s.length);let u=0;for(const h of s)c[u++]=h;return c}static getCodeword(s){const c=Z.binarySearch(Ct.SYMBOL_TABLE,s&262143);return c<0?-1:(Ct.CODEWORD_TABLE[c]-1)%Ct.NUMBER_OF_CODEWORDS}}Ct.NUMBER_OF_CODEWORDS=929,Ct.MAX_CODEWORDS_IN_BARCODE=Ct.NUMBER_OF_CODEWORDS-1,Ct.MIN_ROWS_IN_BARCODE=3,Ct.MAX_ROWS_IN_BARCODE=90,Ct.MODULES_IN_CODEWORD=17,Ct.MODULES_IN_STOP_PATTERN=18,Ct.BARS_IN_MODULE=8,Ct.EMPTY_INT_ARRAY=new Int32Array([]),Ct.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Ct.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Ro{constructor(s,c){this.bits=s,this.points=c}getBits(){return this.bits}getPoints(){return this.points}}class Tt{static detectMultiple(s,c,u){let h=s.getBlackMatrix(),p=Tt.detect(u,h);return p.length||(h=h.clone(),h.rotate180(),p=Tt.detect(u,h)),new Ro(h,p)}static detect(s,c){const u=new Array;let h=0,p=0,y=!1;for(;h<c.getHeight();){const b=Tt.findVertices(c,h,p);if(b[0]==null&&b[3]==null){if(!y)break;y=!1,p=0;for(const S of u)S[1]!=null&&(h=Math.trunc(Math.max(h,S[1].getY()))),S[3]!=null&&(h=Math.max(h,Math.trunc(S[3].getY())));h+=Tt.ROW_STEP;continue}if(y=!0,u.push(b),!s)break;b[2]!=null?(p=Math.trunc(b[2].getX()),h=Math.trunc(b[2].getY())):(p=Math.trunc(b[4].getX()),h=Math.trunc(b[4].getY()))}return u}static findVertices(s,c,u){const h=s.getHeight(),p=s.getWidth(),y=new Array(8);return Tt.copyToResult(y,Tt.findRowsWithPattern(s,h,p,c,u,Tt.START_PATTERN),Tt.INDEXES_START_PATTERN),y[4]!=null&&(u=Math.trunc(y[4].getX()),c=Math.trunc(y[4].getY())),Tt.copyToResult(y,Tt.findRowsWithPattern(s,h,p,c,u,Tt.STOP_PATTERN),Tt.INDEXES_STOP_PATTERN),y}static copyToResult(s,c,u){for(let h=0;h<u.length;h++)s[u[h]]=c[h]}static findRowsWithPattern(s,c,u,h,p,y){const b=new Array(4);let S=!1;const T=new Int32Array(y.length);for(;h<c;h+=Tt.ROW_STEP){let $=Tt.findGuardPattern(s,p,h,u,!1,y,T);if($!=null){for(;h>0;){const X=Tt.findGuardPattern(s,p,--h,u,!1,y,T);if(X!=null)$=X;else{h++;break}}b[0]=new je($[0],h),b[1]=new je($[1],h),S=!0;break}}let D=h+1;if(S){let $=0,X=Int32Array.from([Math.trunc(b[0].getX()),Math.trunc(b[1].getX())]);for(;D<c;D++){const oe=Tt.findGuardPattern(s,X[0],D,u,!1,y,T);if(oe!=null&&Math.abs(X[0]-oe[0])<Tt.MAX_PATTERN_DRIFT&&Math.abs(X[1]-oe[1])<Tt.MAX_PATTERN_DRIFT)X=oe,$=0;else{if($>Tt.SKIPPED_ROW_COUNT_MAX)break;$++}}D-=$+1,b[2]=new je(X[0],D),b[3]=new je(X[1],D)}return D-h<Tt.BARCODE_MIN_HEIGHT&&Z.fill(b,null),b}static findGuardPattern(s,c,u,h,p,y,b){Z.fillWithin(b,0,b.length,0);let S=c,T=0;for(;s.get(S,u)&&S>0&&T++<Tt.MAX_PIXEL_DRIFT;)S--;let D=S,$=0,X=y.length;for(let oe=p;D<h;D++)if(s.get(D,u)!==oe)b[$]++;else{if($===X-1){if(Tt.patternMatchVariance(b,y,Tt.MAX_INDIVIDUAL_VARIANCE)<Tt.MAX_AVG_VARIANCE)return new Int32Array([S,D]);S+=b[0]+b[1],k.arraycopy(b,2,b,0,$-1),b[$-1]=0,b[$]=0,$--}else $++;b[$]=1,oe=!oe}return $===X-1&&Tt.patternMatchVariance(b,y,Tt.MAX_INDIVIDUAL_VARIANCE)<Tt.MAX_AVG_VARIANCE?new Int32Array([S,D-1]):null}static patternMatchVariance(s,c,u){let h=s.length,p=0,y=0;for(let T=0;T<h;T++)p+=s[T],y+=c[T];if(p<y)return 1/0;let b=p/y;u*=b;let S=0;for(let T=0;T<h;T++){let D=s[T],$=c[T]*b,X=D>$?D-$:$-D;if(X>u)return 1/0;S+=X}return S/p}}Tt.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Tt.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Tt.MAX_AVG_VARIANCE=.42,Tt.MAX_INDIVIDUAL_VARIANCE=.8,Tt.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Tt.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Tt.MAX_PIXEL_DRIFT=3,Tt.MAX_PATTERN_DRIFT=5,Tt.SKIPPED_ROW_COUNT_MAX=25,Tt.ROW_STEP=5,Tt.BARCODE_MIN_HEIGHT=10;class Pn{constructor(s,c){if(c.length===0)throw new A;this.field=s;let u=c.length;if(u>1&&c[0]===0){let h=1;for(;h<u&&c[h]===0;)h++;h===u?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(u-h),k.arraycopy(c,h,this.coefficients,0,this.coefficients.length))}else this.coefficients=c}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(s){return this.coefficients[this.coefficients.length-1-s]}evaluateAt(s){if(s===0)return this.getCoefficient(0);if(s===1){let h=0;for(let p of this.coefficients)h=this.field.add(h,p);return h}let c=this.coefficients[0],u=this.coefficients.length;for(let h=1;h<u;h++)c=this.field.add(this.field.multiply(s,c),this.coefficients[h]);return c}add(s){if(!this.field.equals(s.field))throw new A("ModulusPolys do not have same ModulusGF field");if(this.isZero())return s;if(s.isZero())return this;let c=this.coefficients,u=s.coefficients;if(c.length>u.length){let y=c;c=u,u=y}let h=new Int32Array(u.length),p=u.length-c.length;k.arraycopy(u,0,h,0,p);for(let y=p;y<u.length;y++)h[y]=this.field.add(c[y-p],u[y]);return new Pn(this.field,h)}subtract(s){if(!this.field.equals(s.field))throw new A("ModulusPolys do not have same ModulusGF field");return s.isZero()?this:this.add(s.negative())}multiply(s){return s instanceof Pn?this.multiplyOther(s):this.multiplyScalar(s)}multiplyOther(s){if(!this.field.equals(s.field))throw new A("ModulusPolys do not have same ModulusGF field");if(this.isZero()||s.isZero())return new Pn(this.field,new Int32Array([0]));let c=this.coefficients,u=c.length,h=s.coefficients,p=h.length,y=new Int32Array(u+p-1);for(let b=0;b<u;b++){let S=c[b];for(let T=0;T<p;T++)y[b+T]=this.field.add(y[b+T],this.field.multiply(S,h[T]))}return new Pn(this.field,y)}negative(){let s=this.coefficients.length,c=new Int32Array(s);for(let u=0;u<s;u++)c[u]=this.field.subtract(0,this.coefficients[u]);return new Pn(this.field,c)}multiplyScalar(s){if(s===0)return new Pn(this.field,new Int32Array([0]));if(s===1)return this;let c=this.coefficients.length,u=new Int32Array(c);for(let h=0;h<c;h++)u[h]=this.field.multiply(this.coefficients[h],s);return new Pn(this.field,u)}multiplyByMonomial(s,c){if(s<0)throw new A;if(c===0)return new Pn(this.field,new Int32Array([0]));let u=this.coefficients.length,h=new Int32Array(u+s);for(let p=0;p<u;p++)h[p]=this.field.multiply(this.coefficients[p],c);return new Pn(this.field,h)}toString(){let s=new q;for(let c=this.getDegree();c>=0;c--){let u=this.getCoefficient(c);u!==0&&(u<0?(s.append(" - "),u=-u):s.length()>0&&s.append(" + "),(c===0||u!==1)&&s.append(u),c!==0&&(c===1?s.append("x"):(s.append("x^"),s.append(c))))}return s.toString()}}class ua{add(s,c){return(s+c)%this.modulus}subtract(s,c){return(this.modulus+s-c)%this.modulus}exp(s){return this.expTable[s]}log(s){if(s===0)throw new A;return this.logTable[s]}inverse(s){if(s===0)throw new St;return this.expTable[this.modulus-this.logTable[s]-1]}multiply(s,c){return s===0||c===0?0:this.expTable[(this.logTable[s]+this.logTable[c])%(this.modulus-1)]}getSize(){return this.modulus}equals(s){return s===this}}class Tn extends ua{constructor(s,c){super(),this.modulus=s,this.expTable=new Int32Array(s),this.logTable=new Int32Array(s);let u=1;for(let h=0;h<s;h++)this.expTable[h]=u,u=u*c%s;for(let h=0;h<s-1;h++)this.logTable[this.expTable[h]]=h;this.zero=new Pn(this,new Int32Array([0])),this.one=new Pn(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(s,c){if(s<0)throw new A;if(c===0)return this.zero;let u=new Int32Array(s+1);return u[0]=c,new Pn(this,u)}}Tn.PDF417_GF=new Tn(Ct.NUMBER_OF_CODEWORDS,3);class gs{constructor(){this.field=Tn.PDF417_GF}decode(s,c,u){let h=new Pn(this.field,s),p=new Int32Array(c),y=!1;for(let ce=c;ce>0;ce--){let fe=h.evaluateAt(this.field.exp(ce));p[c-ce]=fe,fe!==0&&(y=!0)}if(!y)return 0;let b=this.field.getOne();if(u!=null)for(const ce of u){let fe=this.field.exp(s.length-1-ce),xe=new Pn(this.field,new Int32Array([this.field.subtract(0,fe),1]));b=b.multiply(xe)}let S=new Pn(this.field,p),T=this.runEuclideanAlgorithm(this.field.buildMonomial(c,1),S,c),D=T[0],$=T[1],X=this.findErrorLocations(D),oe=this.findErrorMagnitudes($,D,X);for(let ce=0;ce<X.length;ce++){let fe=s.length-1-this.field.log(X[ce]);if(fe<0)throw N.getChecksumInstance();s[fe]=this.field.subtract(s[fe],oe[ce])}return X.length}runEuclideanAlgorithm(s,c,u){if(s.getDegree()<c.getDegree()){let X=s;s=c,c=X}let h=s,p=c,y=this.field.getZero(),b=this.field.getOne();for(;p.getDegree()>=Math.round(u/2);){let X=h,oe=y;if(h=p,y=b,h.isZero())throw N.getChecksumInstance();p=X;let ce=this.field.getZero(),fe=h.getCoefficient(h.getDegree()),xe=this.field.inverse(fe);for(;p.getDegree()>=h.getDegree()&&!p.isZero();){let Ae=p.getDegree()-h.getDegree(),$e=this.field.multiply(p.getCoefficient(p.getDegree()),xe);ce=ce.add(this.field.buildMonomial(Ae,$e)),p=p.subtract(h.multiplyByMonomial(Ae,$e))}b=ce.multiply(y).subtract(oe).negative()}let S=b.getCoefficient(0);if(S===0)throw N.getChecksumInstance();let T=this.field.inverse(S),D=b.multiply(T),$=p.multiply(T);return[D,$]}findErrorLocations(s){let c=s.getDegree(),u=new Int32Array(c),h=0;for(let p=1;p<this.field.getSize()&&h<c;p++)s.evaluateAt(p)===0&&(u[h]=this.field.inverse(p),h++);if(h!==c)throw N.getChecksumInstance();return u}findErrorMagnitudes(s,c,u){let h=c.getDegree(),p=new Int32Array(h);for(let T=1;T<=h;T++)p[h-T]=this.field.multiply(T,c.getCoefficient(T));let y=new Pn(this.field,p),b=u.length,S=new Int32Array(b);for(let T=0;T<b;T++){let D=this.field.inverse(u[T]),$=this.field.subtract(0,s.evaluateAt(D)),X=this.field.inverse(y.evaluateAt(D));S[T]=this.field.multiply($,X)}return S}}class ms{constructor(s,c,u,h,p){s instanceof ms?this.constructor_2(s):this.constructor_1(s,c,u,h,p)}constructor_1(s,c,u,h,p){const y=c==null||u==null,b=h==null||p==null;if(y&&b)throw new re;y?(c=new je(0,h.getY()),u=new je(0,p.getY())):b&&(h=new je(s.getWidth()-1,c.getY()),p=new je(s.getWidth()-1,u.getY())),this.image=s,this.topLeft=c,this.bottomLeft=u,this.topRight=h,this.bottomRight=p,this.minX=Math.trunc(Math.min(c.getX(),u.getX())),this.maxX=Math.trunc(Math.max(h.getX(),p.getX())),this.minY=Math.trunc(Math.min(c.getY(),h.getY())),this.maxY=Math.trunc(Math.max(u.getY(),p.getY()))}constructor_2(s){this.image=s.image,this.topLeft=s.getTopLeft(),this.bottomLeft=s.getBottomLeft(),this.topRight=s.getTopRight(),this.bottomRight=s.getBottomRight(),this.minX=s.getMinX(),this.maxX=s.getMaxX(),this.minY=s.getMinY(),this.maxY=s.getMaxY()}static merge(s,c){return s==null?c:c==null?s:new ms(s.image,s.topLeft,s.bottomLeft,c.topRight,c.bottomRight)}addMissingRows(s,c,u){let h=this.topLeft,p=this.bottomLeft,y=this.topRight,b=this.bottomRight;if(s>0){let S=u?this.topLeft:this.topRight,T=Math.trunc(S.getY()-s);T<0&&(T=0);let D=new je(S.getX(),T);u?h=D:y=D}if(c>0){let S=u?this.bottomLeft:this.bottomRight,T=Math.trunc(S.getY()+c);T>=this.image.getHeight()&&(T=this.image.getHeight()-1);let D=new je(S.getX(),T);u?p=D:b=D}return new ms(this.image,h,p,y,b)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class fa{constructor(s,c,u,h){this.columnCount=s,this.errorCorrectionLevel=h,this.rowCountUpperPart=c,this.rowCountLowerPart=u,this.rowCount=c+u}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class ao{constructor(){this.buffer=""}static form(s,c){let u=-1;function h(y,b,S,T,D,$){if(y==="%%")return"%";if(c[++u]===void 0)return;y=T?parseInt(T.substr(1)):void 0;let X=D?parseInt(D.substr(1)):void 0,oe;switch($){case"s":oe=c[u];break;case"c":oe=c[u][0];break;case"f":oe=parseFloat(c[u]).toFixed(y);break;case"p":oe=parseFloat(c[u]).toPrecision(y);break;case"e":oe=parseFloat(c[u]).toExponential(y);break;case"x":oe=parseInt(c[u]).toString(X||16);break;case"d":oe=parseFloat(parseInt(c[u],X||10).toPrecision(y)).toFixed(0);break}oe=typeof oe=="object"?JSON.stringify(oe):(+oe).toString(X);let ce=parseInt(S),fe=S&&S[0]+""=="0"?"0":" ";for(;oe.length<ce;)oe=b!==void 0?oe+fe:fe+oe;return oe}let p=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return s.replace(p,h)}format(s,...c){this.buffer+=ao.form(s,c)}toString(){return this.buffer}}class ys{constructor(s){this.boundingBox=new ms(s),this.codewords=new Array(s.getMaxY()-s.getMinY()+1)}getCodewordNearby(s){let c=this.getCodeword(s);if(c!=null)return c;for(let u=1;u<ys.MAX_NEARBY_DISTANCE;u++){let h=this.imageRowToCodewordIndex(s)-u;if(h>=0&&(c=this.codewords[h],c!=null)||(h=this.imageRowToCodewordIndex(s)+u,h<this.codewords.length&&(c=this.codewords[h],c!=null)))return c}return null}imageRowToCodewordIndex(s){return s-this.boundingBox.getMinY()}setCodeword(s,c){this.codewords[this.imageRowToCodewordIndex(s)]=c}getCodeword(s){return this.codewords[this.imageRowToCodewordIndex(s)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const s=new ao;let c=0;for(const u of this.codewords){if(u==null){s.format("%3d:    |   %n",c++);continue}s.format("%3d: %3d|%3d%n",c++,u.getRowNumber(),u.getValue())}return s.toString()}}ys.MAX_NEARBY_DISTANCE=5;class Hi{constructor(){this.values=new Map}setValue(s){s=Math.trunc(s);let c=this.values.get(s);c==null&&(c=0),c++,this.values.set(s,c)}getValue(){let s=-1,c=new Array;for(const[u,h]of this.values.entries()){const p={getKey:()=>u,getValue:()=>h};p.getValue()>s?(s=p.getValue(),c=[],c.push(p.getKey())):p.getValue()===s&&c.push(p.getKey())}return Ct.toIntArray(c)}getConfidence(s){return this.values.get(s)}}class ns extends ys{constructor(s,c){super(s),this._isLeft=c}setRowNumbers(){for(let s of this.getCodewords())s?.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(s){let c=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(c,s);let u=this.getBoundingBox(),h=this._isLeft?u.getTopLeft():u.getTopRight(),p=this._isLeft?u.getBottomLeft():u.getBottomRight(),y=this.imageRowToCodewordIndex(Math.trunc(h.getY())),b=this.imageRowToCodewordIndex(Math.trunc(p.getY())),S=-1,T=1,D=0;for(let $=y;$<b;$++){if(c[$]==null)continue;let X=c[$],oe=X.getRowNumber()-S;if(oe===0)D++;else if(oe===1)T=Math.max(T,D),D=1,S=X.getRowNumber();else if(oe<0||X.getRowNumber()>=s.getRowCount()||oe>$)c[$]=null;else{let ce;T>2?ce=(T-2)*oe:ce=oe;let fe=ce>=$;for(let xe=1;xe<=ce&&!fe;xe++)fe=c[$-xe]!=null;fe?c[$]=null:(S=X.getRowNumber(),D=1)}}}getRowHeights(){let s=this.getBarcodeMetadata();if(s==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(s);let c=new Int32Array(s.getRowCount());for(let u of this.getCodewords())if(u!=null){let h=u.getRowNumber();if(h>=c.length)continue;c[h]++}return c}adjustIncompleteIndicatorColumnRowNumbers(s){let c=this.getBoundingBox(),u=this._isLeft?c.getTopLeft():c.getTopRight(),h=this._isLeft?c.getBottomLeft():c.getBottomRight(),p=this.imageRowToCodewordIndex(Math.trunc(u.getY())),y=this.imageRowToCodewordIndex(Math.trunc(h.getY())),b=this.getCodewords(),S=-1;for(let T=p;T<y;T++){if(b[T]==null)continue;let D=b[T];D.setRowNumberAsRowIndicatorColumn();let $=D.getRowNumber()-S;$===0||($===1?S=D.getRowNumber():D.getRowNumber()>=s.getRowCount()?b[T]=null:S=D.getRowNumber())}}getBarcodeMetadata(){let s=this.getCodewords(),c=new Hi,u=new Hi,h=new Hi,p=new Hi;for(let b of s){if(b==null)continue;b.setRowNumberAsRowIndicatorColumn();let S=b.getValue()%30,T=b.getRowNumber();switch(this._isLeft||(T+=2),T%3){case 0:u.setValue(S*3+1);break;case 1:p.setValue(S/3),h.setValue(S%3);break;case 2:c.setValue(S+1);break}}if(c.getValue().length===0||u.getValue().length===0||h.getValue().length===0||p.getValue().length===0||c.getValue()[0]<1||u.getValue()[0]+h.getValue()[0]<Ct.MIN_ROWS_IN_BARCODE||u.getValue()[0]+h.getValue()[0]>Ct.MAX_ROWS_IN_BARCODE)return null;let y=new fa(c.getValue()[0],u.getValue()[0],h.getValue()[0],p.getValue()[0]);return this.removeIncorrectCodewords(s,y),y}removeIncorrectCodewords(s,c){for(let u=0;u<s.length;u++){let h=s[u];if(s[u]==null)continue;let p=h.getValue()%30,y=h.getRowNumber();if(y>c.getRowCount()){s[u]=null;continue}switch(this._isLeft||(y+=2),y%3){case 0:p*3+1!==c.getRowCountUpperPart()&&(s[u]=null);break;case 1:(Math.trunc(p/3)!==c.getErrorCorrectionLevel()||p%3!==c.getRowCountLowerPart())&&(s[u]=null);break;case 2:p+1!==c.getColumnCount()&&(s[u]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class vr{constructor(s,c){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=s,this.barcodeColumnCount=s.getColumnCount(),this.boundingBox=c,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let s=Ct.MAX_CODEWORDS_IN_BARCODE,c;do c=s,s=this.adjustRowNumbersAndGetCount();while(s>0&&s<c);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(s){s?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let s=this.adjustRowNumbersByRow();if(s===0)return 0;for(let c=1;c<this.barcodeColumnCount+1;c++){let u=this.detectionResultColumns[c].getCodewords();for(let h=0;h<u.length;h++)u[h]!=null&&(u[h].hasValidRowNumber()||this.adjustRowNumbers(c,h,u))}return s}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let s=this.detectionResultColumns[0].getCodewords(),c=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let u=0;u<s.length;u++)if(s[u]!=null&&c[u]!=null&&s[u].getRowNumber()===c[u].getRowNumber())for(let h=1;h<=this.barcodeColumnCount;h++){let p=this.detectionResultColumns[h].getCodewords()[u];p!=null&&(p.setRowNumber(s[u].getRowNumber()),p.hasValidRowNumber()||(this.detectionResultColumns[h].getCodewords()[u]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let s=0,c=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let u=0;u<c.length;u++){if(c[u]==null)continue;let h=c[u].getRowNumber(),p=0;for(let y=this.barcodeColumnCount+1;y>0&&p<this.ADJUST_ROW_NUMBER_SKIP;y--){let b=this.detectionResultColumns[y].getCodewords()[u];b!=null&&(p=vr.adjustRowNumberIfValid(h,p,b),b.hasValidRowNumber()||s++)}}return s}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let s=0,c=this.detectionResultColumns[0].getCodewords();for(let u=0;u<c.length;u++){if(c[u]==null)continue;let h=c[u].getRowNumber(),p=0;for(let y=1;y<this.barcodeColumnCount+1&&p<this.ADJUST_ROW_NUMBER_SKIP;y++){let b=this.detectionResultColumns[y].getCodewords()[u];b!=null&&(p=vr.adjustRowNumberIfValid(h,p,b),b.hasValidRowNumber()||s++)}}return s}static adjustRowNumberIfValid(s,c,u){return u==null||u.hasValidRowNumber()||(u.isValidRowNumber(s)?(u.setRowNumber(s),c=0):++c),c}adjustRowNumbers(s,c,u){if(!this.detectionResultColumns[s-1])return;let h=u[c],p=this.detectionResultColumns[s-1].getCodewords(),y=p;this.detectionResultColumns[s+1]!=null&&(y=this.detectionResultColumns[s+1].getCodewords());let b=new Array(14);b[2]=p[c],b[3]=y[c],c>0&&(b[0]=u[c-1],b[4]=p[c-1],b[5]=y[c-1]),c>1&&(b[8]=u[c-2],b[10]=p[c-2],b[11]=y[c-2]),c<u.length-1&&(b[1]=u[c+1],b[6]=p[c+1],b[7]=y[c+1]),c<u.length-2&&(b[9]=u[c+2],b[12]=p[c+2],b[13]=y[c+2]);for(let S of b)if(vr.adjustRowNumber(h,S))return}static adjustRowNumber(s,c){return c==null?!1:c.hasValidRowNumber()&&c.getBucket()===s.getBucket()?(s.setRowNumber(c.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(s){this.boundingBox=s}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(s,c){this.detectionResultColumns[s]=c}getDetectionResultColumn(s){return this.detectionResultColumns[s]}toString(){let s=this.detectionResultColumns[0];s==null&&(s=this.detectionResultColumns[this.barcodeColumnCount+1]);let c=new ao;for(let u=0;u<s.getCodewords().length;u++){c.format("CW %3d:",u);for(let h=0;h<this.barcodeColumnCount+2;h++){if(this.detectionResultColumns[h]==null){c.format("    |   ");continue}let p=this.detectionResultColumns[h].getCodewords()[u];if(p==null){c.format("    |   ");continue}c.format(" %3d|%3d",p.getRowNumber(),p.getValue())}c.format("%n")}return c.toString()}}class Gi{constructor(s,c,u,h){this.rowNumber=Gi.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(s),this.endX=Math.trunc(c),this.bucket=Math.trunc(u),this.value=Math.trunc(h)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(s){return s!==Gi.BARCODE_ROW_UNKNOWN&&this.bucket===s%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(s){this.rowNumber=s}toString(){return this.rowNumber+"|"+this.value}}Gi.BARCODE_ROW_UNKNOWN=-1;class ir{static initialize(){for(let s=0;s<Ct.SYMBOL_TABLE.length;s++){let c=Ct.SYMBOL_TABLE[s],u=c&1;for(let h=0;h<Ct.BARS_IN_MODULE;h++){let p=0;for(;(c&1)===u;)p+=1,c>>=1;u=c&1,ir.RATIOS_TABLE[s]||(ir.RATIOS_TABLE[s]=new Array(Ct.BARS_IN_MODULE)),ir.RATIOS_TABLE[s][Ct.BARS_IN_MODULE-h-1]=Math.fround(p/Ct.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(s){let c=ir.getDecodedCodewordValue(ir.sampleBitCounts(s));return c!==-1?c:ir.getClosestDecodedValue(s)}static sampleBitCounts(s){let c=Qe.sum(s),u=new Int32Array(Ct.BARS_IN_MODULE),h=0,p=0;for(let y=0;y<Ct.MODULES_IN_CODEWORD;y++){let b=c/(2*Ct.MODULES_IN_CODEWORD)+y*c/Ct.MODULES_IN_CODEWORD;p+s[h]<=b&&(p+=s[h],h++),u[h]++}return u}static getDecodedCodewordValue(s){let c=ir.getBitValue(s);return Ct.getCodeword(c)===-1?-1:c}static getBitValue(s){let c=0;for(let u=0;u<s.length;u++)for(let h=0;h<s[u];h++)c=c<<1|(u%2===0?1:0);return Math.trunc(c)}static getClosestDecodedValue(s){let c=Qe.sum(s),u=new Array(Ct.BARS_IN_MODULE);if(c>1)for(let y=0;y<u.length;y++)u[y]=Math.fround(s[y]/c);let h=Ot.MAX_VALUE,p=-1;this.bSymbolTableReady||ir.initialize();for(let y=0;y<ir.RATIOS_TABLE.length;y++){let b=0,S=ir.RATIOS_TABLE[y];for(let T=0;T<Ct.BARS_IN_MODULE;T++){let D=Math.fround(S[T]-u[T]);if(b+=Math.fround(D*D),b>=h)break}b<h&&(h=b,p=Ct.SYMBOL_TABLE[y])}return p}}ir.bSymbolTableReady=!1,ir.RATIOS_TABLE=new Array(Ct.SYMBOL_TABLE.length).map(G=>new Array(Ct.BARS_IN_MODULE));class lo{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(s){this.segmentIndex=s}getFileId(){return this.fileId}setFileId(s){this.fileId=s}getOptionalData(){return this.optionalData}setOptionalData(s){this.optionalData=s}isLastSegment(){return this.lastSegment}setLastSegment(s){this.lastSegment=s}getSegmentCount(){return this.segmentCount}setSegmentCount(s){this.segmentCount=s}getSender(){return this.sender||null}setSender(s){this.sender=s}getAddressee(){return this.addressee||null}setAddressee(s){this.addressee=s}getFileName(){return this.fileName}setFileName(s){this.fileName=s}getFileSize(){return this.fileSize}setFileSize(s){this.fileSize=s}getChecksum(){return this.checksum}setChecksum(s){this.checksum=s}getTimestamp(){return this.timestamp}setTimestamp(s){this.timestamp=s}}class sl{static parseLong(s,c=void 0){return parseInt(s,c)}}class co extends m{}co.kind="NullPointerException";class ol{writeBytes(s){this.writeBytesOffset(s,0,s.length)}writeBytesOffset(s,c,u){if(s==null)throw new co;if(c<0||c>s.length||u<0||c+u>s.length||c+u<0)throw new V;if(u===0)return;for(let h=0;h<u;h++)this.write(s[c+h])}flush(){}close(){}}class Fs extends m{}class al extends ol{constructor(s=32){if(super(),this.count=0,s<0)throw new A("Negative initial size: "+s);this.buf=new Uint8Array(s)}ensureCapacity(s){s-this.buf.length>0&&this.grow(s)}grow(s){let u=this.buf.length<<1;if(u-s<0&&(u=s),u<0){if(s<0)throw new Fs;u=H.MAX_VALUE}this.buf=Z.copyOfUint8Array(this.buf,u)}write(s){this.ensureCapacity(this.count+1),this.buf[this.count]=s,this.count+=1}writeBytesOffset(s,c,u){if(c<0||c>s.length||u<0||c+u-s.length>0)throw new V;this.ensureCapacity(this.count+u),k.arraycopy(s,c,this.buf,this.count,u),this.count+=u}writeTo(s){s.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return Z.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(s){return s?typeof s=="string"?this.toString_string(s):this.toString_number(s):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(s){return new String(this.buf).toString()}toString_number(s){return new String(this.buf).toString()}close(){}}var Cn;(function(G){G[G.ALPHA=0]="ALPHA",G[G.LOWER=1]="LOWER",G[G.MIXED=2]="MIXED",G[G.PUNCT=3]="PUNCT",G[G.ALPHA_SHIFT=4]="ALPHA_SHIFT",G[G.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Cn||(Cn={}));function No(){if(typeof window<"u")return window.BigInt||null;if(typeof Xp<"u")return Xp.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let da;function xs(G){if(typeof da>"u"&&(da=No()),da===null)throw new Error("BigInt is not supported!");return da(G)}function ha(){let G=[];G[0]=xs(1);let s=xs(900);G[1]=s;for(let c=2;c<16;c++)G[c]=G[c-1]*s;return G}class Se{static decode(s,c){let u=new q(""),h=F.ISO8859_1;u.enableDecoding(h);let p=1,y=s[p++],b=new lo;for(;p<s[0];){switch(y){case Se.TEXT_COMPACTION_MODE_LATCH:p=Se.textCompaction(s,p,u);break;case Se.BYTE_COMPACTION_MODE_LATCH:case Se.BYTE_COMPACTION_MODE_LATCH_6:p=Se.byteCompaction(y,s,h,p,u);break;case Se.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(s[p++]);break;case Se.NUMERIC_COMPACTION_MODE_LATCH:p=Se.numericCompaction(s,p,u);break;case Se.ECI_CHARSET:F.getCharacterSetECIByValue(s[p++]);break;case Se.ECI_GENERAL_PURPOSE:p+=2;break;case Se.ECI_USER_DEFINED:p++;break;case Se.BEGIN_MACRO_PDF417_CONTROL_BLOCK:p=Se.decodeMacroBlock(s,p,b);break;case Se.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Se.MACRO_PDF417_TERMINATOR:throw new z;default:p--,p=Se.textCompaction(s,p,u);break}if(p<s.length)y=s[p++];else throw z.getFormatInstance()}if(u.length()===0)throw z.getFormatInstance();let S=new nt(null,u.toString(),null,c);return S.setOther(b),S}static decodeMacroBlock(s,c,u){if(c+Se.NUMBER_OF_SEQUENCE_CODEWORDS>s[0])throw z.getFormatInstance();let h=new Int32Array(Se.NUMBER_OF_SEQUENCE_CODEWORDS);for(let b=0;b<Se.NUMBER_OF_SEQUENCE_CODEWORDS;b++,c++)h[b]=s[c];u.setSegmentIndex(H.parseInt(Se.decodeBase900toBase10(h,Se.NUMBER_OF_SEQUENCE_CODEWORDS)));let p=new q;c=Se.textCompaction(s,c,p),u.setFileId(p.toString());let y=-1;for(s[c]===Se.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(y=c+1);c<s[0];)switch(s[c]){case Se.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(c++,s[c]){case Se.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let b=new q;c=Se.textCompaction(s,c+1,b),u.setFileName(b.toString());break;case Se.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let S=new q;c=Se.textCompaction(s,c+1,S),u.setSender(S.toString());break;case Se.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let T=new q;c=Se.textCompaction(s,c+1,T),u.setAddressee(T.toString());break;case Se.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let D=new q;c=Se.numericCompaction(s,c+1,D),u.setSegmentCount(H.parseInt(D.toString()));break;case Se.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let $=new q;c=Se.numericCompaction(s,c+1,$),u.setTimestamp(sl.parseLong($.toString()));break;case Se.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let X=new q;c=Se.numericCompaction(s,c+1,X),u.setChecksum(H.parseInt(X.toString()));break;case Se.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let oe=new q;c=Se.numericCompaction(s,c+1,oe),u.setFileSize(sl.parseLong(oe.toString()));break;default:throw z.getFormatInstance()}break;case Se.MACRO_PDF417_TERMINATOR:c++,u.setLastSegment(!0);break;default:throw z.getFormatInstance()}if(y!==-1){let b=c-y;u.isLastSegment()&&b--,u.setOptionalData(Z.copyOfRange(s,y,y+b))}return c}static textCompaction(s,c,u){let h=new Int32Array((s[0]-c)*2),p=new Int32Array((s[0]-c)*2),y=0,b=!1;for(;c<s[0]&&!b;){let S=s[c++];if(S<Se.TEXT_COMPACTION_MODE_LATCH)h[y]=S/30,h[y+1]=S%30,y+=2;else switch(S){case Se.TEXT_COMPACTION_MODE_LATCH:h[y++]=Se.TEXT_COMPACTION_MODE_LATCH;break;case Se.BYTE_COMPACTION_MODE_LATCH:case Se.BYTE_COMPACTION_MODE_LATCH_6:case Se.NUMERIC_COMPACTION_MODE_LATCH:case Se.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Se.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Se.MACRO_PDF417_TERMINATOR:c--,b=!0;break;case Se.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h[y]=Se.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,S=s[c++],p[y]=S,y++;break}}return Se.decodeTextCompaction(h,p,y,u),c}static decodeTextCompaction(s,c,u,h){let p=Cn.ALPHA,y=Cn.ALPHA,b=0;for(;b<u;){let S=s[b],T="";switch(p){case Cn.ALPHA:if(S<26)T=String.fromCharCode(65+S);else switch(S){case 26:T=" ";break;case Se.LL:p=Cn.LOWER;break;case Se.ML:p=Cn.MIXED;break;case Se.PS:y=p,p=Cn.PUNCT_SHIFT;break;case Se.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h.append(c[b]);break;case Se.TEXT_COMPACTION_MODE_LATCH:p=Cn.ALPHA;break}break;case Cn.LOWER:if(S<26)T=String.fromCharCode(97+S);else switch(S){case 26:T=" ";break;case Se.AS:y=p,p=Cn.ALPHA_SHIFT;break;case Se.ML:p=Cn.MIXED;break;case Se.PS:y=p,p=Cn.PUNCT_SHIFT;break;case Se.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h.append(c[b]);break;case Se.TEXT_COMPACTION_MODE_LATCH:p=Cn.ALPHA;break}break;case Cn.MIXED:if(S<Se.PL)T=Se.MIXED_CHARS[S];else switch(S){case Se.PL:p=Cn.PUNCT;break;case 26:T=" ";break;case Se.LL:p=Cn.LOWER;break;case Se.AL:p=Cn.ALPHA;break;case Se.PS:y=p,p=Cn.PUNCT_SHIFT;break;case Se.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h.append(c[b]);break;case Se.TEXT_COMPACTION_MODE_LATCH:p=Cn.ALPHA;break}break;case Cn.PUNCT:if(S<Se.PAL)T=Se.PUNCT_CHARS[S];else switch(S){case Se.PAL:p=Cn.ALPHA;break;case Se.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h.append(c[b]);break;case Se.TEXT_COMPACTION_MODE_LATCH:p=Cn.ALPHA;break}break;case Cn.ALPHA_SHIFT:if(p=y,S<26)T=String.fromCharCode(65+S);else switch(S){case 26:T=" ";break;case Se.TEXT_COMPACTION_MODE_LATCH:p=Cn.ALPHA;break}break;case Cn.PUNCT_SHIFT:if(p=y,S<Se.PAL)T=Se.PUNCT_CHARS[S];else switch(S){case Se.PAL:p=Cn.ALPHA;break;case Se.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h.append(c[b]);break;case Se.TEXT_COMPACTION_MODE_LATCH:p=Cn.ALPHA;break}break}T!==""&&h.append(T),b++}}static byteCompaction(s,c,u,h,p){let y=new al,b=0,S=0,T=!1;switch(s){case Se.BYTE_COMPACTION_MODE_LATCH:let D=new Int32Array(6),$=c[h++];for(;h<c[0]&&!T;)switch(D[b++]=$,S=900*S+$,$=c[h++],$){case Se.TEXT_COMPACTION_MODE_LATCH:case Se.BYTE_COMPACTION_MODE_LATCH:case Se.NUMERIC_COMPACTION_MODE_LATCH:case Se.BYTE_COMPACTION_MODE_LATCH_6:case Se.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Se.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Se.MACRO_PDF417_TERMINATOR:h--,T=!0;break;default:if(b%5===0&&b>0){for(let X=0;X<6;++X)y.write(Number(xs(S)>>xs(8*(5-X))));S=0,b=0}break}h===c[0]&&$<Se.TEXT_COMPACTION_MODE_LATCH&&(D[b++]=$);for(let X=0;X<b;X++)y.write(D[X]);break;case Se.BYTE_COMPACTION_MODE_LATCH_6:for(;h<c[0]&&!T;){let X=c[h++];if(X<Se.TEXT_COMPACTION_MODE_LATCH)b++,S=900*S+X;else switch(X){case Se.TEXT_COMPACTION_MODE_LATCH:case Se.BYTE_COMPACTION_MODE_LATCH:case Se.NUMERIC_COMPACTION_MODE_LATCH:case Se.BYTE_COMPACTION_MODE_LATCH_6:case Se.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Se.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Se.MACRO_PDF417_TERMINATOR:h--,T=!0;break}if(b%5===0&&b>0){for(let oe=0;oe<6;++oe)y.write(Number(xs(S)>>xs(8*(5-oe))));S=0,b=0}}break}return p.append(Y.decode(y.toByteArray(),u)),h}static numericCompaction(s,c,u){let h=0,p=!1,y=new Int32Array(Se.MAX_NUMERIC_CODEWORDS);for(;c<s[0]&&!p;){let b=s[c++];if(c===s[0]&&(p=!0),b<Se.TEXT_COMPACTION_MODE_LATCH)y[h]=b,h++;else switch(b){case Se.TEXT_COMPACTION_MODE_LATCH:case Se.BYTE_COMPACTION_MODE_LATCH:case Se.BYTE_COMPACTION_MODE_LATCH_6:case Se.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Se.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Se.MACRO_PDF417_TERMINATOR:c--,p=!0;break}(h%Se.MAX_NUMERIC_CODEWORDS===0||b===Se.NUMERIC_COMPACTION_MODE_LATCH||p)&&h>0&&(u.append(Se.decodeBase900toBase10(y,h)),h=0)}return c}static decodeBase900toBase10(s,c){let u=xs(0);for(let p=0;p<c;p++)u+=Se.EXP900[c-p-1]*xs(s[p]);let h=u.toString();if(h.charAt(0)!=="1")throw new z;return h.substring(1)}}Se.TEXT_COMPACTION_MODE_LATCH=900,Se.BYTE_COMPACTION_MODE_LATCH=901,Se.NUMERIC_COMPACTION_MODE_LATCH=902,Se.BYTE_COMPACTION_MODE_LATCH_6=924,Se.ECI_USER_DEFINED=925,Se.ECI_GENERAL_PURPOSE=926,Se.ECI_CHARSET=927,Se.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,Se.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,Se.MACRO_PDF417_TERMINATOR=922,Se.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,Se.MAX_NUMERIC_CODEWORDS=15,Se.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,Se.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,Se.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,Se.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,Se.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,Se.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,Se.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,Se.PL=25,Se.LL=27,Se.AS=27,Se.ML=28,Se.AL=28,Se.PS=29,Se.PAL=29,Se.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,Se.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",Se.EXP900=No()?ha():[],Se.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Ht{constructor(){}static decode(s,c,u,h,p,y,b){let S=new ms(s,c,u,h,p),T=null,D=null,$;for(let ce=!0;;ce=!1){if(c!=null&&(T=Ht.getRowIndicatorColumn(s,S,c,!0,y,b)),h!=null&&(D=Ht.getRowIndicatorColumn(s,S,h,!1,y,b)),$=Ht.merge(T,D),$==null)throw re.getNotFoundInstance();let fe=$.getBoundingBox();if(ce&&fe!=null&&(fe.getMinY()<S.getMinY()||fe.getMaxY()>S.getMaxY()))S=fe;else break}$.setBoundingBox(S);let X=$.getBarcodeColumnCount()+1;$.setDetectionResultColumn(0,T),$.setDetectionResultColumn(X,D);let oe=T!=null;for(let ce=1;ce<=X;ce++){let fe=oe?ce:X-ce;if($.getDetectionResultColumn(fe)!==void 0)continue;let xe;fe===0||fe===X?xe=new ns(S,fe===0):xe=new ys(S),$.setDetectionResultColumn(fe,xe);let Ae=-1,$e=Ae;for(let He=S.getMinY();He<=S.getMaxY();He++){if(Ae=Ht.getStartColumn($,fe,He,oe),Ae<0||Ae>S.getMaxX()){if($e===-1)continue;Ae=$e}let Fe=Ht.detectCodeword(s,S.getMinX(),S.getMaxX(),oe,Ae,He,y,b);Fe!=null&&(xe.setCodeword(He,Fe),$e=Ae,y=Math.min(y,Fe.getWidth()),b=Math.max(b,Fe.getWidth()))}}return Ht.createDecoderResult($)}static merge(s,c){if(s==null&&c==null)return null;let u=Ht.getBarcodeMetadata(s,c);if(u==null)return null;let h=ms.merge(Ht.adjustBoundingBox(s),Ht.adjustBoundingBox(c));return new vr(u,h)}static adjustBoundingBox(s){if(s==null)return null;let c=s.getRowHeights();if(c==null)return null;let u=Ht.getMax(c),h=0;for(let b of c)if(h+=u-b,b>0)break;let p=s.getCodewords();for(let b=0;h>0&&p[b]==null;b++)h--;let y=0;for(let b=c.length-1;b>=0&&(y+=u-c[b],!(c[b]>0));b--);for(let b=p.length-1;y>0&&p[b]==null;b--)y--;return s.getBoundingBox().addMissingRows(h,y,s.isLeft())}static getMax(s){let c=-1;for(let u of s)c=Math.max(c,u);return c}static getBarcodeMetadata(s,c){let u;if(s==null||(u=s.getBarcodeMetadata())==null)return c==null?null:c.getBarcodeMetadata();let h;return c==null||(h=c.getBarcodeMetadata())==null?u:u.getColumnCount()!==h.getColumnCount()&&u.getErrorCorrectionLevel()!==h.getErrorCorrectionLevel()&&u.getRowCount()!==h.getRowCount()?null:u}static getRowIndicatorColumn(s,c,u,h,p,y){let b=new ns(c,h);for(let S=0;S<2;S++){let T=S===0?1:-1,D=Math.trunc(Math.trunc(u.getX()));for(let $=Math.trunc(Math.trunc(u.getY()));$<=c.getMaxY()&&$>=c.getMinY();$+=T){let X=Ht.detectCodeword(s,0,s.getWidth(),h,D,$,p,y);X!=null&&(b.setCodeword($,X),h?D=X.getStartX():D=X.getEndX())}}return b}static adjustCodewordCount(s,c){let u=c[0][1],h=u.getValue(),p=s.getBarcodeColumnCount()*s.getBarcodeRowCount()-Ht.getNumberOfECCodeWords(s.getBarcodeECLevel());if(h.length===0){if(p<1||p>Ct.MAX_CODEWORDS_IN_BARCODE)throw re.getNotFoundInstance();u.setValue(p)}else h[0]!==p&&u.setValue(p)}static createDecoderResult(s){let c=Ht.createBarcodeMatrix(s);Ht.adjustCodewordCount(s,c);let u=new Array,h=new Int32Array(s.getBarcodeRowCount()*s.getBarcodeColumnCount()),p=[],y=new Array;for(let S=0;S<s.getBarcodeRowCount();S++)for(let T=0;T<s.getBarcodeColumnCount();T++){let D=c[S][T+1].getValue(),$=S*s.getBarcodeColumnCount()+T;D.length===0?u.push($):D.length===1?h[$]=D[0]:(y.push($),p.push(D))}let b=new Array(p.length);for(let S=0;S<b.length;S++)b[S]=p[S];return Ht.createDecoderResultFromAmbiguousValues(s.getBarcodeECLevel(),h,Ct.toIntArray(u),Ct.toIntArray(y),b)}static createDecoderResultFromAmbiguousValues(s,c,u,h,p){let y=new Int32Array(h.length),b=100;for(;b-- >0;){for(let S=0;S<y.length;S++)c[h[S]]=p[S][y[S]];try{return Ht.decodeCodewords(c,s,u)}catch(S){if(!(S instanceof N))throw S}if(y.length===0)throw N.getChecksumInstance();for(let S=0;S<y.length;S++)if(y[S]<p[S].length-1){y[S]++;break}else if(y[S]=0,S===y.length-1)throw N.getChecksumInstance()}throw N.getChecksumInstance()}static createBarcodeMatrix(s){let c=Array.from({length:s.getBarcodeRowCount()},()=>new Array(s.getBarcodeColumnCount()+2));for(let h=0;h<c.length;h++)for(let p=0;p<c[h].length;p++)c[h][p]=new Hi;let u=0;for(let h of s.getDetectionResultColumns()){if(h!=null){for(let p of h.getCodewords())if(p!=null){let y=p.getRowNumber();if(y>=0){if(y>=c.length)continue;c[y][u].setValue(p.getValue())}}}u++}return c}static isValidBarcodeColumn(s,c){return c>=0&&c<=s.getBarcodeColumnCount()+1}static getStartColumn(s,c,u,h){let p=h?1:-1,y=null;if(Ht.isValidBarcodeColumn(s,c-p)&&(y=s.getDetectionResultColumn(c-p).getCodeword(u)),y!=null)return h?y.getEndX():y.getStartX();if(y=s.getDetectionResultColumn(c).getCodewordNearby(u),y!=null)return h?y.getStartX():y.getEndX();if(Ht.isValidBarcodeColumn(s,c-p)&&(y=s.getDetectionResultColumn(c-p).getCodewordNearby(u)),y!=null)return h?y.getEndX():y.getStartX();let b=0;for(;Ht.isValidBarcodeColumn(s,c-p);){c-=p;for(let S of s.getDetectionResultColumn(c).getCodewords())if(S!=null)return(h?S.getEndX():S.getStartX())+p*b*(S.getEndX()-S.getStartX());b++}return h?s.getBoundingBox().getMinX():s.getBoundingBox().getMaxX()}static detectCodeword(s,c,u,h,p,y,b,S){p=Ht.adjustCodewordStartColumn(s,c,u,h,p,y);let T=Ht.getModuleBitCount(s,c,u,h,p,y);if(T==null)return null;let D,$=Qe.sum(T);if(h)D=p+$;else{for(let ce=0;ce<T.length/2;ce++){let fe=T[ce];T[ce]=T[T.length-1-ce],T[T.length-1-ce]=fe}D=p,p=D-$}if(!Ht.checkCodewordSkew($,b,S))return null;let X=ir.getDecodedValue(T),oe=Ct.getCodeword(X);return oe===-1?null:new Gi(p,D,Ht.getCodewordBucketNumber(X),oe)}static getModuleBitCount(s,c,u,h,p,y){let b=p,S=new Int32Array(8),T=0,D=h?1:-1,$=h;for(;(h?b<u:b>=c)&&T<S.length;)s.get(b,y)===$?(S[T]++,b+=D):(T++,$=!$);return T===S.length||b===(h?u:c)&&T===S.length-1?S:null}static getNumberOfECCodeWords(s){return 2<<s}static adjustCodewordStartColumn(s,c,u,h,p,y){let b=p,S=h?-1:1;for(let T=0;T<2;T++){for(;(h?b>=c:b<u)&&h===s.get(b,y);){if(Math.abs(p-b)>Ht.CODEWORD_SKEW_SIZE)return p;b+=S}S=-S,h=!h}return b}static checkCodewordSkew(s,c,u){return c-Ht.CODEWORD_SKEW_SIZE<=s&&s<=u+Ht.CODEWORD_SKEW_SIZE}static decodeCodewords(s,c,u){if(s.length===0)throw z.getFormatInstance();let h=1<<c+1,p=Ht.correctErrors(s,u,h);Ht.verifyCodewordCount(s,h);let y=Se.decode(s,""+c);return y.setErrorsCorrected(p),y.setErasures(u.length),y}static correctErrors(s,c,u){if(c!=null&&c.length>u/2+Ht.MAX_ERRORS||u<0||u>Ht.MAX_EC_CODEWORDS)throw N.getChecksumInstance();return Ht.errorCorrection.decode(s,u,c)}static verifyCodewordCount(s,c){if(s.length<4)throw z.getFormatInstance();let u=s[0];if(u>s.length)throw z.getFormatInstance();if(u===0)if(c<s.length)s[0]=s.length-c;else throw z.getFormatInstance()}static getBitCountForCodeword(s){let c=new Int32Array(8),u=0,h=c.length-1;for(;!((s&1)!==u&&(u=s&1,h--,h<0));)c[h]++,s>>=1;return c}static getCodewordBucketNumber(s){return s instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(s):this.getCodewordBucketNumber_number(s)}static getCodewordBucketNumber_number(s){return Ht.getCodewordBucketNumber(Ht.getBitCountForCodeword(s))}static getCodewordBucketNumber_Int32Array(s){return(s[0]-s[2]+s[4]-s[6]+9)%9}static toString(s){let c=new ao;for(let u=0;u<s.length;u++){c.format("Row %2d: ",u);for(let h=0;h<s[u].length;h++){let p=s[u][h];p.getValue().length===0?c.format("        ",null):c.format("%4d(%2d)",p.getValue()[0],p.getConfidence(p.getValue()[0]))}c.format("%n")}return c.toString()}}Ht.CODEWORD_SKEW_SIZE=2,Ht.MAX_ERRORS=3,Ht.MAX_EC_CODEWORDS=512,Ht.errorCorrection=new gs;class dr{decode(s,c=null){let u=dr.decode(s,c,!1);if(u==null||u.length===0||u[0]==null)throw re.getNotFoundInstance();return u[0]}decodeMultiple(s,c=null){try{return dr.decode(s,c,!0)}catch(u){throw u instanceof z||u instanceof N?re.getNotFoundInstance():u}}static decode(s,c,u){const h=new Array,p=Tt.detectMultiple(s,c,u);for(const y of p.getPoints()){const b=Ht.decode(p.getBits(),y[4],y[5],y[6],y[7],dr.getMinCodewordWidth(y),dr.getMaxCodewordWidth(y)),S=new Re(b.getText(),b.getRawBytes(),void 0,y,we.PDF_417);S.putMetadata(tt.ERROR_CORRECTION_LEVEL,b.getECLevel());const T=b.getOther();T!=null&&S.putMetadata(tt.PDF417_EXTRA_METADATA,T),h.push(S)}return h.map(y=>y)}static getMaxWidth(s,c){return s==null||c==null?0:Math.trunc(Math.abs(s.getX()-c.getX()))}static getMinWidth(s,c){return s==null||c==null?H.MAX_VALUE:Math.trunc(Math.abs(s.getX()-c.getX()))}static getMaxCodewordWidth(s){return Math.floor(Math.max(Math.max(dr.getMaxWidth(s[0],s[4]),dr.getMaxWidth(s[6],s[2])*Ct.MODULES_IN_CODEWORD/Ct.MODULES_IN_STOP_PATTERN),Math.max(dr.getMaxWidth(s[1],s[5]),dr.getMaxWidth(s[7],s[3])*Ct.MODULES_IN_CODEWORD/Ct.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(s){return Math.floor(Math.min(Math.min(dr.getMinWidth(s[0],s[4]),dr.getMinWidth(s[6],s[2])*Ct.MODULES_IN_CODEWORD/Ct.MODULES_IN_STOP_PATTERN),Math.min(dr.getMinWidth(s[1],s[5]),dr.getMinWidth(s[7],s[3])*Ct.MODULES_IN_CODEWORD/Ct.MODULES_IN_STOP_PATTERN)))}reset(){}}class pa extends m{}pa.kind="ReaderException";class dc{constructor(s,c){this.verbose=s===!0,c&&this.setHints(c)}decode(s,c){return c&&this.setHints(c),this.decodeInternal(s)}decodeWithState(s){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(s)}setHints(s){this.hints=s;const c=!r(s)&&s.get(se.TRY_HARDER)===!0,u=r(s)?null:s.get(se.POSSIBLE_FORMATS),h=new Array;if(!r(u)){const p=u.some(y=>y===we.UPC_A||y===we.UPC_E||y===we.EAN_13||y===we.EAN_8||y===we.CODABAR||y===we.CODE_39||y===we.CODE_93||y===we.CODE_128||y===we.ITF||y===we.RSS_14||y===we.RSS_EXPANDED);p&&!c&&h.push(new gi(s,this.verbose)),u.includes(we.QR_CODE)&&h.push(new Oi),u.includes(we.DATA_MATRIX)&&h.push(new Ii),u.includes(we.AZTEC)&&h.push(new Dt),u.includes(we.PDF_417)&&h.push(new dr),p&&c&&h.push(new gi(s,this.verbose))}h.length===0&&(c||h.push(new gi(s,this.verbose)),h.push(new Oi),h.push(new Ii),h.push(new Dt),h.push(new dr),c&&h.push(new gi(s,this.verbose))),this.readers=h}reset(){if(this.readers!==null)for(const s of this.readers)s.reset()}decodeInternal(s){if(this.readers===null)throw new pa("No readers where selected, nothing can be read.");for(const c of this.readers)try{return c.decode(s,this.hints)}catch(u){if(u instanceof pa)continue}throw new re("No MultiFormat Readers were able to detect the code.")}}class Vs extends me{constructor(s=null,c=500){const u=new dc;u.setHints(s),super(u,c)}decodeBitmap(s){return this.reader.decodeWithState(s)}}class ou extends me{constructor(s=500){super(new dr,s)}}class au extends me{constructor(s=500){super(new Oi,s)}}var ll;(function(G){G[G.ERROR_CORRECTION=0]="ERROR_CORRECTION",G[G.CHARACTER_SET=1]="CHARACTER_SET",G[G.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",G[G.MIN_SIZE=3]="MIN_SIZE",G[G.MAX_SIZE=4]="MAX_SIZE",G[G.MARGIN=5]="MARGIN",G[G.PDF417_COMPACT=6]="PDF417_COMPACT",G[G.PDF417_COMPACTION=7]="PDF417_COMPACTION",G[G.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",G[G.AZTEC_LAYERS=9]="AZTEC_LAYERS",G[G.QR_VERSION=10]="QR_VERSION"})(ll||(ll={}));var hr=ll;class zs{constructor(s){this.field=s,this.cachedGenerators=[],this.cachedGenerators.push(new dt(s,Int32Array.from([1])))}buildGenerator(s){const c=this.cachedGenerators;if(s>=c.length){let u=c[c.length-1];const h=this.field;for(let p=c.length;p<=s;p++){const y=u.multiply(new dt(h,Int32Array.from([1,h.exp(p-1+h.getGeneratorBase())])));c.push(y),u=y}}return c[s]}encode(s,c){if(c===0)throw new A("No error correction bytes");const u=s.length-c;if(u<=0)throw new A("No data bytes provided");const h=this.buildGenerator(c),p=new Int32Array(u);k.arraycopy(s,0,p,0,u);let y=new dt(this.field,p);y=y.multiplyByMonomial(c,1);const S=y.divide(h)[1].getCoefficients(),T=c-S.length;for(let D=0;D<T;D++)s[u+D]=0;k.arraycopy(S,0,s,u+T,S.length)}}class en{constructor(){}static applyMaskPenaltyRule1(s){return en.applyMaskPenaltyRule1Internal(s,!0)+en.applyMaskPenaltyRule1Internal(s,!1)}static applyMaskPenaltyRule2(s){let c=0;const u=s.getArray(),h=s.getWidth(),p=s.getHeight();for(let y=0;y<p-1;y++){const b=u[y];for(let S=0;S<h-1;S++){const T=b[S];T===b[S+1]&&T===u[y+1][S]&&T===u[y+1][S+1]&&c++}}return en.N2*c}static applyMaskPenaltyRule3(s){let c=0;const u=s.getArray(),h=s.getWidth(),p=s.getHeight();for(let y=0;y<p;y++)for(let b=0;b<h;b++){const S=u[y];b+6<h&&S[b]===1&&S[b+1]===0&&S[b+2]===1&&S[b+3]===1&&S[b+4]===1&&S[b+5]===0&&S[b+6]===1&&(en.isWhiteHorizontal(S,b-4,b)||en.isWhiteHorizontal(S,b+7,b+11))&&c++,y+6<p&&u[y][b]===1&&u[y+1][b]===0&&u[y+2][b]===1&&u[y+3][b]===1&&u[y+4][b]===1&&u[y+5][b]===0&&u[y+6][b]===1&&(en.isWhiteVertical(u,b,y-4,y)||en.isWhiteVertical(u,b,y+7,y+11))&&c++}return c*en.N3}static isWhiteHorizontal(s,c,u){c=Math.max(c,0),u=Math.min(u,s.length);for(let h=c;h<u;h++)if(s[h]===1)return!1;return!0}static isWhiteVertical(s,c,u,h){u=Math.max(u,0),h=Math.min(h,s.length);for(let p=u;p<h;p++)if(s[p][c]===1)return!1;return!0}static applyMaskPenaltyRule4(s){let c=0;const u=s.getArray(),h=s.getWidth(),p=s.getHeight();for(let S=0;S<p;S++){const T=u[S];for(let D=0;D<h;D++)T[D]===1&&c++}const y=s.getHeight()*s.getWidth();return Math.floor(Math.abs(c*2-y)*10/y)*en.N4}static getDataMaskBit(s,c,u){let h,p;switch(s){case 0:h=u+c&1;break;case 1:h=u&1;break;case 2:h=c%3;break;case 3:h=(u+c)%3;break;case 4:h=Math.floor(u/2)+Math.floor(c/3)&1;break;case 5:p=u*c,h=(p&1)+p%3;break;case 6:p=u*c,h=(p&1)+p%3&1;break;case 7:p=u*c,h=p%3+(u+c&1)&1;break;default:throw new A("Invalid mask pattern: "+s)}return h===0}static applyMaskPenaltyRule1Internal(s,c){let u=0;const h=c?s.getHeight():s.getWidth(),p=c?s.getWidth():s.getHeight(),y=s.getArray();for(let b=0;b<h;b++){let S=0,T=-1;for(let D=0;D<p;D++){const $=c?y[b][D]:y[D][b];$===T?S++:(S>=5&&(u+=en.N1+(S-5)),S=1,T=$)}S>=5&&(u+=en.N1+(S-5))}return u}}en.N1=3,en.N2=3,en.N3=40,en.N4=10;class ga{constructor(s,c){this.width=s,this.height=c;const u=new Array(c);for(let h=0;h!==c;h++)u[h]=new Uint8Array(s);this.bytes=u}getHeight(){return this.height}getWidth(){return this.width}get(s,c){return this.bytes[c][s]}getArray(){return this.bytes}setNumber(s,c,u){this.bytes[c][s]=u}setBoolean(s,c,u){this.bytes[c][s]=u?1:0}clear(s){for(const c of this.bytes)Z.fill(c,s)}equals(s){if(!(s instanceof ga))return!1;const c=s;if(this.width!==c.width||this.height!==c.height)return!1;for(let u=0,h=this.height;u<h;++u){const p=this.bytes[u],y=c.bytes[u];for(let b=0,S=this.width;b<S;++b)if(p[b]!==y[b])return!1}return!0}toString(){const s=new q;for(let c=0,u=this.height;c<u;++c){const h=this.bytes[c];for(let p=0,y=this.width;p<y;++p)switch(h[p]){case 0:s.append(" 0");break;case 1:s.append(" 1");break;default:s.append("  ");break}s.append(`
`)}return s.toString()}}class js{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const s=new q;return s.append(`<<
`),s.append(" mode: "),s.append(this.mode?this.mode.toString():"null"),s.append(`
 ecLevel: `),s.append(this.ecLevel?this.ecLevel.toString():"null"),s.append(`
 version: `),s.append(this.version?this.version.toString():"null"),s.append(`
 maskPattern: `),s.append(this.maskPattern.toString()),this.matrix?(s.append(`
 matrix:
`),s.append(this.matrix.toString())):s.append(`
 matrix: null
`),s.append(`>>
`),s.toString()}setMode(s){this.mode=s}setECLevel(s){this.ecLevel=s}setVersion(s){this.version=s}setMaskPattern(s){this.maskPattern=s}setMatrix(s){this.matrix=s}static isValidMaskPattern(s){return s>=0&&s<js.NUM_MASK_PATTERNS}}js.NUM_MASK_PATTERNS=8;class rn extends m{}rn.kind="WriterException";class v{constructor(){}static clearMatrix(s){s.clear(255)}static buildMatrix(s,c,u,h,p){v.clearMatrix(p),v.embedBasicPatterns(u,p),v.embedTypeInfo(c,h,p),v.maybeEmbedVersionInfo(u,p),v.embedDataBits(s,h,p)}static embedBasicPatterns(s,c){v.embedPositionDetectionPatternsAndSeparators(c),v.embedDarkDotAtLeftBottomCorner(c),v.maybeEmbedPositionAdjustmentPatterns(s,c),v.embedTimingPatterns(c)}static embedTypeInfo(s,c,u){const h=new W;v.makeTypeInfoBits(s,c,h);for(let p=0,y=h.getSize();p<y;++p){const b=h.get(h.getSize()-1-p),S=v.TYPE_INFO_COORDINATES[p],T=S[0],D=S[1];if(u.setBoolean(T,D,b),p<8){const $=u.getWidth()-p-1;u.setBoolean($,8,b)}else{const X=u.getHeight()-7+(p-8);u.setBoolean(8,X,b)}}}static maybeEmbedVersionInfo(s,c){if(s.getVersionNumber()<7)return;const u=new W;v.makeVersionInfoBits(s,u);let h=17;for(let p=0;p<6;++p)for(let y=0;y<3;++y){const b=u.get(h);h--,c.setBoolean(p,c.getHeight()-11+y,b),c.setBoolean(c.getHeight()-11+y,p,b)}}static embedDataBits(s,c,u){let h=0,p=-1,y=u.getWidth()-1,b=u.getHeight()-1;for(;y>0;){for(y===6&&(y-=1);b>=0&&b<u.getHeight();){for(let S=0;S<2;++S){const T=y-S;if(!v.isEmpty(u.get(T,b)))continue;let D;h<s.getSize()?(D=s.get(h),++h):D=!1,c!==255&&en.getDataMaskBit(c,T,b)&&(D=!D),u.setBoolean(T,b,D)}b+=p}p=-p,b+=p,y-=2}if(h!==s.getSize())throw new rn("Not all bits consumed: "+h+"/"+s.getSize())}static findMSBSet(s){return 32-H.numberOfLeadingZeros(s)}static calculateBCHCode(s,c){if(c===0)throw new A("0 polynomial");const u=v.findMSBSet(c);for(s<<=u-1;v.findMSBSet(s)>=u;)s^=c<<v.findMSBSet(s)-u;return s}static makeTypeInfoBits(s,c,u){if(!js.isValidMaskPattern(c))throw new rn("Invalid mask pattern");const h=s.getBits()<<3|c;u.appendBits(h,5);const p=v.calculateBCHCode(h,v.TYPE_INFO_POLY);u.appendBits(p,10);const y=new W;if(y.appendBits(v.TYPE_INFO_MASK_PATTERN,15),u.xor(y),u.getSize()!==15)throw new rn("should not happen but we got: "+u.getSize())}static makeVersionInfoBits(s,c){c.appendBits(s.getVersionNumber(),6);const u=v.calculateBCHCode(s.getVersionNumber(),v.VERSION_INFO_POLY);if(c.appendBits(u,12),c.getSize()!==18)throw new rn("should not happen but we got: "+c.getSize())}static isEmpty(s){return s===255}static embedTimingPatterns(s){for(let c=8;c<s.getWidth()-8;++c){const u=(c+1)%2;v.isEmpty(s.get(c,6))&&s.setNumber(c,6,u),v.isEmpty(s.get(6,c))&&s.setNumber(6,c,u)}}static embedDarkDotAtLeftBottomCorner(s){if(s.get(8,s.getHeight()-8)===0)throw new rn;s.setNumber(8,s.getHeight()-8,1)}static embedHorizontalSeparationPattern(s,c,u){for(let h=0;h<8;++h){if(!v.isEmpty(u.get(s+h,c)))throw new rn;u.setNumber(s+h,c,0)}}static embedVerticalSeparationPattern(s,c,u){for(let h=0;h<7;++h){if(!v.isEmpty(u.get(s,c+h)))throw new rn;u.setNumber(s,c+h,0)}}static embedPositionAdjustmentPattern(s,c,u){for(let h=0;h<5;++h){const p=v.POSITION_ADJUSTMENT_PATTERN[h];for(let y=0;y<5;++y)u.setNumber(s+y,c+h,p[y])}}static embedPositionDetectionPattern(s,c,u){for(let h=0;h<7;++h){const p=v.POSITION_DETECTION_PATTERN[h];for(let y=0;y<7;++y)u.setNumber(s+y,c+h,p[y])}}static embedPositionDetectionPatternsAndSeparators(s){const c=v.POSITION_DETECTION_PATTERN[0].length;v.embedPositionDetectionPattern(0,0,s),v.embedPositionDetectionPattern(s.getWidth()-c,0,s),v.embedPositionDetectionPattern(0,s.getWidth()-c,s);const u=8;v.embedHorizontalSeparationPattern(0,u-1,s),v.embedHorizontalSeparationPattern(s.getWidth()-u,u-1,s),v.embedHorizontalSeparationPattern(0,s.getWidth()-u,s);const h=7;v.embedVerticalSeparationPattern(h,0,s),v.embedVerticalSeparationPattern(s.getHeight()-h-1,0,s),v.embedVerticalSeparationPattern(h,s.getHeight()-h,s)}static maybeEmbedPositionAdjustmentPatterns(s,c){if(s.getVersionNumber()<2)return;const u=s.getVersionNumber()-1,h=v.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[u];for(let p=0,y=h.length;p!==y;p++){const b=h[p];if(b>=0)for(let S=0;S!==y;S++){const T=h[S];T>=0&&v.isEmpty(c.get(T,b))&&v.embedPositionAdjustmentPattern(T-2,b-2,c)}}}}v.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),v.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),v.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),v.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),v.VERSION_INFO_POLY=7973,v.TYPE_INFO_POLY=1335,v.TYPE_INFO_MASK_PATTERN=21522;class R{constructor(s,c){this.dataBytes=s,this.errorCorrectionBytes=c}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class B{constructor(){}static calculateMaskPenalty(s){return en.applyMaskPenaltyRule1(s)+en.applyMaskPenaltyRule2(s)+en.applyMaskPenaltyRule3(s)+en.applyMaskPenaltyRule4(s)}static encode(s,c,u=null){let h=B.DEFAULT_BYTE_MODE_ENCODING;const p=u!==null&&u.get(hr.CHARACTER_SET)!==void 0;p&&(h=u.get(hr.CHARACTER_SET).toString());const y=this.chooseMode(s,h),b=new W;if(y===Et.BYTE&&(p||B.DEFAULT_BYTE_MODE_ENCODING!==h)){const He=F.getCharacterSetECIByName(h);He!==void 0&&this.appendECI(He,b)}this.appendModeInfo(y,b);const S=new W;this.appendBytes(s,y,S,h);let T;if(u!==null&&u.get(hr.QR_VERSION)!==void 0){const He=Number.parseInt(u.get(hr.QR_VERSION).toString(),10);T=pt.getVersionForNumber(He);const Fe=this.calculateBitsNeeded(y,b,S,T);if(!this.willFit(Fe,T,c))throw new rn("Data too big for requested version")}else T=this.recommendVersion(c,y,b,S);const D=new W;D.appendBitArray(b);const $=y===Et.BYTE?S.getSizeInBytes():s.length;this.appendLengthInfo($,T,y,D),D.appendBitArray(S);const X=T.getECBlocksForLevel(c),oe=T.getTotalCodewords()-X.getTotalECCodewords();this.terminateBits(oe,D);const ce=this.interleaveWithECBytes(D,T.getTotalCodewords(),oe,X.getNumBlocks()),fe=new js;fe.setECLevel(c),fe.setMode(y),fe.setVersion(T);const xe=T.getDimensionForVersion(),Ae=new ga(xe,xe),$e=this.chooseMaskPattern(ce,c,T,Ae);return fe.setMaskPattern($e),v.buildMatrix(ce,c,T,$e,Ae),fe.setMatrix(Ae),fe}static recommendVersion(s,c,u,h){const p=this.calculateBitsNeeded(c,u,h,pt.getVersionForNumber(1)),y=this.chooseVersion(p,s),b=this.calculateBitsNeeded(c,u,h,y);return this.chooseVersion(b,s)}static calculateBitsNeeded(s,c,u,h){return c.getSize()+s.getCharacterCountBits(h)+u.getSize()}static getAlphanumericCode(s){return s<B.ALPHANUMERIC_TABLE.length?B.ALPHANUMERIC_TABLE[s]:-1}static chooseMode(s,c=null){if(F.SJIS.getName()===c&&this.isOnlyDoubleByteKanji(s))return Et.KANJI;let u=!1,h=!1;for(let p=0,y=s.length;p<y;++p){const b=s.charAt(p);if(B.isDigit(b))u=!0;else if(this.getAlphanumericCode(b.charCodeAt(0))!==-1)h=!0;else return Et.BYTE}return h?Et.ALPHANUMERIC:u?Et.NUMERIC:Et.BYTE}static isOnlyDoubleByteKanji(s){let c;try{c=Y.encode(s,F.SJIS)}catch{return!1}const u=c.length;if(u%2!==0)return!1;for(let h=0;h<u;h+=2){const p=c[h]&255;if((p<129||p>159)&&(p<224||p>235))return!1}return!0}static chooseMaskPattern(s,c,u,h){let p=Number.MAX_SAFE_INTEGER,y=-1;for(let b=0;b<js.NUM_MASK_PATTERNS;b++){v.buildMatrix(s,c,u,b,h);let S=this.calculateMaskPenalty(h);S<p&&(p=S,y=b)}return y}static chooseVersion(s,c){for(let u=1;u<=40;u++){const h=pt.getVersionForNumber(u);if(B.willFit(s,h,c))return h}throw new rn("Data too big")}static willFit(s,c,u){const h=c.getTotalCodewords(),y=c.getECBlocksForLevel(u).getTotalECCodewords(),b=h-y,S=(s+7)/8;return b>=S}static terminateBits(s,c){const u=s*8;if(c.getSize()>u)throw new rn("data bits cannot fit in the QR Code"+c.getSize()+" > "+u);for(let y=0;y<4&&c.getSize()<u;++y)c.appendBit(!1);const h=c.getSize()&7;if(h>0)for(let y=h;y<8;y++)c.appendBit(!1);const p=s-c.getSizeInBytes();for(let y=0;y<p;++y)c.appendBits((y&1)===0?236:17,8);if(c.getSize()!==u)throw new rn("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(s,c,u,h,p,y){if(h>=u)throw new rn("Block ID too large");const b=s%u,S=u-b,T=Math.floor(s/u),D=T+1,$=Math.floor(c/u),X=$+1,oe=T-$,ce=D-X;if(oe!==ce)throw new rn("EC bytes mismatch");if(u!==S+b)throw new rn("RS blocks mismatch");if(s!==($+oe)*S+(X+ce)*b)throw new rn("Total bytes mismatch");h<S?(p[0]=$,y[0]=oe):(p[0]=X,y[0]=ce)}static interleaveWithECBytes(s,c,u,h){if(s.getSizeInBytes()!==u)throw new rn("Number of bits and data bytes does not match");let p=0,y=0,b=0;const S=new Array;for(let D=0;D<h;++D){const $=new Int32Array(1),X=new Int32Array(1);B.getNumDataBytesAndNumECBytesForBlockID(c,u,h,D,$,X);const oe=$[0],ce=new Uint8Array(oe);s.toBytes(8*p,ce,0,oe);const fe=B.generateECBytes(ce,X[0]);S.push(new R(ce,fe)),y=Math.max(y,oe),b=Math.max(b,fe.length),p+=$[0]}if(u!==p)throw new rn("Data bytes does not match offset");const T=new W;for(let D=0;D<y;++D)for(const $ of S){const X=$.getDataBytes();D<X.length&&T.appendBits(X[D],8)}for(let D=0;D<b;++D)for(const $ of S){const X=$.getErrorCorrectionBytes();D<X.length&&T.appendBits(X[D],8)}if(c!==T.getSizeInBytes())throw new rn("Interleaving error: "+c+" and "+T.getSizeInBytes()+" differ.");return T}static generateECBytes(s,c){const u=s.length,h=new Int32Array(u+c);for(let y=0;y<u;y++)h[y]=s[y]&255;new zs(rt.QR_CODE_FIELD_256).encode(h,c);const p=new Uint8Array(c);for(let y=0;y<c;y++)p[y]=h[u+y];return p}static appendModeInfo(s,c){c.appendBits(s.getBits(),4)}static appendLengthInfo(s,c,u,h){const p=u.getCharacterCountBits(c);if(s>=1<<p)throw new rn(s+" is bigger than "+((1<<p)-1));h.appendBits(s,p)}static appendBytes(s,c,u,h){switch(c){case Et.NUMERIC:B.appendNumericBytes(s,u);break;case Et.ALPHANUMERIC:B.appendAlphanumericBytes(s,u);break;case Et.BYTE:B.append8BitBytes(s,u,h);break;case Et.KANJI:B.appendKanjiBytes(s,u);break;default:throw new rn("Invalid mode: "+c)}}static getDigit(s){return s.charCodeAt(0)-48}static isDigit(s){const c=B.getDigit(s);return c>=0&&c<=9}static appendNumericBytes(s,c){const u=s.length;let h=0;for(;h<u;){const p=B.getDigit(s.charAt(h));if(h+2<u){const y=B.getDigit(s.charAt(h+1)),b=B.getDigit(s.charAt(h+2));c.appendBits(p*100+y*10+b,10),h+=3}else if(h+1<u){const y=B.getDigit(s.charAt(h+1));c.appendBits(p*10+y,7),h+=2}else c.appendBits(p,4),h++}}static appendAlphanumericBytes(s,c){const u=s.length;let h=0;for(;h<u;){const p=B.getAlphanumericCode(s.charCodeAt(h));if(p===-1)throw new rn;if(h+1<u){const y=B.getAlphanumericCode(s.charCodeAt(h+1));if(y===-1)throw new rn;c.appendBits(p*45+y,11),h+=2}else c.appendBits(p,6),h++}}static append8BitBytes(s,c,u){let h;try{h=Y.encode(s,u)}catch(p){throw new rn(p)}for(let p=0,y=h.length;p!==y;p++){const b=h[p];c.appendBits(b,8)}}static appendKanjiBytes(s,c){let u;try{u=Y.encode(s,F.SJIS)}catch(p){throw new rn(p)}const h=u.length;for(let p=0;p<h;p+=2){const y=u[p]&255,b=u[p+1]&255,S=y<<8&4294967295|b;let T=-1;if(S>=33088&&S<=40956?T=S-33088:S>=57408&&S<=60351&&(T=S-49472),T===-1)throw new rn("Invalid byte sequence");const D=(T>>8)*192+(T&255);c.appendBits(D,13)}}static appendECI(s,c){c.appendBits(Et.ECI.getBits(),4),c.appendBits(s.getValue(),8)}}B.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),B.DEFAULT_BYTE_MODE_ENCODING=F.UTF8.getName();class ee{write(s,c,u,h=null){if(s.length===0)throw new A("Found empty contents");if(c<0||u<0)throw new A("Requested dimensions are too small: "+c+"x"+u);let p=Yt.L,y=ee.QUIET_ZONE_SIZE;h!==null&&(h.get(hr.ERROR_CORRECTION)!==void 0&&(p=Yt.fromString(h.get(hr.ERROR_CORRECTION).toString())),h.get(hr.MARGIN)!==void 0&&(y=Number.parseInt(h.get(hr.MARGIN).toString(),10)));const b=B.encode(s,p,h);return this.renderResult(b,c,u,y)}writeToDom(s,c,u,h,p=null){typeof s=="string"&&(s=document.querySelector(s));const y=this.write(c,u,h,p);s&&s.appendChild(y)}renderResult(s,c,u,h){const p=s.getMatrix();if(p===null)throw new Mt;const y=p.getWidth(),b=p.getHeight(),S=y+h*2,T=b+h*2,D=Math.max(c,S),$=Math.max(u,T),X=Math.min(Math.floor(D/S),Math.floor($/T)),oe=Math.floor((D-y*X)/2),ce=Math.floor(($-b*X)/2),fe=this.createSVGElement(D,$);for(let xe=0,Ae=ce;xe<b;xe++,Ae+=X)for(let $e=0,He=oe;$e<y;$e++,He+=X)if(p.get($e,xe)===1){const Fe=this.createSvgRectElement(He,Ae,X,X);fe.appendChild(Fe)}return fe}createSVGElement(s,c){const u=document.createElementNS(ee.SVG_NS,"svg");return u.setAttributeNS(null,"height",s.toString()),u.setAttributeNS(null,"width",c.toString()),u}createSvgRectElement(s,c,u,h){const p=document.createElementNS(ee.SVG_NS,"rect");return p.setAttributeNS(null,"x",s.toString()),p.setAttributeNS(null,"y",c.toString()),p.setAttributeNS(null,"height",u.toString()),p.setAttributeNS(null,"width",h.toString()),p.setAttributeNS(null,"fill","#000000"),p}}ee.QUIET_ZONE_SIZE=4,ee.SVG_NS="http://www.w3.org/2000/svg";class ye{encode(s,c,u,h,p){if(s.length===0)throw new A("Found empty contents");if(c!==we.QR_CODE)throw new A("Can only encode QR_CODE, but got "+c);if(u<0||h<0)throw new A(`Requested dimensions are too small: ${u}x${h}`);let y=Yt.L,b=ye.QUIET_ZONE_SIZE;p!==null&&(p.get(hr.ERROR_CORRECTION)!==void 0&&(y=Yt.fromString(p.get(hr.ERROR_CORRECTION).toString())),p.get(hr.MARGIN)!==void 0&&(b=Number.parseInt(p.get(hr.MARGIN).toString(),10)));const S=B.encode(s,y,p);return ye.renderResult(S,u,h,b)}static renderResult(s,c,u,h){const p=s.getMatrix();if(p===null)throw new Mt;const y=p.getWidth(),b=p.getHeight(),S=y+h*2,T=b+h*2,D=Math.max(c,S),$=Math.max(u,T),X=Math.min(Math.floor(D/S),Math.floor($/T)),oe=Math.floor((D-y*X)/2),ce=Math.floor(($-b*X)/2),fe=new ue(D,$);for(let xe=0,Ae=ce;xe<b;xe++,Ae+=X)for(let $e=0,He=oe;$e<y;$e++,He+=X)p.get($e,xe)===1&&fe.setRegion(He,Ae,X,X);return fe}}ye.QUIET_ZONE_SIZE=4;class _e{encode(s,c,u,h,p){let y;switch(c){case we.QR_CODE:y=new ye;break;default:throw new A("No encoder available for format "+c)}return y.encode(s,c,u,h,p)}}class qe extends Ne{constructor(s,c,u,h,p,y,b,S){if(super(y,b),this.yuvData=s,this.dataWidth=c,this.dataHeight=u,this.left=h,this.top=p,h+y>c||p+b>u)throw new A("Crop rectangle does not fit within image data.");S&&this.reverseHorizontal(y,b)}getRow(s,c){if(s<0||s>=this.getHeight())throw new A("Requested row is outside the image: "+s);const u=this.getWidth();(c==null||c.length<u)&&(c=new Uint8ClampedArray(u));const h=(s+this.top)*this.dataWidth+this.left;return k.arraycopy(this.yuvData,h,c,0,u),c}getMatrix(){const s=this.getWidth(),c=this.getHeight();if(s===this.dataWidth&&c===this.dataHeight)return this.yuvData;const u=s*c,h=new Uint8ClampedArray(u);let p=this.top*this.dataWidth+this.left;if(s===this.dataWidth)return k.arraycopy(this.yuvData,p,h,0,u),h;for(let y=0;y<c;y++){const b=y*s;k.arraycopy(this.yuvData,p,h,b,s),p+=this.dataWidth}return h}isCropSupported(){return!0}crop(s,c,u,h){return new qe(this.yuvData,this.dataWidth,this.dataHeight,this.left+s,this.top+c,u,h,!1)}renderThumbnail(){const s=this.getWidth()/qe.THUMBNAIL_SCALE_FACTOR,c=this.getHeight()/qe.THUMBNAIL_SCALE_FACTOR,u=new Int32Array(s*c),h=this.yuvData;let p=this.top*this.dataWidth+this.left;for(let y=0;y<c;y++){const b=y*s;for(let S=0;S<s;S++){const T=h[p+S*qe.THUMBNAIL_SCALE_FACTOR]&255;u[b+S]=4278190080|T*65793}p+=this.dataWidth*qe.THUMBNAIL_SCALE_FACTOR}return u}getThumbnailWidth(){return this.getWidth()/qe.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/qe.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(s,c){const u=this.yuvData;for(let h=0,p=this.top*this.dataWidth+this.left;h<c;h++,p+=this.dataWidth){const y=p+s/2;for(let b=p,S=p+s-1;b<y;b++,S--){const T=u[b];u[b]=u[S],u[S]=T}}}invert(){return new Te(this)}}qe.THUMBNAIL_SCALE_FACTOR=2;class Ft extends Ne{constructor(s,c,u,h,p,y,b){if(super(c,u),this.dataWidth=h,this.dataHeight=p,this.left=y,this.top=b,s.BYTES_PER_ELEMENT===4){const S=c*u,T=new Uint8ClampedArray(S);for(let D=0;D<S;D++){const $=s[D],X=$>>16&255,oe=$>>7&510,ce=$&255;T[D]=(X+oe+ce)/4&255}this.luminances=T}else this.luminances=s;if(h===void 0&&(this.dataWidth=c),p===void 0&&(this.dataHeight=u),y===void 0&&(this.left=0),b===void 0&&(this.top=0),this.left+c>this.dataWidth||this.top+u>this.dataHeight)throw new A("Crop rectangle does not fit within image data.")}getRow(s,c){if(s<0||s>=this.getHeight())throw new A("Requested row is outside the image: "+s);const u=this.getWidth();(c==null||c.length<u)&&(c=new Uint8ClampedArray(u));const h=(s+this.top)*this.dataWidth+this.left;return k.arraycopy(this.luminances,h,c,0,u),c}getMatrix(){const s=this.getWidth(),c=this.getHeight();if(s===this.dataWidth&&c===this.dataHeight)return this.luminances;const u=s*c,h=new Uint8ClampedArray(u);let p=this.top*this.dataWidth+this.left;if(s===this.dataWidth)return k.arraycopy(this.luminances,p,h,0,u),h;for(let y=0;y<c;y++){const b=y*s;k.arraycopy(this.luminances,p,h,b,s),p+=this.dataWidth}return h}isCropSupported(){return!0}crop(s,c,u,h){return new Ft(this.luminances,u,h,this.dataWidth,this.dataHeight,this.left+s,this.top+c)}invert(){return new Te(this)}}class pr extends F{static forName(s){return this.getCharacterSetECIByName(s)}}class vn{}vn.ISO_8859_1=F.ISO8859_1;class Qn{isCompact(){return this.compact}setCompact(s){this.compact=s}getSize(){return this.size}setSize(s){this.size=s}getLayers(){return this.layers}setLayers(s){this.layers=s}getCodeWords(){return this.codeWords}setCodeWords(s){this.codeWords=s}getMatrix(){return this.matrix}setMatrix(s){this.matrix=s}}class $i{static singletonList(s){return[s]}static min(s,c){return s.sort(c)[0]}}class Hs{constructor(s){this.previous=s}getPrevious(){return this.previous}}class ri extends Hs{constructor(s,c,u){super(s),this.value=c,this.bitCount=u}appendTo(s,c){s.appendBits(this.value,this.bitCount)}add(s,c){return new ri(this,s,c)}addBinaryShift(s,c){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new ri(this,s,c)}toString(){let s=this.value&(1<<this.bitCount)-1;return s|=1<<this.bitCount,"<"+H.toBinaryString(s|1<<this.bitCount).substring(1)+">"}}class qi extends ri{constructor(s,c,u){super(s,0,0),this.binaryShiftStart=c,this.binaryShiftByteCount=u}appendTo(s,c){for(let u=0;u<this.binaryShiftByteCount;u++)(u===0||u===31&&this.binaryShiftByteCount<=62)&&(s.appendBits(31,5),this.binaryShiftByteCount>62?s.appendBits(this.binaryShiftByteCount-31,16):u===0?s.appendBits(Math.min(this.binaryShiftByteCount,31),5):s.appendBits(this.binaryShiftByteCount-31,5)),s.appendBits(c[this.binaryShiftStart+u],8)}addBinaryShift(s,c){return new qi(this,s,c)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function ma(G,s,c){return new qi(G,s,c)}function Gs(G,s,c){return new ri(G,s,c)}const cl=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Mo=0,lu=1,rs=2,Pf=3,Es=4,hc=new ri(null,0,0),ya=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function fg(G){for(let s of G)Z.fill(s,-1);return G[Mo][Es]=0,G[lu][Es]=0,G[lu][Mo]=28,G[Pf][Es]=0,G[rs][Es]=0,G[rs][Mo]=15,G}const pc=fg(Z.createInt32Array(6,6));class vs{constructor(s,c,u,h){this.token=s,this.mode=c,this.binaryShiftByteCount=u,this.bitCount=h}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(s,c){let u=this.bitCount,h=this.token;if(s!==this.mode){let y=ya[this.mode][s];h=Gs(h,y&65535,y>>16),u+=y>>16}let p=s===rs?4:5;return h=Gs(h,c,p),new vs(h,s,0,u+p)}shiftAndAppend(s,c){let u=this.token,h=this.mode===rs?4:5;return u=Gs(u,pc[this.mode][s],h),u=Gs(u,c,5),new vs(u,this.mode,0,this.bitCount+h+5)}addBinaryShiftChar(s){let c=this.token,u=this.mode,h=this.bitCount;if(this.mode===Es||this.mode===rs){let b=ya[u][Mo];c=Gs(c,b&65535,b>>16),h+=b>>16,u=Mo}let p=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,y=new vs(c,u,this.binaryShiftByteCount+1,h+p);return y.binaryShiftByteCount===2078&&(y=y.endBinaryShift(s+1)),y}endBinaryShift(s){if(this.binaryShiftByteCount===0)return this;let c=this.token;return c=ma(c,s-this.binaryShiftByteCount,this.binaryShiftByteCount),new vs(c,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(s){let c=this.bitCount+(ya[this.mode][s.mode]>>16);return this.binaryShiftByteCount<s.binaryShiftByteCount?c+=vs.calculateBinaryShiftCost(s)-vs.calculateBinaryShiftCost(this):this.binaryShiftByteCount>s.binaryShiftByteCount&&s.binaryShiftByteCount>0&&(c+=10),c<=s.bitCount}toBitArray(s){let c=[];for(let h=this.endBinaryShift(s.length).token;h!==null;h=h.getPrevious())c.unshift(h);let u=new W;for(const h of c)h.appendTo(u,s);return u}toString(){return O.format("%s bits=%d bytes=%d",cl[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(s){return s.binaryShiftByteCount>62?21:s.binaryShiftByteCount>31?20:s.binaryShiftByteCount>0?10:0}}vs.INITIAL_STATE=new vs(hc,Mo,0,0);function $h(G){const s=O.getCharCode(" "),c=O.getCharCode("."),u=O.getCharCode(",");G[Mo][s]=1;const h=O.getCharCode("Z"),p=O.getCharCode("A");for(let X=p;X<=h;X++)G[Mo][X]=X-p+2;G[lu][s]=1;const y=O.getCharCode("z"),b=O.getCharCode("a");for(let X=b;X<=y;X++)G[lu][X]=X-b+2;G[rs][s]=1;const S=O.getCharCode("9"),T=O.getCharCode("0");for(let X=T;X<=S;X++)G[rs][X]=X-T+2;G[rs][u]=12,G[rs][c]=13;const D=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let X=0;X<D.length;X++)G[Pf][O.getCharCode(D[X])]=X;const $=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let X=0;X<$.length;X++)O.getCharCode($[X])>0&&(G[Es][O.getCharCode($[X])]=X);return G}const gc=$h(Z.createInt32Array(5,256));class xa{constructor(s){this.text=s}encode(){const s=O.getCharCode(" "),c=O.getCharCode(`
`);let u=$i.singletonList(vs.INITIAL_STATE);for(let p=0;p<this.text.length;p++){let y,b=p+1<this.text.length?this.text[p+1]:0;switch(this.text[p]){case O.getCharCode("\r"):y=b===c?2:0;break;case O.getCharCode("."):y=b===s?3:0;break;case O.getCharCode(","):y=b===s?4:0;break;case O.getCharCode(":"):y=b===s?5:0;break;default:y=0}y>0?(u=xa.updateStateListForPair(u,p,y),p++):u=this.updateStateListForChar(u,p)}return $i.min(u,(p,y)=>p.getBitCount()-y.getBitCount()).toBitArray(this.text)}updateStateListForChar(s,c){const u=[];for(let h of s)this.updateStateForChar(h,c,u);return xa.simplifyStates(u)}updateStateForChar(s,c,u){let h=this.text[c]&255,p=gc[s.getMode()][h]>0,y=null;for(let b=0;b<=Es;b++){let S=gc[b][h];if(S>0){if(y==null&&(y=s.endBinaryShift(c)),!p||b===s.getMode()||b===rs){const T=y.latchAndAppend(b,S);u.push(T)}if(!p&&pc[s.getMode()][b]>=0){const T=y.shiftAndAppend(b,S);u.push(T)}}}if(s.getBinaryShiftByteCount()>0||gc[s.getMode()][h]===0){let b=s.addBinaryShiftChar(c);u.push(b)}}static updateStateListForPair(s,c,u){const h=[];for(let p of s)this.updateStateForPair(p,c,u,h);return this.simplifyStates(h)}static updateStateForPair(s,c,u,h){let p=s.endBinaryShift(c);if(h.push(p.latchAndAppend(Es,u)),s.getMode()!==Es&&h.push(p.shiftAndAppend(Es,u)),u===3||u===4){let y=p.latchAndAppend(rs,16-u).latchAndAppend(rs,1);h.push(y)}if(s.getBinaryShiftByteCount()>0){let y=s.addBinaryShiftChar(c).addBinaryShiftChar(c+1);h.push(y)}}static simplifyStates(s){let c=[];for(const u of s){let h=!0;for(const p of c){if(p.isBetterThanOrEqualTo(u)){h=!1;break}u.isBetterThanOrEqualTo(p)&&(c=c.filter(y=>y!==p))}h&&c.push(u)}return c}}class pn{constructor(){}static encodeBytes(s){return pn.encode(s,pn.DEFAULT_EC_PERCENT,pn.DEFAULT_AZTEC_LAYERS)}static encode(s,c,u){let h=new xa(s).encode(),p=H.truncDivision(h.getSize()*c,100)+11,y=h.getSize()+p,b,S,T,D,$;if(u!==pn.DEFAULT_AZTEC_LAYERS){if(b=u<0,S=Math.abs(u),S>(b?pn.MAX_NB_BITS_COMPACT:pn.MAX_NB_BITS))throw new A(O.format("Illegal value %s for layers",u));T=pn.totalBitsInLayer(S,b),D=pn.WORD_SIZE[S];let Fe=T-T%D;if($=pn.stuffBits(h,D),$.getSize()+p>Fe)throw new A("Data to large for user specified layer");if(b&&$.getSize()>D*64)throw new A("Data to large for user specified layer")}else{D=0,$=null;for(let Fe=0;;Fe++){if(Fe>pn.MAX_NB_BITS)throw new A("Data too large for an Aztec code");if(b=Fe<=3,S=b?Fe+1:Fe,T=pn.totalBitsInLayer(S,b),y>T)continue;($==null||D!==pn.WORD_SIZE[S])&&(D=pn.WORD_SIZE[S],$=pn.stuffBits(h,D));let Qt=T-T%D;if(!(b&&$.getSize()>D*64)&&$.getSize()+p<=Qt)break}}let X=pn.generateCheckWords($,T,D),oe=$.getSize()/D,ce=pn.generateModeMessage(b,S,oe),fe=(b?11:14)+S*4,xe=new Int32Array(fe),Ae;if(b){Ae=fe;for(let Fe=0;Fe<xe.length;Fe++)xe[Fe]=Fe}else{Ae=fe+1+2*H.truncDivision(H.truncDivision(fe,2)-1,15);let Fe=H.truncDivision(fe,2),Qt=H.truncDivision(Ae,2);for(let zt=0;zt<Fe;zt++){let Cr=zt+H.truncDivision(zt,15);xe[Fe-zt-1]=Qt-Cr-1,xe[Fe+zt]=Qt+Cr+1}}let $e=new ue(Ae);for(let Fe=0,Qt=0;Fe<S;Fe++){let zt=(S-Fe)*4+(b?9:12);for(let Cr=0;Cr<zt;Cr++){let is=Cr*2;for(let xi=0;xi<2;xi++)X.get(Qt+is+xi)&&$e.set(xe[Fe*2+xi],xe[Fe*2+Cr]),X.get(Qt+zt*2+is+xi)&&$e.set(xe[Fe*2+Cr],xe[fe-1-Fe*2-xi]),X.get(Qt+zt*4+is+xi)&&$e.set(xe[fe-1-Fe*2-xi],xe[fe-1-Fe*2-Cr]),X.get(Qt+zt*6+is+xi)&&$e.set(xe[fe-1-Fe*2-Cr],xe[Fe*2+xi])}Qt+=zt*8}if(pn.drawModeMessage($e,b,Ae,ce),b)pn.drawBullsEye($e,H.truncDivision(Ae,2),5);else{pn.drawBullsEye($e,H.truncDivision(Ae,2),7);for(let Fe=0,Qt=0;Fe<H.truncDivision(fe,2)-1;Fe+=15,Qt+=16)for(let zt=H.truncDivision(Ae,2)&1;zt<Ae;zt+=2)$e.set(H.truncDivision(Ae,2)-Qt,zt),$e.set(H.truncDivision(Ae,2)+Qt,zt),$e.set(zt,H.truncDivision(Ae,2)-Qt),$e.set(zt,H.truncDivision(Ae,2)+Qt)}let He=new Qn;return He.setCompact(b),He.setSize(Ae),He.setLayers(S),He.setCodeWords(oe),He.setMatrix($e),He}static drawBullsEye(s,c,u){for(let h=0;h<u;h+=2)for(let p=c-h;p<=c+h;p++)s.set(p,c-h),s.set(p,c+h),s.set(c-h,p),s.set(c+h,p);s.set(c-u,c-u),s.set(c-u+1,c-u),s.set(c-u,c-u+1),s.set(c+u,c-u),s.set(c+u,c-u+1),s.set(c+u,c+u-1)}static generateModeMessage(s,c,u){let h=new W;return s?(h.appendBits(c-1,2),h.appendBits(u-1,6),h=pn.generateCheckWords(h,28,4)):(h.appendBits(c-1,5),h.appendBits(u-1,11),h=pn.generateCheckWords(h,40,4)),h}static drawModeMessage(s,c,u,h){let p=H.truncDivision(u,2);if(c)for(let y=0;y<7;y++){let b=p-3+y;h.get(y)&&s.set(b,p-5),h.get(y+7)&&s.set(p+5,b),h.get(20-y)&&s.set(b,p+5),h.get(27-y)&&s.set(p-5,b)}else for(let y=0;y<10;y++){let b=p-5+y+H.truncDivision(y,5);h.get(y)&&s.set(b,p-7),h.get(y+10)&&s.set(p+7,b),h.get(29-y)&&s.set(b,p+7),h.get(39-y)&&s.set(p-7,b)}}static generateCheckWords(s,c,u){let h=s.getSize()/u,p=new zs(pn.getGF(u)),y=H.truncDivision(c,u),b=pn.bitsToWords(s,u,y);p.encode(b,y-h);let S=c%u,T=new W;T.appendBits(0,S);for(const D of Array.from(b))T.appendBits(D,u);return T}static bitsToWords(s,c,u){let h=new Int32Array(u),p,y;for(p=0,y=s.getSize()/c;p<y;p++){let b=0;for(let S=0;S<c;S++)b|=s.get(p*c+S)?1<<c-S-1:0;h[p]=b}return h}static getGF(s){switch(s){case 4:return rt.AZTEC_PARAM;case 6:return rt.AZTEC_DATA_6;case 8:return rt.AZTEC_DATA_8;case 10:return rt.AZTEC_DATA_10;case 12:return rt.AZTEC_DATA_12;default:throw new A("Unsupported word size "+s)}}static stuffBits(s,c){let u=new W,h=s.getSize(),p=(1<<c)-2;for(let y=0;y<h;y+=c){let b=0;for(let S=0;S<c;S++)(y+S>=h||s.get(y+S))&&(b|=1<<c-1-S);(b&p)===p?(u.appendBits(b&p,c),y--):(b&p)===0?(u.appendBits(b|1,c),y--):u.appendBits(b,c)}return u}static totalBitsInLayer(s,c){return((c?88:112)+16*s)*s}}pn.DEFAULT_EC_PERCENT=33,pn.DEFAULT_AZTEC_LAYERS=0,pn.MAX_NB_BITS=32,pn.MAX_NB_BITS_COMPACT=4,pn.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class mc{encode(s,c,u,h){return this.encodeWithHints(s,c,u,h,null)}encodeWithHints(s,c,u,h,p){let y=vn.ISO_8859_1,b=pn.DEFAULT_EC_PERCENT,S=pn.DEFAULT_AZTEC_LAYERS;return p!=null&&(p.has(hr.CHARACTER_SET)&&(y=pr.forName(p.get(hr.CHARACTER_SET).toString())),p.has(hr.ERROR_CORRECTION)&&(b=H.parseInt(p.get(hr.ERROR_CORRECTION).toString())),p.has(hr.AZTEC_LAYERS)&&(S=H.parseInt(p.get(hr.AZTEC_LAYERS).toString()))),mc.encodeLayers(s,c,u,h,y,b,S)}static encodeLayers(s,c,u,h,p,y,b){if(c!==we.AZTEC)throw new A("Can only encode AZTEC, but got "+c);let S=pn.encode(O.getBytes(s,p),y,b);return mc.renderResult(S,u,h)}static renderResult(s,c,u){let h=s.getMatrix();if(h==null)throw new Mt;let p=h.getWidth(),y=h.getHeight(),b=Math.max(c,p),S=Math.max(u,y),T=Math.min(b/p,S/y),D=(b-p*T)/2,$=(S-y*T)/2,X=new ue(b,S);for(let oe=0,ce=$;oe<y;oe++,ce+=T)for(let fe=0,xe=D;fe<p;fe++,xe+=T)h.get(fe,oe)&&X.setRegion(xe,ce,T,T);return X}}n.AbstractExpandedDecoder=cr,n.ArgumentException=w,n.ArithmeticException=St,n.AztecCode=Qn,n.AztecCodeReader=Dt,n.AztecCodeWriter=mc,n.AztecDecoder=mt,n.AztecDetector=bt,n.AztecDetectorResult=rr,n.AztecEncoder=pn,n.AztecHighLevelEncoder=xa,n.AztecPoint=ot,n.BarcodeFormat=we,n.Binarizer=M,n.BinaryBitmap=I,n.BitArray=W,n.BitMatrix=ue,n.BitSource=fr,n.BrowserAztecCodeReader=er,n.BrowserBarcodeReader=cc,n.BrowserCodeReader=me,n.BrowserDatamatrixCodeReader=Us,n.BrowserMultiFormatReader=Vs,n.BrowserPDF417Reader=ou,n.BrowserQRCodeReader=au,n.BrowserQRCodeSvgWriter=ee,n.CharacterSetECI=F,n.ChecksumException=N,n.Code128Reader=ke,n.Code39Reader=Xe,n.DataMatrixDecodedBitStreamParser=yi,n.DataMatrixReader=Ii,n.DecodeHintType=se,n.DecoderResult=nt,n.DefaultGridSampler=it,n.DetectorResult=lt,n.EAN13Reader=kt,n.EncodeHintType=hr,n.Exception=m,n.FormatException=z,n.GenericGF=rt,n.GenericGFPoly=dt,n.GlobalHistogramBinarizer=ie,n.GridSampler=Ye,n.GridSamplerInstance=ct,n.HTMLCanvasElementLuminanceSource=We,n.HybridBinarizer=he,n.ITFReader=Je,n.IllegalArgumentException=A,n.IllegalStateException=Mt,n.InvertedLuminanceSource=Te,n.LuminanceSource=Ne,n.MathUtils=Qe,n.MultiFormatOneDReader=gi,n.MultiFormatReader=dc,n.MultiFormatWriter=_e,n.NotFoundException=re,n.OneDReader=wt,n.PDF417DecodedBitStreamParser=Se,n.PDF417DecoderErrorCorrection=gs,n.PDF417Reader=dr,n.PDF417ResultMetadata=lo,n.PerspectiveTransform=Ve,n.PlanarYUVLuminanceSource=qe,n.QRCodeByteMatrix=ga,n.QRCodeDataMask=kr,n.QRCodeDecodedBitStreamParser=Ln,n.QRCodeDecoderErrorCorrectionLevel=Yt,n.QRCodeDecoderFormatInformation=xr,n.QRCodeEncoder=B,n.QRCodeEncoderQRCode=js,n.QRCodeMaskUtil=en,n.QRCodeMatrixUtil=v,n.QRCodeMode=Et,n.QRCodeReader=Oi,n.QRCodeVersion=pt,n.QRCodeWriter=ye,n.RGBLuminanceSource=Ft,n.RSS14Reader=_n,n.RSSExpandedReader=Be,n.ReaderException=pa,n.ReedSolomonDecoder=wn,n.ReedSolomonEncoder=zs,n.ReedSolomonException=ht,n.Result=Re,n.ResultMetadataType=tt,n.ResultPoint=je,n.StringUtils=O,n.UnsupportedOperationException=J,n.VideoInputDevice=ae,n.WhiteRectangleDetector=It,n.WriterException=rn,n.ZXingArrays=Z,n.ZXingCharset=pr,n.ZXingInteger=H,n.ZXingStandardCharsets=vn,n.ZXingStringBuilder=q,n.ZXingStringEncoding=Y,n.ZXingSystem=k,n.createAbstractExpandedDecoder=Ti,Object.defineProperty(n,"__esModule",{value:!0})}))})(Td,Td.exports)),Td.exports}var ar=LO();const PO=x1(ar),kO=S_({__proto__:null,default:PO},[ar]);var Hw=(function(){function t(e,n,r){if(this.formatMap=new Map([[ft.QR_CODE,ar.BarcodeFormat.QR_CODE],[ft.AZTEC,ar.BarcodeFormat.AZTEC],[ft.CODABAR,ar.BarcodeFormat.CODABAR],[ft.CODE_39,ar.BarcodeFormat.CODE_39],[ft.CODE_93,ar.BarcodeFormat.CODE_93],[ft.CODE_128,ar.BarcodeFormat.CODE_128],[ft.DATA_MATRIX,ar.BarcodeFormat.DATA_MATRIX],[ft.MAXICODE,ar.BarcodeFormat.MAXICODE],[ft.ITF,ar.BarcodeFormat.ITF],[ft.EAN_13,ar.BarcodeFormat.EAN_13],[ft.EAN_8,ar.BarcodeFormat.EAN_8],[ft.PDF_417,ar.BarcodeFormat.PDF_417],[ft.RSS_14,ar.BarcodeFormat.RSS_14],[ft.RSS_EXPANDED,ar.BarcodeFormat.RSS_EXPANDED],[ft.UPC_A,ar.BarcodeFormat.UPC_A],[ft.UPC_E,ar.BarcodeFormat.UPC_E],[ft.UPC_EAN_EXTENSION,ar.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!kO)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=n,this.logger=r;var o=this.createZXingFormats(e),l=new Map;l.set(ar.DecodeHintType.POSSIBLE_FORMATS,o),l.set(ar.DecodeHintType.TRY_HARDER,!1),this.hints=l}return t.prototype.decodeAsync=function(e){var n=this;return new Promise(function(r,o){try{r(n.decode(e))}catch(l){o(l)}})},t.prototype.decode=function(e){var n=new ar.MultiFormatReader(this.verbose,this.hints),r=new ar.HTMLCanvasElementLuminanceSource(e),o=new ar.BinaryBitmap(new ar.HybridBinarizer(r)),l=n.decode(o);return{text:l.text,format:j_.create(this.toHtml5QrcodeSupportedFormats(l.format)),debugData:this.createDebugData()}},t.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(n,r,o){e.set(n,r)}),e},t.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},t.prototype.createZXingFormats=function(e){for(var n=[],r=0,o=e;r<o.length;r++){var l=o[r];this.formatMap.has(l)?n.push(this.formatMap.get(l)):this.logger.logError("".concat(l," is not supported by")+"ZXingHtml5QrcodeShim")}return n},t.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},t})(),BO=function(t,e,n,r){function o(l){return l instanceof n?l:new n(function(d){d(l)})}return new(n||(n=Promise))(function(l,d){function x(w){try{m(r.next(w))}catch(A){d(A)}}function E(w){try{m(r.throw(w))}catch(A){d(A)}}function m(w){w.done?l(w.value):o(w.value).then(x,E)}m((r=r.apply(t,e||[])).next())})},UO=function(t,e){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},r,o,l,d;return d={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function x(m){return function(w){return E([m,w])}}function E(m){if(r)throw new TypeError("Generator is already executing.");for(;d&&(d=0,m[0]&&(n=0)),n;)try{if(r=1,o&&(l=m[0]&2?o.return:m[0]?o.throw||((l=o.return)&&l.call(o),0):o.next)&&!(l=l.call(o,m[1])).done)return l;switch(o=0,l&&(m=[m[0]&2,l.value]),m[0]){case 0:case 1:l=m;break;case 4:return n.label++,{value:m[1],done:!1};case 5:n.label++,o=m[1],m=[0];continue;case 7:m=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(m[0]===6||m[0]===2)){n=0;continue}if(m[0]===3&&(!l||m[1]>l[0]&&m[1]<l[3])){n.label=m[1];break}if(m[0]===6&&n.label<l[1]){n.label=l[1],l=m;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(m);break}l[2]&&n.ops.pop(),n.trys.pop();continue}m=e.call(t,n)}catch(w){m=[6,w],o=0}finally{r=l=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},Gw=(function(){function t(e,n,r){if(this.formatMap=new Map([[ft.QR_CODE,"qr_code"],[ft.AZTEC,"aztec"],[ft.CODABAR,"codabar"],[ft.CODE_39,"code_39"],[ft.CODE_93,"code_93"],[ft.CODE_128,"code_128"],[ft.DATA_MATRIX,"data_matrix"],[ft.ITF,"itf"],[ft.EAN_13,"ean_13"],[ft.EAN_8,"ean_8"],[ft.PDF_417,"pdf417"],[ft.UPC_A,"upc_a"],[ft.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!t.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=r;var o=this.createBarcodeDetectorFormats(e);if(this.detector=new BarcodeDetector(o),!this.detector)throw"BarcodeDetector detector not supported"}return t.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var e=new BarcodeDetector({formats:["qr_code"]});return typeof e<"u"},t.prototype.decodeAsync=function(e){return BO(this,void 0,void 0,function(){var n,r;return UO(this,function(o){switch(o.label){case 0:return[4,this.detector.detect(e)];case 1:if(n=o.sent(),!n||n.length===0)throw"No barcode or QR code detected.";return r=this.selectLargestBarcode(n),[2,{text:r.rawValue,format:j_.create(this.toHtml5QrcodeSupportedFormats(r.format)),debugData:this.createDebugData()}]}})})},t.prototype.selectLargestBarcode=function(e){for(var n=null,r=0,o=0,l=e;o<l.length;o++){var d=l[o],x=d.boundingBox.width*d.boundingBox.height;x>r&&(r=x,n=d)}if(!n)throw"No largest barcode found";return n},t.prototype.createBarcodeDetectorFormats=function(e){for(var n=[],r=0,o=e;r<o.length;r++){var l=o[r];this.formatMap.has(l)?n.push(this.formatMap.get(l)):this.logger.warn("".concat(l," is not supported by")+"BarcodeDetectorDelegate")}return{formats:n}},t.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},t.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(n,r,o){e.set(n,r)}),e},t.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},t})(),$w=function(t,e,n,r){function o(l){return l instanceof n?l:new n(function(d){d(l)})}return new(n||(n=Promise))(function(l,d){function x(w){try{m(r.next(w))}catch(A){d(A)}}function E(w){try{m(r.throw(w))}catch(A){d(A)}}function m(w){w.done?l(w.value):o(w.value).then(x,E)}m((r=r.apply(t,e||[])).next())})},qw=function(t,e){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},r,o,l,d;return d={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function x(m){return function(w){return E([m,w])}}function E(m){if(r)throw new TypeError("Generator is already executing.");for(;d&&(d=0,m[0]&&(n=0)),n;)try{if(r=1,o&&(l=m[0]&2?o.return:m[0]?o.throw||((l=o.return)&&l.call(o),0):o.next)&&!(l=l.call(o,m[1])).done)return l;switch(o=0,l&&(m=[m[0]&2,l.value]),m[0]){case 0:case 1:l=m;break;case 4:return n.label++,{value:m[1],done:!1};case 5:n.label++,o=m[1],m=[0];continue;case 7:m=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(m[0]===6||m[0]===2)){n=0;continue}if(m[0]===3&&(!l||m[1]>l[0]&&m[1]<l[3])){n.label=m[1];break}if(m[0]===6&&n.label<l[1]){n.label=l[1],l=m;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(m);break}l[2]&&n.ops.pop(),n.trys.pop();continue}m=e.call(t,n)}catch(w){m=[6,w],o=0}finally{r=l=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},FO=(function(){function t(e,n,r,o){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=r,n&&Gw.isSupported()?(this.primaryDecoder=new Gw(e,r,o),this.secondaryDecoder=new Hw(e,r,o)):this.primaryDecoder=new Hw(e,r,o)}return t.prototype.decodeAsync=function(e){return $w(this,void 0,void 0,function(){var n;return qw(this,function(r){switch(r.label){case 0:n=performance.now(),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(e)];case 2:return[2,r.sent()];case 3:return this.possiblyLogPerformance(n),[7];case 4:return[2]}})})},t.prototype.decodeRobustlyAsync=function(e){return $w(this,void 0,void 0,function(){var n,r;return qw(this,function(o){switch(o.label){case 0:n=performance.now(),o.label=1;case 1:return o.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(e)];case 2:return[2,o.sent()];case 3:if(r=o.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(e)];throw r;case 4:return this.possiblyLogPerformance(n),[7];case 5:return[2]}})})},t.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},t.prototype.possiblyLogPerformance=function(e){if(this.verbose){var n=performance.now()-e;this.executionResults.push(n),this.executions++,this.possiblyFlushPerformanceReport()}},t.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var e=0,n=0,r=this.executionResults;n<r.length;n++){var o=r[n];e+=o}var l=e/this.executionResults.length;console.log("".concat(l," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},t})(),j2=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),V0=function(t,e,n,r){function o(l){return l instanceof n?l:new n(function(d){d(l)})}return new(n||(n=Promise))(function(l,d){function x(w){try{m(r.next(w))}catch(A){d(A)}}function E(w){try{m(r.throw(w))}catch(A){d(A)}}function m(w){w.done?l(w.value):o(w.value).then(x,E)}m((r=r.apply(t,e||[])).next())})},z0=function(t,e){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},r,o,l,d;return d={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function x(m){return function(w){return E([m,w])}}function E(m){if(r)throw new TypeError("Generator is already executing.");for(;d&&(d=0,m[0]&&(n=0)),n;)try{if(r=1,o&&(l=m[0]&2?o.return:m[0]?o.throw||((l=o.return)&&l.call(o),0):o.next)&&!(l=l.call(o,m[1])).done)return l;switch(o=0,l&&(m=[m[0]&2,l.value]),m[0]){case 0:case 1:l=m;break;case 4:return n.label++,{value:m[1],done:!1};case 5:n.label++,o=m[1],m=[0];continue;case 7:m=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(m[0]===6||m[0]===2)){n=0;continue}if(m[0]===3&&(!l||m[1]>l[0]&&m[1]<l[3])){n.label=m[1];break}if(m[0]===6&&n.label<l[1]){n.label=l[1],l=m;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(m);break}l[2]&&n.ops.pop(),n.trys.pop();continue}m=e.call(t,n)}catch(w){m=[6,w],o=0}finally{r=l=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},q_=(function(){function t(e,n){this.name=e,this.track=n}return t.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},t.prototype.apply=function(e){var n={};n[this.name]=e;var r={advanced:[n]};return this.track.applyConstraints(r)},t.prototype.value=function(){var e=this.track.getSettings();if(this.name in e){var n=e[this.name];return n}return null},t})(),VO=(function(t){j2(e,t);function e(n,r){return t.call(this,n,r)||this}return e.prototype.min=function(){return this.getCapabilities().min},e.prototype.max=function(){return this.getCapabilities().max},e.prototype.step=function(){return this.getCapabilities().step},e.prototype.apply=function(n){var r={};r[this.name]=n;var o={advanced:[r]};return this.track.applyConstraints(o)},e.prototype.getCapabilities=function(){this.failIfNotSupported();var n=this.track.getCapabilities(),r=n[this.name];return{min:r.min,max:r.max,step:r.step}},e.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},e})(q_),zO=(function(t){j2(e,t);function e(n){return t.call(this,"zoom",n)||this}return e})(VO),jO=(function(t){j2(e,t);function e(n){return t.call(this,"torch",n)||this}return e})(q_),HO=(function(){function t(e){this.track=e}return t.prototype.zoomFeature=function(){return new zO(this.track)},t.prototype.torchFeature=function(){return new jO(this.track)},t})(),GO=(function(){function t(e,n,r){this.isClosed=!1,this.parentElement=e,this.mediaStream=n,this.callbacks=r,this.surface=this.createVideoElement(this.parentElement.clientWidth),e.append(this.surface)}return t.prototype.createVideoElement=function(e){var n=document.createElement("video");return n.style.width="".concat(e,"px"),n.style.display="block",n.muted=!0,n.setAttribute("muted","true"),n.playsInline=!0,n},t.prototype.setupSurface=function(){var e=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var n=function(){var r=e.surface.clientWidth,o=e.surface.clientHeight;e.callbacks.onRenderSurfaceReady(r,o),e.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.srcObject=this.mediaStream,this.surface.play()},t.create=function(e,n,r,o){return V0(this,void 0,void 0,function(){var l,d;return z0(this,function(x){switch(x.label){case 0:return l=new t(e,n,o),r.aspectRatio?(d={aspectRatio:r.aspectRatio},[4,l.getFirstTrackOrFail().applyConstraints(d)]):[3,2];case 1:x.sent(),x.label=2;case 2:return l.setupSurface(),[2,l]}})})},t.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},t.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},t.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},t.prototype.resume=function(e){this.failIfClosed();var n=this,r=function(){setTimeout(e,200),n.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.play()},t.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},t.prototype.getSurface=function(){return this.failIfClosed(),this.surface},t.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},t.prototype.applyVideoConstraints=function(e){return V0(this,void 0,void 0,function(){return z0(this,function(n){if("aspectRatio"in e)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(e)]})})},t.prototype.close=function(){if(this.isClosed)return Promise.resolve();var e=this;return new Promise(function(n,r){var o=e.mediaStream.getVideoTracks(),l=o.length,d=0;e.mediaStream.getVideoTracks().forEach(function(x){e.mediaStream.removeTrack(x),x.stop(),++d,d>=l&&(e.isClosed=!0,e.parentElement.removeChild(e.surface),n())})})},t.prototype.getCapabilities=function(){return new HO(this.getFirstTrackOrFail())},t})(),$O=(function(){function t(e){this.mediaStream=e}return t.prototype.render=function(e,n,r){return V0(this,void 0,void 0,function(){return z0(this,function(o){return[2,GO.create(e,this.mediaStream,n,r)]})})},t.create=function(e){return V0(this,void 0,void 0,function(){var n,r;return z0(this,function(o){switch(o.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return n={audio:!1,video:e},[4,navigator.mediaDevices.getUserMedia(n)];case 1:return r=o.sent(),[2,new t(r)]}})})},t})(),Ww=function(t,e,n,r){function o(l){return l instanceof n?l:new n(function(d){d(l)})}return new(n||(n=Promise))(function(l,d){function x(w){try{m(r.next(w))}catch(A){d(A)}}function E(w){try{m(r.throw(w))}catch(A){d(A)}}function m(w){w.done?l(w.value):o(w.value).then(x,E)}m((r=r.apply(t,e||[])).next())})},Yw=function(t,e){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},r,o,l,d;return d={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function x(m){return function(w){return E([m,w])}}function E(m){if(r)throw new TypeError("Generator is already executing.");for(;d&&(d=0,m[0]&&(n=0)),n;)try{if(r=1,o&&(l=m[0]&2?o.return:m[0]?o.throw||((l=o.return)&&l.call(o),0):o.next)&&!(l=l.call(o,m[1])).done)return l;switch(o=0,l&&(m=[m[0]&2,l.value]),m[0]){case 0:case 1:l=m;break;case 4:return n.label++,{value:m[1],done:!1};case 5:n.label++,o=m[1],m=[0];continue;case 7:m=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(m[0]===6||m[0]===2)){n=0;continue}if(m[0]===3&&(!l||m[1]>l[0]&&m[1]<l[3])){n.label=m[1];break}if(m[0]===6&&n.label<l[1]){n.label=l[1],l=m;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(m);break}l[2]&&n.ops.pop(),n.trys.pop();continue}m=e.call(t,n)}catch(w){m=[6,w],o=0}finally{r=l=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},qO=(function(){function t(){}return t.failIfNotSupported=function(){return Ww(this,void 0,void 0,function(){return Yw(this,function(e){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new t]})})},t.prototype.create=function(e){return Ww(this,void 0,void 0,function(){return Yw(this,function(n){return[2,$O.create(e)]})})},t})(),WO=function(t,e,n,r){function o(l){return l instanceof n?l:new n(function(d){d(l)})}return new(n||(n=Promise))(function(l,d){function x(w){try{m(r.next(w))}catch(A){d(A)}}function E(w){try{m(r.throw(w))}catch(A){d(A)}}function m(w){w.done?l(w.value):o(w.value).then(x,E)}m((r=r.apply(t,e||[])).next())})},YO=function(t,e){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},r,o,l,d;return d={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function x(m){return function(w){return E([m,w])}}function E(m){if(r)throw new TypeError("Generator is already executing.");for(;d&&(d=0,m[0]&&(n=0)),n;)try{if(r=1,o&&(l=m[0]&2?o.return:m[0]?o.throw||((l=o.return)&&l.call(o),0):o.next)&&!(l=l.call(o,m[1])).done)return l;switch(o=0,l&&(m=[m[0]&2,l.value]),m[0]){case 0:case 1:l=m;break;case 4:return n.label++,{value:m[1],done:!1};case 5:n.label++,o=m[1],m=[0];continue;case 7:m=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(m[0]===6||m[0]===2)){n=0;continue}if(m[0]===3&&(!l||m[1]>l[0]&&m[1]<l[3])){n.label=m[1];break}if(m[0]===6&&n.label<l[1]){n.label=l[1],l=m;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(m);break}l[2]&&n.ops.pop(),n.trys.pop();continue}m=e.call(t,n)}catch(w){m=[6,w],o=0}finally{r=l=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},XO=(function(){function t(){}return t.retrieve=function(){if(navigator.mediaDevices)return t.getCamerasFromMediaDevices();var e=MediaStreamTrack;return MediaStreamTrack&&e.getSources?t.getCamerasFromMediaStreamTrack():t.rejectWithError()},t.rejectWithError=function(){var e=Xu.unableToQuerySupportedDevices();return t.isHttpsOrLocalhost()||(e=Xu.insecureContextCameraQueryError()),Promise.reject(e)},t.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var e=location.host.split(":")[0];return e==="127.0.0.1"||e==="localhost"},t.getCamerasFromMediaDevices=function(){return WO(this,void 0,void 0,function(){var e,n,r,o,l,d,x;return YO(this,function(E){switch(E.label){case 0:return e=function(m){for(var w=m.getVideoTracks(),A=0,I=w;A<I.length;A++){var N=I[A];N.enabled=!1,N.stop(),m.removeTrack(N)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return n=E.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(r=E.sent(),o=[],l=0,d=r;l<d.length;l++)x=d[l],x.kind==="videoinput"&&o.push({id:x.deviceId,label:x.label});return e(n),[2,o]}})})},t.getCamerasFromMediaStreamTrack=function(){return new Promise(function(e,n){var r=function(l){for(var d=[],x=0,E=l;x<E.length;x++){var m=E[x];m.kind==="video"&&d.push({id:m.id,label:m.label})}e(d)},o=MediaStreamTrack;o.getSources(r)})},t})(),Rr;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.NOT_STARTED=1]="NOT_STARTED",t[t.SCANNING=2]="SCANNING",t[t.PAUSED=3]="PAUSED"})(Rr||(Rr={}));var KO=(function(){function t(){this.state=Rr.NOT_STARTED,this.onGoingTransactionNewState=Rr.UNKNOWN}return t.prototype.directTransition=function(e){this.failIfTransitionOngoing(),this.validateTransition(e),this.state=e},t.prototype.startTransition=function(e){return this.failIfTransitionOngoing(),this.validateTransition(e),this.onGoingTransactionNewState=e,this},t.prototype.execute=function(){if(this.onGoingTransactionNewState===Rr.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var e=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Rr.UNKNOWN,this.directTransition(e)},t.prototype.cancel=function(){if(this.onGoingTransactionNewState===Rr.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Rr.UNKNOWN},t.prototype.getState=function(){return this.state},t.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Rr.UNKNOWN)throw"Cannot transition to a new state, already under transition"},t.prototype.validateTransition=function(e){switch(this.state){case Rr.UNKNOWN:throw"Transition from unknown is not allowed";case Rr.NOT_STARTED:this.failIfNewStateIs(e,[Rr.PAUSED]);break;case Rr.SCANNING:break;case Rr.PAUSED:break}},t.prototype.failIfNewStateIs=function(e,n){for(var r=0,o=n;r<o.length;r++){var l=o[r];if(e===l)throw"Cannot transition from ".concat(this.state," to ").concat(e)}},t})(),QO=(function(){function t(e){this.stateManager=e}return t.prototype.startTransition=function(e){return this.stateManager.startTransition(e)},t.prototype.directTransition=function(e){this.stateManager.directTransition(e)},t.prototype.getState=function(){return this.stateManager.getState()},t.prototype.canScanFile=function(){return this.stateManager.getState()===Rr.NOT_STARTED},t.prototype.isScanning=function(){return this.stateManager.getState()!==Rr.NOT_STARTED},t.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Rr.SCANNING},t.prototype.isPaused=function(){return this.stateManager.getState()===Rr.PAUSED},t})(),ZO=(function(){function t(){}return t.create=function(){return new QO(new KO)},t})(),JO=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Ts=(function(t){JO(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.DEFAULT_WIDTH=300,e.DEFAULT_WIDTH_OFFSET=2,e.FILE_SCAN_MIN_HEIGHT=300,e.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,e.MIN_QR_BOX_SIZE=50,e.SHADED_LEFT=1,e.SHADED_RIGHT=2,e.SHADED_TOP=3,e.SHADED_BOTTOM=4,e.SHADED_REGION_ELEMENT_ID="qr-shaded-region",e.VERBOSE=!1,e.BORDER_SHADER_DEFAULT_COLOR="#ffffff",e.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",e})(go),e6=(function(){function t(e,n){this.logger=n,this.fps=Ts.SCAN_DEFAULT_FPS,e?(e.fps&&(this.fps=e.fps),this.disableFlip=e.disableFlip===!0,this.qrbox=e.qrbox,this.aspectRatio=e.aspectRatio,this.videoConstraints=e.videoConstraints):this.disableFlip=Ts.DEFAULT_DISABLE_FLIP}return t.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?$_.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},t.prototype.isShadedBoxEnabled=function(){return!Uo(this.qrbox)},t.create=function(e,n){return new t(e,n)},t})(),Xw=(function(){function t(e,n){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.elementId=e,this.verbose=!1;var r;typeof n=="boolean"?this.verbose=n===!0:n&&(r=n,this.verbose=r.verbose===!0,r.experimentalFeatures),this.logger=new G_(this.verbose),this.qrcode=new FO(this.getSupportedFormats(n),this.getUseBarCodeDetectorIfSupported(r),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=ZO.create()}return t.prototype.start=function(e,n,r,o){var l=this;if(!e)throw"cameraIdOrConfig is required";if(!r||typeof r!="function")throw"qrCodeSuccessCallback is required and should be a function.";var d;o?d=o:d=this.verbose?this.logger.log:function(){};var x=e6.create(n,this.logger);this.clearElement();var E=!1;x.videoConstraints&&(x.isMediaStreamConstraintsValid()?E=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var m=E,w=document.getElementById(this.elementId);w.clientWidth?w.clientWidth:Ts.DEFAULT_WIDTH,w.style.position="relative",this.shouldScan=!0,this.element=w;var A=this,I=this.stateManagerProxy.startTransition(Rr.SCANNING);return new Promise(function(N,M){var k=m?x.videoConstraints:A.createVideoConstraints(e);if(!k){I.cancel(),M("videoConstraints should be defined");return}var V={};(!m||x.aspectRatio)&&(V.aspectRatio=x.aspectRatio);var K={onRenderSurfaceReady:function(Z,H){A.setupUi(Z,H,x),A.isScanning=!0,A.foreverScan(x,r,d)}};qO.failIfNotSupported().then(function(Z){Z.create(k).then(function(H){return H.render(l.element,V,K).then(function(W){A.renderedCamera=W,I.execute(),N(null)}).catch(function(W){I.cancel(),M(W)})}).catch(function(H){I.cancel(),M(Xu.errorGettingUserMedia(H))})}).catch(function(Z){I.cancel(),M(Xu.cameraStreamingNotSupported())})})},t.prototype.pause=function(e){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Rr.PAUSED),this.showPausedState(),(Uo(e)||e!==!0)&&(e=!1),e&&this.renderedCamera&&this.renderedCamera.pause()},t.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var e=this,n=function(){e.stateManagerProxy.directTransition(Rr.SCANNING),e.hidePausedState()};if(!this.renderedCamera.isPaused()){n();return}this.renderedCamera.resume(function(){n()})},t.prototype.getState=function(){return this.stateManagerProxy.getState()},t.prototype.stop=function(){var e=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var n=this.stateManagerProxy.startTransition(Rr.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var r=function(){if(e.element){var l=document.getElementById(Ts.SHADED_REGION_ELEMENT_ID);l&&e.element.removeChild(l)}},o=this;return this.renderedCamera.close().then(function(){return o.renderedCamera=null,o.element&&(o.element.removeChild(o.canvasElement),o.canvasElement=null),r(),o.qrRegion&&(o.qrRegion=null),o.context&&(o.context=null),n.execute(),o.hidePausedState(),o.isScanning=!1,Promise.resolve()})},t.prototype.scanFile=function(e,n){return this.scanFileV2(e,n).then(function(r){return r.decodedText})},t.prototype.scanFileV2=function(e,n){var r=this;if(!e||!(e instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Uo(n)&&(n=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(o,l){r.possiblyCloseLastScanImageFile(),r.clearElement(),r.lastScanImageFile=URL.createObjectURL(e);var d=new Image;d.onload=function(){var x=d.width,E=d.height,m=document.getElementById(r.elementId),w=m.clientWidth?m.clientWidth:Ts.DEFAULT_WIDTH,A=Math.max(m.clientHeight?m.clientHeight:E,Ts.FILE_SCAN_MIN_HEIGHT),I=r.computeCanvasDrawConfig(x,E,w,A);if(n){var N=r.createCanvasElement(w,A,"qr-canvas-visible");N.style.display="inline-block",m.appendChild(N);var M=N.getContext("2d");if(!M)throw"Unable to get 2d context from canvas";M.canvas.width=w,M.canvas.height=A,M.drawImage(d,0,0,x,E,I.x,I.y,I.width,I.height)}var k=Ts.FILE_SCAN_HIDDEN_CANVAS_PADDING,V=Math.max(d.width,I.width),K=Math.max(d.height,I.height),Z=V+2*k,H=K+2*k,W=r.createCanvasElement(Z,H);m.appendChild(W);var te=W.getContext("2d");if(!te)throw"Unable to get 2d context from canvas";te.canvas.width=Z,te.canvas.height=H,te.drawImage(d,0,0,x,E,k,k,V,K);try{r.qrcode.decodeRobustlyAsync(W).then(function(se){o(Vw.createFromQrcodeResult(se))}).catch(l)}catch(se){l("QR code parse error, error = ".concat(se))}},d.onerror=l,d.onabort=l,d.onstalled=l,d.onsuspend=l,d.src=URL.createObjectURL(e)})},t.prototype.clear=function(){this.clearElement()},t.getCameras=function(){return XO.retrieve()},t.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},t.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},t.prototype.applyVideoConstraints=function(e){if(e){if(!$_.isMediaStreamConstraintsValid(e,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(e)},t.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},t.prototype.getSupportedFormats=function(e){var n=[ft.QR_CODE,ft.AZTEC,ft.CODABAR,ft.CODE_39,ft.CODE_93,ft.CODE_128,ft.DATA_MATRIX,ft.MAXICODE,ft.ITF,ft.EAN_13,ft.EAN_8,ft.PDF_417,ft.RSS_14,ft.RSS_EXPANDED,ft.UPC_A,ft.UPC_E,ft.UPC_EAN_EXTENSION];if(!e||typeof e=="boolean"||!e.formatsToSupport)return n;if(!Array.isArray(e.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(e.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var r=[],o=0,l=e.formatsToSupport;o<l.length;o++){var d=l[o];MO(d)?r.push(d):this.logger.warn("Invalid format: ".concat(d," passed in config, ignoring."))}if(r.length===0)throw"None of formatsToSupport match supported values.";return r},t.prototype.getUseBarCodeDetectorIfSupported=function(e){if(Uo(e))return!0;if(!Uo(e.useBarCodeDetectorIfSupported))return e.useBarCodeDetectorIfSupported!==!1;if(Uo(e.experimentalFeatures))return!0;var n=e.experimentalFeatures;return Uo(n.useBarCodeDetectorIfSupported)?!0:n.useBarCodeDetectorIfSupported!==!1},t.prototype.validateQrboxSize=function(e,n,r){var o=this,l=r.qrbox;this.validateQrboxConfig(l);var d=this.toQrdimensions(e,n,l),x=function(m){if(m<Ts.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Ts.MIN_QR_BOX_SIZE,"px.")},E=function(m){return m>e&&(o.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),m=e),m};x(d.width),x(d.height),d.width=E(d.width)},t.prototype.validateQrboxConfig=function(e){if(typeof e!="number"&&typeof e!="function"&&(e.width===void 0||e.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},t.prototype.toQrdimensions=function(e,n,r){if(typeof r=="number")return{width:r,height:r};if(typeof r=="function")try{return r(e,n)}catch(o){throw new Error("qrbox config was passed as a function but it failed with unknown error"+o)}return r},t.prototype.setupUi=function(e,n,r){r.isShadedBoxEnabled()&&this.validateQrboxSize(e,n,r);var o=Uo(r.qrbox)?{width:e,height:n}:r.qrbox;this.validateQrboxConfig(o);var l=this.toQrdimensions(e,n,o);l.height>n&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var d=r.isShadedBoxEnabled()&&l.height<=n,x={x:0,y:0,width:e,height:n},E=d?this.getShadedRegionBounds(e,n,l):x,m=this.createCanvasElement(E.width,E.height),w={willReadFrequently:!0},A=m.getContext("2d",w);A.canvas.width=E.width,A.canvas.height=E.height,this.element.append(m),d&&this.possiblyInsertShadingElement(this.element,e,n,l),this.createScannerPausedUiElement(this.element),this.qrRegion=E,this.context=A,this.canvasElement=m},t.prototype.createScannerPausedUiElement=function(e){var n=document.createElement("div");n.innerText=Xu.scannerPaused(),n.style.display="none",n.style.position="absolute",n.style.top="0px",n.style.zIndex="1",n.style.background="rgba(9, 9, 9, 0.46)",n.style.color="#FFECEC",n.style.textAlign="center",n.style.width="100%",e.appendChild(n),this.scannerPausedUiElement=n},t.prototype.scanContext=function(e,n){var r=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(o){return e(o.text,Vw.createFromQrcodeResult(o)),r.possiblyUpdateShaders(!0),!0}).catch(function(o){r.possiblyUpdateShaders(!1);var l=Xu.codeParseError(o);return n(l,H_.createFrom(l)),!1})},t.prototype.foreverScan=function(e,n,r){var o=this;if(this.shouldScan&&this.renderedCamera){var l=this.renderedCamera.getSurface(),d=l.videoWidth/l.clientWidth,x=l.videoHeight/l.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var E=this.qrRegion.width*d,m=this.qrRegion.height*x,w=this.qrRegion.x*d,A=this.qrRegion.y*x;this.context.drawImage(l,w,A,E,m,0,0,this.qrRegion.width,this.qrRegion.height);var I=function(){o.foreverScanTimeout=setTimeout(function(){o.foreverScan(e,n,r)},o.getTimeoutFps(e.fps))};this.scanContext(n,r).then(function(N){!N&&e.disableFlip!==!0?(o.context.translate(o.context.canvas.width,0),o.context.scale(-1,1),o.scanContext(n,r).finally(function(){I()})):I()}).catch(function(N){o.logger.logError("Error happend while scanning context",N),I()})}},t.prototype.createVideoConstraints=function(e){if(typeof e=="string")return{deviceId:{exact:e}};if(typeof e=="object"){var n="facingMode",r="deviceId",o={user:!0,environment:!0},l="exact",d=function(M){if(M in o)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(M,"'")},x=Object.keys(e);if(x.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(x.length," keys");var E=Object.keys(e)[0];if(E!==n&&E!==r)throw"Only '".concat(n,"' and '").concat(r,"' ")+" are supported for 'cameraIdOrConfig'";if(E===n){var m=e.facingMode;if(typeof m=="string"){if(d(m))return{facingMode:m}}else if(typeof m=="object")if(l in m){if(d(m["".concat(l)]))return{facingMode:{exact:m["".concat(l)]}}}else throw"'facingMode' should be string or object with"+" ".concat(l," as key.");else{var w=typeof m;throw"Invalid type of 'facingMode' = ".concat(w)}}else{var A=e.deviceId;if(typeof A=="string")return{deviceId:A};if(typeof A=="object"){if(l in A)return{deviceId:{exact:A["".concat(l)]}};throw"'deviceId' should be string or object with"+" ".concat(l," as key.")}else{var I=typeof A;throw"Invalid type of 'deviceId' = ".concat(I)}}}var N=typeof e;throw"Invalid type of 'cameraIdOrConfig' = ".concat(N)},t.prototype.computeCanvasDrawConfig=function(e,n,r,o){if(e<=r&&n<=o){var l=(r-e)/2,d=(o-n)/2;return{x:l,y:d,width:e,height:n}}else{var x=e,E=n;return e>r&&(n=r/e*n,e=r),n>o&&(e=o/n*e,n=o),this.logger.log("Image downsampled from "+"".concat(x,"X").concat(E)+" to ".concat(e,"X").concat(n,".")),this.computeCanvasDrawConfig(e,n,r,o)}},t.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var e=document.getElementById(this.elementId);e&&(e.innerHTML="")},t.prototype.possiblyUpdateShaders=function(e){this.qrMatch!==e&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(n){n.style.backgroundColor=e?Ts.BORDER_SHADER_MATCH_COLOR:Ts.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=e)},t.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},t.prototype.createCanvasElement=function(e,n,r){var o=e,l=n,d=document.createElement("canvas");return d.style.width="".concat(o,"px"),d.style.height="".concat(l,"px"),d.style.display="none",d.id=Uo(r)?"qr-canvas":r,d},t.prototype.getShadedRegionBounds=function(e,n,r){if(r.width>e||r.height>n)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(e-r.width)/2,y:(n-r.height)/2,width:r.width,height:r.height}},t.prototype.possiblyInsertShadingElement=function(e,n,r,o){if(!(n-o.width<1||r-o.height<1)){var l=document.createElement("div");l.style.position="absolute";var d=(n-o.width)/2,x=(r-o.height)/2;if(l.style.borderLeft="".concat(d,"px solid rgba(0, 0, 0, 0.48)"),l.style.borderRight="".concat(d,"px solid rgba(0, 0, 0, 0.48)"),l.style.borderTop="".concat(x,"px solid rgba(0, 0, 0, 0.48)"),l.style.borderBottom="".concat(x,"px solid rgba(0, 0, 0, 0.48)"),l.style.boxSizing="border-box",l.style.top="0px",l.style.bottom="0px",l.style.left="0px",l.style.right="0px",l.id="".concat(Ts.SHADED_REGION_ELEMENT_ID),n-o.width<11||r-o.height<11)this.hasBorderShaders=!1;else{var E=5,m=40;this.insertShaderBorders(l,m,E,-E,null,0,!0),this.insertShaderBorders(l,m,E,-E,null,0,!1),this.insertShaderBorders(l,m,E,null,-E,0,!0),this.insertShaderBorders(l,m,E,null,-E,0,!1),this.insertShaderBorders(l,E,m+E,-E,null,-E,!0),this.insertShaderBorders(l,E,m+E,null,-E,-E,!0),this.insertShaderBorders(l,E,m+E,-E,null,-E,!1),this.insertShaderBorders(l,E,m+E,null,-E,-E,!1),this.hasBorderShaders=!0}e.append(l)}},t.prototype.insertShaderBorders=function(e,n,r,o,l,d,x){var E=document.createElement("div");E.style.position="absolute",E.style.backgroundColor=Ts.BORDER_SHADER_DEFAULT_COLOR,E.style.width="".concat(n,"px"),E.style.height="".concat(r,"px"),o!==null&&(E.style.top="".concat(o,"px")),l!==null&&(E.style.bottom="".concat(l,"px")),x?E.style.left="".concat(d,"px"):E.style.right="".concat(d,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(E),e.appendChild(E)},t.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},t.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},t.prototype.getTimeoutFps=function(e){return 1e3/e},t})(),H2="data:image/svg+xml;base64,",t6=H2+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",n6=H2+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",Kw=H2+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",r6="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",Qw=(function(){function t(){}return t.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},t})(),i6=(function(){function t(){this.data=Qw.createDefault();var e=localStorage.getItem(t.LOCAL_STORAGE_KEY);e?this.data=JSON.parse(e):this.reset()}return t.prototype.hasCameraPermissions=function(){return this.data.hasPermission},t.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},t.prototype.setHasPermission=function(e){this.data.hasPermission=e,this.flush()},t.prototype.setLastUsedCameraId=function(e){this.data.lastUsedCameraId=e,this.flush()},t.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},t.prototype.reset=function(){this.data=Qw.createDefault(),this.flush()},t.prototype.flush=function(){localStorage.setItem(t.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},t.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",t})(),s6=(function(){function t(){this.infoDiv=document.createElement("div")}return t.prototype.renderInto=function(e){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=zw.poweredBy();var n=document.createElement("a");n.innerText="ScanApp",n.href="https://scanapp.org",n.target="new",n.style.color="white",this.infoDiv.appendChild(n);var r=document.createElement("br"),o=document.createElement("br");this.infoDiv.appendChild(r),this.infoDiv.appendChild(o);var l=document.createElement("a");l.innerText=zw.reportIssues(),l.href="https://github.com/mebjas/html5-qrcode/issues",l.target="new",l.style.color="white",this.infoDiv.appendChild(l),e.appendChild(this.infoDiv)},t.prototype.show=function(){this.infoDiv.style.display="block"},t.prototype.hide=function(){this.infoDiv.style.display="none"},t})(),o6=(function(){function t(e,n){this.isShowingInfoIcon=!0,this.onTapIn=e,this.onTapOut=n,this.infoIcon=document.createElement("img")}return t.prototype.renderInto=function(e){var n=this;this.infoIcon.alt="Info icon",this.infoIcon.src=Kw,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(r){return n.onHoverIn()},this.infoIcon.onmouseout=function(r){return n.onHoverOut()},this.infoIcon.onclick=function(r){return n.onClick()},e.appendChild(this.infoIcon)},t.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},t.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},t.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=r6,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=Kw,this.infoIcon.style.opacity="0.6")},t})(),a6=(function(){function t(){var e=this;this.infoDiv=new s6,this.infoIcon=new o6(function(){e.infoDiv.show()},function(){e.infoDiv.hide()})}return t.prototype.renderInto=function(e){this.infoDiv.renderInto(e),this.infoIcon.renderInto(e)},t})(),l6=function(t,e,n,r){function o(l){return l instanceof n?l:new n(function(d){d(l)})}return new(n||(n=Promise))(function(l,d){function x(w){try{m(r.next(w))}catch(A){d(A)}}function E(w){try{m(r.throw(w))}catch(A){d(A)}}function m(w){w.done?l(w.value):o(w.value).then(x,E)}m((r=r.apply(t,e||[])).next())})},c6=function(t,e){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},r,o,l,d;return d={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function x(m){return function(w){return E([m,w])}}function E(m){if(r)throw new TypeError("Generator is already executing.");for(;d&&(d=0,m[0]&&(n=0)),n;)try{if(r=1,o&&(l=m[0]&2?o.return:m[0]?o.throw||((l=o.return)&&l.call(o),0):o.next)&&!(l=l.call(o,m[1])).done)return l;switch(o=0,l&&(m=[m[0]&2,l.value]),m[0]){case 0:case 1:l=m;break;case 4:return n.label++,{value:m[1],done:!1};case 5:n.label++,o=m[1],m=[0];continue;case 7:m=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(m[0]===6||m[0]===2)){n=0;continue}if(m[0]===3&&(!l||m[1]>l[0]&&m[1]<l[3])){n.label=m[1];break}if(m[0]===6&&n.label<l[1]){n.label=l[1],l=m;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(m);break}l[2]&&n.ops.pop(),n.trys.pop();continue}m=e.call(t,n)}catch(w){m=[6,w],o=0}finally{r=l=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},Zw=(function(){function t(){}return t.hasPermissions=function(){return l6(this,void 0,void 0,function(){var e,n,r,o;return c6(this,function(l){switch(l.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(e=l.sent(),n=0,r=e;n<r.length;n++)if(o=r[n],o.kind==="videoinput"&&o.label)return[2,!0];return[2,!1]}})})},t})(),Dl=(function(){function t(e){this.supportedScanTypes=this.validateAndReturnScanTypes(e)}return t.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},t.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},t.prototype.isCameraScanRequired=function(){for(var e=0,n=this.supportedScanTypes;e<n.length;e++){var r=n[e];if(t.isCameraScanType(r))return!0}return!1},t.isCameraScanType=function(e){return e===Yl.SCAN_TYPE_CAMERA},t.isFileScanType=function(e){return e===Yl.SCAN_TYPE_FILE},t.prototype.validateAndReturnScanTypes=function(e){if(!e||e.length===0)return go.DEFAULT_SUPPORTED_SCAN_TYPE;var n=go.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(e.length>n)throw"Max ".concat(n," values expected for ")+"supportedScanTypes";for(var r=0,o=e;r<o.length;r++){var l=o[r];if(!go.DEFAULT_SUPPORTED_SCAN_TYPE.includes(l))throw"Unsupported scan type ".concat(l)}return e},t})(),Rs=(function(){function t(){}return t.ALL_ELEMENT_CLASS="html5-qrcode-element",t.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",t.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",t.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",t.TORCH_BUTTON_ID="html5-qrcode-button-torch",t.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",t.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",t.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",t.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",t.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",t.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",t})(),Va=(function(){function t(){}return t.createElement=function(e,n){var r=document.createElement(e);return r.id=n,r.classList.add(Rs.ALL_ELEMENT_CLASS),e==="button"&&r.setAttribute("type","button"),r},t})(),W_=function(t,e,n,r){function o(l){return l instanceof n?l:new n(function(d){d(l)})}return new(n||(n=Promise))(function(l,d){function x(w){try{m(r.next(w))}catch(A){d(A)}}function E(w){try{m(r.throw(w))}catch(A){d(A)}}function m(w){w.done?l(w.value):o(w.value).then(x,E)}m((r=r.apply(t,e||[])).next())})},Y_=function(t,e){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},r,o,l,d;return d={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function x(m){return function(w){return E([m,w])}}function E(m){if(r)throw new TypeError("Generator is already executing.");for(;d&&(d=0,m[0]&&(n=0)),n;)try{if(r=1,o&&(l=m[0]&2?o.return:m[0]?o.throw||((l=o.return)&&l.call(o),0):o.next)&&!(l=l.call(o,m[1])).done)return l;switch(o=0,l&&(m=[m[0]&2,l.value]),m[0]){case 0:case 1:l=m;break;case 4:return n.label++,{value:m[1],done:!1};case 5:n.label++,o=m[1],m=[0];continue;case 7:m=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(m[0]===6||m[0]===2)){n=0;continue}if(m[0]===3&&(!l||m[1]>l[0]&&m[1]<l[3])){n.label=m[1];break}if(m[0]===6&&n.label<l[1]){n.label=l[1],l=m;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(m);break}l[2]&&n.ops.pop(),n.trys.pop();continue}m=e.call(t,n)}catch(w){m=[6,w],o=0}finally{r=l=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},Jw=(function(){function t(e,n,r){this.isTorchOn=!1,this.torchCapability=e,this.buttonController=n,this.onTorchActionFailureCallback=r}return t.prototype.isTorchEnabled=function(){return this.isTorchOn},t.prototype.flipState=function(){return W_(this,void 0,void 0,function(){var e,n;return Y_(this,function(r){switch(r.label){case 0:this.buttonController.disable(),e=!this.isTorchOn,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.torchCapability.apply(e)];case 2:return r.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),e),[3,4];case 3:return n=r.sent(),this.propagateFailure(e,n),this.buttonController.enable(),[3,4];case 4:return[2]}})})},t.prototype.updateUiBasedOnLatestSettings=function(e,n){e===n?(this.buttonController.setText(n?Hn.torchOffButton():Hn.torchOnButton()),this.isTorchOn=n):this.propagateFailure(n),this.buttonController.enable()},t.prototype.propagateFailure=function(e,n){var r=e?Hn.torchOnFailedMessage():Hn.torchOffFailedMessage();n&&(r+="; Error = "+n),this.onTorchActionFailureCallback(r)},t.prototype.reset=function(){this.isTorchOn=!1},t})(),u6=(function(){function t(e,n){this.onTorchActionFailureCallback=n,this.torchButton=Va.createElement("button",Rs.TORCH_BUTTON_ID),this.torchController=new Jw(e,this,n)}return t.prototype.render=function(e,n){var r=this;this.torchButton.innerText=Hn.torchOnButton(),this.torchButton.style.display=n.display,this.torchButton.style.marginLeft=n.marginLeft;var o=this;this.torchButton.addEventListener("click",function(l){return W_(r,void 0,void 0,function(){return Y_(this,function(d){switch(d.label){case 0:return[4,o.torchController.flipState()];case 1:return d.sent(),o.torchController.isTorchEnabled()?(o.torchButton.classList.remove(Rs.TORCH_BUTTON_CLASS_TORCH_OFF),o.torchButton.classList.add(Rs.TORCH_BUTTON_CLASS_TORCH_ON)):(o.torchButton.classList.remove(Rs.TORCH_BUTTON_CLASS_TORCH_ON),o.torchButton.classList.add(Rs.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),e.appendChild(this.torchButton)},t.prototype.updateTorchCapability=function(e){this.torchController=new Jw(e,this,this.onTorchActionFailureCallback)},t.prototype.getTorchButton=function(){return this.torchButton},t.prototype.hide=function(){this.torchButton.style.display="none"},t.prototype.show=function(){this.torchButton.style.display="inline-block"},t.prototype.disable=function(){this.torchButton.disabled=!0},t.prototype.enable=function(){this.torchButton.disabled=!1},t.prototype.setText=function(e){this.torchButton.innerText=e},t.prototype.reset=function(){this.torchButton.innerText=Hn.torchOnButton(),this.torchController.reset()},t.create=function(e,n,r,o){var l=new t(n,o);return l.render(e,r),l},t})(),f6=(function(){function t(e,n,r){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=n?"block":"none",e.appendChild(this.fileBasedScanRegion);var o=document.createElement("label");o.setAttribute("for",this.getFileScanInputId()),o.style.display="inline-block",this.fileBasedScanRegion.appendChild(o),this.fileSelectionButton=Va.createElement("button",Rs.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(x){o.click()}),o.append(this.fileSelectionButton),this.fileScanInput=Va.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",o.appendChild(this.fileScanInput);var l=this;this.fileScanInput.addEventListener("change",function(x){if(!(x==null||x.target==null)){var E=x.target;if(!(E.files&&E.files.length===0)){var m=E.files,w=m[0],A=w.name;l.setImageNameToButton(A),r(w)}}});var d=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(d),this.fileBasedScanRegion.addEventListener("dragenter",function(x){l.fileBasedScanRegion.style.border=l.fileBasedScanRegionActiveBorder(),x.stopPropagation(),x.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(x){l.fileBasedScanRegion.style.border=l.fileBasedScanRegionDefaultBorder(),x.stopPropagation(),x.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(x){l.fileBasedScanRegion.style.border=l.fileBasedScanRegionActiveBorder(),x.stopPropagation(),x.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(x){x.stopPropagation(),x.preventDefault(),l.fileBasedScanRegion.style.border=l.fileBasedScanRegionDefaultBorder();var E=x.dataTransfer;if(E){var m=E.files;if(!m||m.length===0)return;for(var w=!1,A=0;A<m.length;++A){var I=m.item(A);if(I){var N=/image.*/;if(I.type.match(N)){w=!0;var M=I.name;l.setImageNameToButton(M),r(I),d.innerText=Hn.dragAndDropMessage();break}}}w||(d.innerText=Hn.dragAndDropMessageOnlyImages())}})}return t.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},t.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},t.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},t.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},t.prototype.createFileBasedScanRegion=function(){var e=document.createElement("div");return e.style.textAlign="center",e.style.margin="auto",e.style.width="80%",e.style.maxWidth="600px",e.style.border=this.fileBasedScanRegionDefaultBorder(),e.style.padding="10px",e.style.marginBottom="10px",e},t.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},t.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},t.prototype.createDragAndDropMessage=function(){var e=document.createElement("div");return e.innerText=Hn.dragAndDropMessage(),e.style.fontWeight="400",e},t.prototype.setImageNameToButton=function(e){var n=20;if(e.length>n){var r=e.substring(0,8),o=e.length,l=e.substring(o-8,o);e="".concat(r,"....").concat(l)}var d=Hn.fileSelectionChooseAnother()+" - "+e;this.fileSelectionButton.innerText=d},t.prototype.setInitialValueToButton=function(){var e=Hn.fileSelectionChooseImage()+" - "+Hn.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=e},t.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},t.create=function(e,n,r){var o=new t(e,n,r);return o},t})(),d6=(function(){function t(e){this.selectElement=Va.createElement("select",Rs.CAMERA_SELECTION_SELECT_ID),this.cameras=e,this.options=[]}return t.prototype.render=function(e){var n=document.createElement("span");n.style.marginRight="10px";var r=this.cameras.length;if(r===0)throw new Error("No cameras found");if(r===1)n.style.display="none";else{var o=Hn.selectCamera();n.innerText="".concat(o," (").concat(this.cameras.length,")  ")}for(var l=1,d=0,x=this.cameras;d<x.length;d++){var E=x[d],m=E.id,w=E.label==null?m:E.label;(!w||w==="")&&(w=[Hn.anonymousCameraPrefix(),l++].join(" "));var A=document.createElement("option");A.value=m,A.innerText=w,this.options.push(A),this.selectElement.appendChild(A)}n.appendChild(this.selectElement),e.appendChild(n)},t.prototype.disable=function(){this.selectElement.disabled=!0},t.prototype.isDisabled=function(){return this.selectElement.disabled===!0},t.prototype.enable=function(){this.selectElement.disabled=!1},t.prototype.getValue=function(){return this.selectElement.value},t.prototype.hasValue=function(e){for(var n=0,r=this.options;n<r.length;n++){var o=r[n];if(o.value===e)return!0}return!1},t.prototype.setValue=function(e){if(!this.hasValue(e))throw new Error("".concat(e," is not present in the camera list."));this.selectElement.value=e},t.prototype.hasSingleItem=function(){return this.cameras.length===1},t.prototype.numCameras=function(){return this.cameras.length},t.create=function(e,n){var r=new t(n);return r.render(e),r},t})(),h6=(function(){function t(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=Va.createElement("input",Rs.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return t.prototype.render=function(e,n){this.zoomElementContainer.style.display=n?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",e.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var r=Hn.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(r),this.rangeText.style.marginRight="10px";var o=this;this.rangeInput.addEventListener("input",function(){return o.onValueChange()}),this.rangeInput.addEventListener("change",function(){return o.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},t.prototype.onValueChange=function(){var e=Hn.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(e),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},t.prototype.setValues=function(e,n,r,o){this.rangeInput.min=e.toString(),this.rangeInput.max=n.toString(),this.rangeInput.step=o.toString(),this.rangeInput.value=r.toString(),this.onValueChange()},t.prototype.show=function(){this.zoomElementContainer.style.display="block"},t.prototype.hide=function(){this.zoomElementContainer.style.display="none"},t.prototype.setOnCameraZoomValueChangeCallback=function(e){this.onChangeCallback=e},t.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},t.create=function(e,n){var r=new t;return r.render(e,n),r},t})(),Is;(function(t){t[t.STATUS_DEFAULT=0]="STATUS_DEFAULT",t[t.STATUS_SUCCESS=1]="STATUS_SUCCESS",t[t.STATUS_WARNING=2]="STATUS_WARNING",t[t.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(Is||(Is={}));function p6(t){return{fps:t.fps,qrbox:t.qrbox,aspectRatio:t.aspectRatio,disableFlip:t.disableFlip,videoConstraints:t.videoConstraints}}function g6(t,e){return{formatsToSupport:t.formatsToSupport,useBarCodeDetectorIfSupported:t.useBarCodeDetectorIfSupported,experimentalFeatures:t.experimentalFeatures,verbose:e}}var m6=(function(){function t(e,n,r){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=e,this.config=this.createConfig(n),this.verbose=r===!0,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.scanTypeSelector=new Dl(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new G_(this.verbose),this.persistedDataManager=new i6,n.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return t.prototype.render=function(e,n){var r=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(l,d){if(e)e(l,d);else{if(r.lastMatchFound===l)return;r.lastMatchFound=l,r.setHeaderMessage(Hn.lastMatch(l),Is.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(l,d){n&&n(l,d)};var o=document.getElementById(this.elementId);if(!o)throw"HTML Element with id=".concat(this.elementId," not found");o.innerHTML="",this.createBasicLayout(o),this.html5Qrcode=new Xw(this.getScanRegionId(),g6(this.config,this.verbose))},t.prototype.pause=function(e){(Uo(e)||e!==!0)&&(e=!1),this.getHtml5QrcodeOrFail().pause(e)},t.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},t.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},t.prototype.clear=function(){var e=this,n=function(){var r=document.getElementById(e.elementId);r&&(r.innerHTML="",e.resetBasicLayout(r))};return this.html5Qrcode?new Promise(function(r,o){if(!e.html5Qrcode){r();return}e.html5Qrcode.isScanning?e.html5Qrcode.stop().then(function(l){if(!e.html5Qrcode){r();return}e.html5Qrcode.clear(),n(),r()}).catch(function(l){e.verbose&&e.logger.logError("Unable to stop qrcode scanner",l),o(l)}):(e.html5Qrcode.clear(),n(),r())}):Promise.resolve()},t.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},t.prototype.applyVideoConstraints=function(e){return this.getHtml5QrcodeOrFail().applyVideoConstraints(e)},t.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},t.prototype.createConfig=function(e){return e?(e.fps||(e.fps=go.SCAN_DEFAULT_FPS),e.rememberLastUsedCamera!==!go.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(e.rememberLastUsedCamera=go.DEFAULT_REMEMBER_LAST_CAMERA_USED),e.supportedScanTypes||(e.supportedScanTypes=go.DEFAULT_SUPPORTED_SCAN_TYPE),e):{fps:go.SCAN_DEFAULT_FPS,rememberLastUsedCamera:go.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:go.DEFAULT_SUPPORTED_SCAN_TYPE}},t.prototype.createBasicLayout=function(e){e.style.position="relative",e.style.padding="0px",e.style.border="1px solid silver",this.createHeader(e);var n=document.createElement("div"),r=this.getScanRegionId();n.id=r,n.style.width="100%",n.style.minHeight="100px",n.style.textAlign="center",e.appendChild(n),Dl.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var o=document.createElement("div"),l=this.getDashboardId();o.id=l,o.style.width="100%",e.appendChild(o),this.setupInitialDashboard(o)},t.prototype.resetBasicLayout=function(e){e.style.border="none"},t.prototype.setupInitialDashboard=function(e){this.createSection(e),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},t.prototype.createHeader=function(e){var n=document.createElement("div");n.style.textAlign="left",n.style.margin="0px",e.appendChild(n);var r=new a6;r.renderInto(n);var o=document.createElement("div");o.id=this.getHeaderMessageContainerId(),o.style.display="none",o.style.textAlign="center",o.style.fontSize="14px",o.style.padding="2px 10px",o.style.margin="4px",o.style.borderTop="1px solid #f6f6f6",n.appendChild(o)},t.prototype.createSection=function(e){var n=document.createElement("div");n.id=this.getDashboardSectionId(),n.style.width="100%",n.style.padding="10px 0px 10px 0px",n.style.textAlign="left",e.appendChild(n)},t.prototype.createCameraListUi=function(e,n,r){var o=this;o.showHideScanTypeSwapLink(!1),o.setHeaderMessage(Hn.cameraPermissionRequesting());var l=function(){r||o.createPermissionButton(e,n)};Xw.getCameras().then(function(d){o.persistedDataManager.setHasPermission(!0),o.showHideScanTypeSwapLink(!0),o.resetHeaderMessage(),d&&d.length>0?(e.removeChild(n),o.renderCameraSelection(d)):(o.setHeaderMessage(Hn.noCameraFound(),Is.STATUS_WARNING),l())}).catch(function(d){o.persistedDataManager.setHasPermission(!1),r?r.disabled=!1:l(),o.setHeaderMessage(d,Is.STATUS_WARNING),o.showHideScanTypeSwapLink(!0)})},t.prototype.createPermissionButton=function(e,n){var r=this,o=Va.createElement("button",this.getCameraPermissionButtonId());o.innerText=Hn.cameraPermissionTitle(),o.addEventListener("click",function(){o.disabled=!0,r.createCameraListUi(e,n,o)}),n.appendChild(o)},t.prototype.createPermissionsUi=function(e,n){var r=this;if(Dl.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){Zw.hasPermissions().then(function(o){o?r.createCameraListUi(e,n):(r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(e,n))}).catch(function(o){r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(e,n)});return}this.createPermissionButton(e,n)},t.prototype.createSectionControlPanel=function(){var e=document.getElementById(this.getDashboardSectionId()),n=document.createElement("div");e.appendChild(n);var r=document.createElement("div");r.id=this.getDashboardSectionCameraScanRegionId(),r.style.display=Dl.isCameraScanType(this.currentScanType)?"block":"none",n.appendChild(r);var o=document.createElement("div");o.style.textAlign="center",r.appendChild(o),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(r,o),this.renderFileScanUi(n)},t.prototype.renderFileScanUi=function(e){var n=Dl.isFileScanType(this.currentScanType),r=this,o=function(l){if(!r.html5Qrcode)throw"html5Qrcode not defined";Dl.isFileScanType(r.currentScanType)&&(r.setHeaderMessage(Hn.loadingImage()),r.html5Qrcode.scanFileV2(l,!0).then(function(d){r.resetHeaderMessage(),r.qrCodeSuccessCallback(d.decodedText,d)}).catch(function(d){r.setHeaderMessage(d,Is.STATUS_WARNING),r.qrCodeErrorCallback(d,H_.createFrom(d))}))};this.fileSelectionUi=f6.create(e,n,o)},t.prototype.renderCameraSelection=function(e){var n=this,r=this,o=document.getElementById(this.getDashboardSectionCameraScanRegionId());o.style.textAlign="center";var l=h6.create(o,!1),d=function(k){var V=k.zoomFeature();if(V.isSupported()){l.setOnCameraZoomValueChangeCallback(function(Z){V.apply(Z)});var K=1;n.config.defaultZoomValueIfSupported&&(K=n.config.defaultZoomValueIfSupported),K=OO(K,V.min(),V.max()),l.setValues(V.min(),V.max(),K,V.step()),l.show()}},x=d6.create(o,e),E=document.createElement("span"),m=Va.createElement("button",Rs.CAMERA_START_BUTTON_ID);m.innerText=Hn.scanButtonStartScanningText(),E.appendChild(m);var w=Va.createElement("button",Rs.CAMERA_STOP_BUTTON_ID);w.innerText=Hn.scanButtonStopScanningText(),w.style.display="none",w.disabled=!0,E.appendChild(w);var A,I=function(k){if(!k.torchFeature().isSupported()){A&&A.hide();return}A?A.updateTorchCapability(k.torchFeature()):A=u6.create(E,k.torchFeature(),{display:"none",marginLeft:"5px"},function(V){r.setHeaderMessage(V,Is.STATUS_WARNING)}),A.show()};o.appendChild(E);var N=function(k){k||(m.style.display="none"),m.innerText=Hn.scanButtonStartScanningText(),m.style.opacity="1",m.disabled=!1,k&&(m.style.display="inline-block")};if(m.addEventListener("click",function(k){m.innerText=Hn.scanButtonScanningStarting(),x.disable(),m.disabled=!0,m.style.opacity="0.5",n.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!1),r.resetHeaderMessage();var V=x.getValue();r.persistedDataManager.setLastUsedCameraId(V),r.html5Qrcode.start(V,p6(r.config),r.qrCodeSuccessCallback,r.qrCodeErrorCallback).then(function(K){w.disabled=!1,w.style.display="inline-block",N(!1);var Z=r.html5Qrcode.getRunningTrackCameraCapabilities();n.config.showTorchButtonIfSupported===!0&&I(Z),n.config.showZoomSliderIfSupported===!0&&d(Z)}).catch(function(K){r.showHideScanTypeSwapLink(!0),x.enable(),N(!0),r.setHeaderMessage(K,Is.STATUS_WARNING)})}),x.hasSingleItem()&&m.click(),w.addEventListener("click",function(k){if(!r.html5Qrcode)throw"html5Qrcode not defined";w.disabled=!0,r.html5Qrcode.stop().then(function(V){n.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!0),x.enable(),m.disabled=!1,w.style.display="none",m.style.display="inline-block",A&&(A.reset(),A.hide()),l.removeOnCameraZoomValueChangeCallback(),l.hide(),r.insertCameraScanImageToScanRegion()}).catch(function(V){w.disabled=!1,r.setHeaderMessage(V,Is.STATUS_WARNING)})}),r.persistedDataManager.getLastUsedCameraId()){var M=r.persistedDataManager.getLastUsedCameraId();x.hasValue(M)?(x.setValue(M),m.click()):r.persistedDataManager.resetLastUsedCameraId()}},t.prototype.createSectionSwap=function(){var e=this,n=Hn.textIfCameraScanSelected(),r=Hn.textIfFileScanSelected(),o=document.getElementById(this.getDashboardSectionId()),l=document.createElement("div");l.style.textAlign="center";var d=Va.createElement("span",this.getDashboardSectionSwapLinkId());d.style.textDecoration="underline",d.style.cursor="pointer",d.innerText=Dl.isCameraScanType(this.currentScanType)?n:r,d.addEventListener("click",function(){if(!e.sectionSwapAllowed){e.verbose&&e.logger.logError("Section swap called when not allowed");return}e.resetHeaderMessage(),e.fileSelectionUi.resetValue(),e.sectionSwapAllowed=!1,Dl.isCameraScanType(e.currentScanType)?(e.clearScanRegion(),e.getCameraScanRegion().style.display="none",e.fileSelectionUi.show(),d.innerText=r,e.currentScanType=Yl.SCAN_TYPE_FILE,e.insertFileScanImageToScanRegion()):(e.clearScanRegion(),e.getCameraScanRegion().style.display="block",e.fileSelectionUi.hide(),d.innerText=n,e.currentScanType=Yl.SCAN_TYPE_CAMERA,e.insertCameraScanImageToScanRegion(),e.startCameraScanIfPermissionExistsOnSwap()),e.sectionSwapAllowed=!0}),l.appendChild(d),o.appendChild(l)},t.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var e=this,n=this;if(this.persistedDataManager.hasCameraPermissions()){Zw.hasPermissions().then(function(r){if(r){var o=document.getElementById(n.getCameraPermissionButtonId());if(!o)throw e.logger.logError("Permission button not found, fail;"),"Permission button not found";o.click()}else n.persistedDataManager.setHasPermission(!1)}).catch(function(r){n.persistedDataManager.setHasPermission(!1)});return}},t.prototype.resetHeaderMessage=function(){var e=document.getElementById(this.getHeaderMessageContainerId());e.style.display="none"},t.prototype.setHeaderMessage=function(e,n){n||(n=Is.STATUS_DEFAULT);var r=this.getHeaderMessageDiv();switch(r.innerText=e,r.style.display="block",n){case Is.STATUS_SUCCESS:r.style.background="rgba(106, 175, 80, 0.26)",r.style.color="#477735";break;case Is.STATUS_WARNING:r.style.background="rgba(203, 36, 49, 0.14)",r.style.color="#cb2431";break;case Is.STATUS_DEFAULT:default:r.style.background="rgba(0, 0, 0, 0)",r.style.color="rgb(17, 17, 17)";break}},t.prototype.showHideScanTypeSwapLink=function(e){this.scanTypeSelector.hasMoreThanOneScanType()&&(e!==!0&&(e=!1),this.sectionSwapAllowed=e,this.getDashboardSectionSwapLink().style.display=e?"inline-block":"none")},t.prototype.insertCameraScanImageToScanRegion=function(){var e=this,n=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){n.innerHTML="<br>",n.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(r){n.innerHTML="<br>",n.appendChild(e.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=t6,this.cameraScanImage.alt=Hn.cameraScanAltText()},t.prototype.insertFileScanImageToScanRegion=function(){var e=this,n=document.getElementById(this.getScanRegionId());if(this.fileScanImage){n.innerHTML="<br>",n.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(r){n.innerHTML="<br>",n.appendChild(e.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=n6,this.fileScanImage.alt=Hn.fileScanAltText()},t.prototype.clearScanRegion=function(){var e=document.getElementById(this.getScanRegionId());e.innerHTML=""},t.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},t.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},t.prototype.getDashboardSectionSwapLinkId=function(){return Rs.SCAN_TYPE_CHANGE_ANCHOR_ID},t.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},t.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},t.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},t.prototype.getCameraPermissionButtonId=function(){return Rs.CAMERA_PERMISSION_BUTTON_ID},t.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},t.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},t.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},t})();function y6(){const t=ia();return L.useEffect(()=>{const e=new m6("qr-reader",{fps:10,qrbox:250},!1);function n(o,l){console.log(`Code matched = ${o}`,l);try{const d=new URL(o);t(d.pathname+d.search)}catch(d){console.error("Invalid URL scanned:",d)}e.clear().catch(d=>{console.error("Failed to clear scanner.",d)})}function r(o){}return e.render(n,r),()=>{e.clear().catch(o=>{console.error("Failed to clear scanner on unmount.",o)})}},[t]),U.jsx("div",{id:"qr-reader",style:{width:"100%"}})}function x6(){return U.jsx("div",{children:U.jsx(y6,{})})}const Zd={black:"#000",white:"#fff"},Pu={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},ku={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},Bu={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},Uu={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Fu={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},xd={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},E6={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function Ya(t,...e){const n=new URL(`https://mui.com/production-error/?code=${t}`);return e.forEach(r=>n.searchParams.append("args[]",r)),`Minified MUI error #${t}; visit ${n} for the full message.`}const Go="$$material";function j0(){return j0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},j0.apply(null,arguments)}function v6(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function b6(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var w6=(function(){function t(n){var r=this;this._insertTag=function(o){var l;r.tags.length===0?r.insertionPoint?l=r.insertionPoint.nextSibling:r.prepend?l=r.container.firstChild:l=r.before:l=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(o,l),r.tags.push(o)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(b6(this));var o=this.tags[this.tags.length-1];if(this.isSpeedy){var l=v6(o);try{l.insertRule(r,l.cssRules.length)}catch{}}else o.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var o;return(o=r.parentNode)==null?void 0:o.removeChild(r)}),this.tags=[],this.ctr=0},t})(),Pi="-ms-",H0="-moz-",On="-webkit-",X_="comm",G2="rule",$2="decl",C6="@import",K_="@keyframes",S6="@layer",A6=Math.abs,b1=String.fromCharCode,_6=Object.assign;function T6(t,e){return Si(t,0)^45?(((e<<2^Si(t,0))<<2^Si(t,1))<<2^Si(t,2))<<2^Si(t,3):0}function Q_(t){return t.trim()}function I6(t,e){return(t=e.exec(t))?t[0]:t}function Dn(t,e,n){return t.replace(e,n)}function By(t,e){return t.indexOf(e)}function Si(t,e){return t.charCodeAt(e)|0}function Jd(t,e,n){return t.slice(e,n)}function Vo(t){return t.length}function q2(t){return t.length}function Zp(t,e){return e.push(t),t}function R6(t,e){return t.map(e).join("")}var w1=1,cf=1,Z_=0,hs=0,Yr=0,Sf="";function C1(t,e,n,r,o,l,d){return{value:t,root:e,parent:n,type:r,props:o,children:l,line:w1,column:cf,length:d,return:""}}function Ed(t,e){return _6(C1("",null,null,"",null,null,0),t,{length:-t.length},e)}function N6(){return Yr}function M6(){return Yr=hs>0?Si(Sf,--hs):0,cf--,Yr===10&&(cf=1,w1--),Yr}function Ls(){return Yr=hs<Z_?Si(Sf,hs++):0,cf++,Yr===10&&(cf=1,w1++),Yr}function $o(){return Si(Sf,hs)}function b0(){return hs}function yh(t,e){return Jd(Sf,t,e)}function eh(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function J_(t){return w1=cf=1,Z_=Vo(Sf=t),hs=0,[]}function eT(t){return Sf="",t}function w0(t){return Q_(yh(hs-1,Uy(t===91?t+2:t===40?t+1:t)))}function O6(t){for(;(Yr=$o())&&Yr<33;)Ls();return eh(t)>2||eh(Yr)>3?"":" "}function D6(t,e){for(;--e&&Ls()&&!(Yr<48||Yr>102||Yr>57&&Yr<65||Yr>70&&Yr<97););return yh(t,b0()+(e<6&&$o()==32&&Ls()==32))}function Uy(t){for(;Ls();)switch(Yr){case t:return hs;case 34:case 39:t!==34&&t!==39&&Uy(Yr);break;case 40:t===41&&Uy(t);break;case 92:Ls();break}return hs}function L6(t,e){for(;Ls()&&t+Yr!==57;)if(t+Yr===84&&$o()===47)break;return"/*"+yh(e,hs-1)+"*"+b1(t===47?t:Ls())}function P6(t){for(;!eh($o());)Ls();return yh(t,hs)}function k6(t){return eT(C0("",null,null,null,[""],t=J_(t),0,[0],t))}function C0(t,e,n,r,o,l,d,x,E){for(var m=0,w=0,A=d,I=0,N=0,M=0,k=1,V=1,K=1,Z=0,H="",W=o,te=l,se=r,z=H;V;)switch(M=Z,Z=Ls()){case 40:if(M!=108&&Si(z,A-1)==58){By(z+=Dn(w0(Z),"&","&\f"),"&\f")!=-1&&(K=-1);break}case 34:case 39:case 91:z+=w0(Z);break;case 9:case 10:case 13:case 32:z+=O6(M);break;case 92:z+=D6(b0()-1,7);continue;case 47:switch($o()){case 42:case 47:Zp(B6(L6(Ls(),b0()),e,n),E);break;default:z+="/"}break;case 123*k:x[m++]=Vo(z)*K;case 125*k:case 59:case 0:switch(Z){case 0:case 125:V=0;case 59+w:K==-1&&(z=Dn(z,/\f/g,"")),N>0&&Vo(z)-A&&Zp(N>32?tC(z+";",r,n,A-1):tC(Dn(z," ","")+";",r,n,A-2),E);break;case 59:z+=";";default:if(Zp(se=eC(z,e,n,m,w,o,x,H,W=[],te=[],A),l),Z===123)if(w===0)C0(z,e,se,se,W,l,A,x,te);else switch(I===99&&Si(z,3)===110?100:I){case 100:case 108:case 109:case 115:C0(t,se,se,r&&Zp(eC(t,se,se,0,0,o,x,H,o,W=[],A),te),o,te,A,x,r?W:te);break;default:C0(z,se,se,se,[""],te,0,x,te)}}m=w=N=0,k=K=1,H=z="",A=d;break;case 58:A=1+Vo(z),N=M;default:if(k<1){if(Z==123)--k;else if(Z==125&&k++==0&&M6()==125)continue}switch(z+=b1(Z),Z*k){case 38:K=w>0?1:(z+="\f",-1);break;case 44:x[m++]=(Vo(z)-1)*K,K=1;break;case 64:$o()===45&&(z+=w0(Ls())),I=$o(),w=A=Vo(H=z+=P6(b0())),Z++;break;case 45:M===45&&Vo(z)==2&&(k=0)}}return l}function eC(t,e,n,r,o,l,d,x,E,m,w){for(var A=o-1,I=o===0?l:[""],N=q2(I),M=0,k=0,V=0;M<r;++M)for(var K=0,Z=Jd(t,A+1,A=A6(k=d[M])),H=t;K<N;++K)(H=Q_(k>0?I[K]+" "+Z:Dn(Z,/&\f/g,I[K])))&&(E[V++]=H);return C1(t,e,n,o===0?G2:x,E,m,w)}function B6(t,e,n){return C1(t,e,n,X_,b1(N6()),Jd(t,2,-2),0)}function tC(t,e,n,r){return C1(t,e,n,$2,Jd(t,0,r),Jd(t,r+1,-1),r)}function Ju(t,e){for(var n="",r=q2(t),o=0;o<r;o++)n+=e(t[o],o,t,e)||"";return n}function U6(t,e,n,r){switch(t.type){case S6:if(t.children.length)break;case C6:case $2:return t.return=t.return||t.value;case X_:return"";case K_:return t.return=t.value+"{"+Ju(t.children,r)+"}";case G2:t.value=t.props.join(",")}return Vo(n=Ju(t.children,r))?t.return=t.value+"{"+n+"}":""}function F6(t){var e=q2(t);return function(n,r,o,l){for(var d="",x=0;x<e;x++)d+=t[x](n,r,o,l)||"";return d}}function V6(t){return function(e){e.root||(e=e.return)&&t(e)}}function tT(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var z6=function(e,n,r){for(var o=0,l=0;o=l,l=$o(),o===38&&l===12&&(n[r]=1),!eh(l);)Ls();return yh(e,hs)},j6=function(e,n){var r=-1,o=44;do switch(eh(o)){case 0:o===38&&$o()===12&&(n[r]=1),e[r]+=z6(hs-1,n,r);break;case 2:e[r]+=w0(o);break;case 4:if(o===44){e[++r]=$o()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=b1(o)}while(o=Ls());return e},H6=function(e,n){return eT(j6(J_(e),n))},nC=new WeakMap,G6=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,o=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!nC.get(r))&&!o){nC.set(e,!0);for(var l=[],d=H6(n,l),x=r.props,E=0,m=0;E<d.length;E++)for(var w=0;w<x.length;w++,m++)e.props[m]=l[E]?d[E].replace(/&\f/g,x[w]):x[w]+" "+d[E]}}},$6=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function nT(t,e){switch(T6(t,e)){case 5103:return On+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return On+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return On+t+H0+t+Pi+t+t;case 6828:case 4268:return On+t+Pi+t+t;case 6165:return On+t+Pi+"flex-"+t+t;case 5187:return On+t+Dn(t,/(\w+).+(:[^]+)/,On+"box-$1$2"+Pi+"flex-$1$2")+t;case 5443:return On+t+Pi+"flex-item-"+Dn(t,/flex-|-self/,"")+t;case 4675:return On+t+Pi+"flex-line-pack"+Dn(t,/align-content|flex-|-self/,"")+t;case 5548:return On+t+Pi+Dn(t,"shrink","negative")+t;case 5292:return On+t+Pi+Dn(t,"basis","preferred-size")+t;case 6060:return On+"box-"+Dn(t,"-grow","")+On+t+Pi+Dn(t,"grow","positive")+t;case 4554:return On+Dn(t,/([^-])(transform)/g,"$1"+On+"$2")+t;case 6187:return Dn(Dn(Dn(t,/(zoom-|grab)/,On+"$1"),/(image-set)/,On+"$1"),t,"")+t;case 5495:case 3959:return Dn(t,/(image-set\([^]*)/,On+"$1$`$1");case 4968:return Dn(Dn(t,/(.+:)(flex-)?(.*)/,On+"box-pack:$3"+Pi+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+On+t+t;case 4095:case 3583:case 4068:case 2532:return Dn(t,/(.+)-inline(.+)/,On+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Vo(t)-1-e>6)switch(Si(t,e+1)){case 109:if(Si(t,e+4)!==45)break;case 102:return Dn(t,/(.+:)(.+)-([^]+)/,"$1"+On+"$2-$3$1"+H0+(Si(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~By(t,"stretch")?nT(Dn(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Si(t,e+1)!==115)break;case 6444:switch(Si(t,Vo(t)-3-(~By(t,"!important")&&10))){case 107:return Dn(t,":",":"+On)+t;case 101:return Dn(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+On+(Si(t,14)===45?"inline-":"")+"box$3$1"+On+"$2$3$1"+Pi+"$2box$3")+t}break;case 5936:switch(Si(t,e+11)){case 114:return On+t+Pi+Dn(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return On+t+Pi+Dn(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return On+t+Pi+Dn(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return On+t+Pi+t+t}return t}var q6=function(e,n,r,o){if(e.length>-1&&!e.return)switch(e.type){case $2:e.return=nT(e.value,e.length);break;case K_:return Ju([Ed(e,{value:Dn(e.value,"@","@"+On)})],o);case G2:if(e.length)return R6(e.props,function(l){switch(I6(l,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Ju([Ed(e,{props:[Dn(l,/:(read-\w+)/,":"+H0+"$1")]})],o);case"::placeholder":return Ju([Ed(e,{props:[Dn(l,/:(plac\w+)/,":"+On+"input-$1")]}),Ed(e,{props:[Dn(l,/:(plac\w+)/,":"+H0+"$1")]}),Ed(e,{props:[Dn(l,/:(plac\w+)/,Pi+"input-$1")]})],o)}return""})}},W6=[q6],Y6=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(k){var V=k.getAttribute("data-emotion");V.indexOf(" ")!==-1&&(document.head.appendChild(k),k.setAttribute("data-s",""))})}var o=e.stylisPlugins||W6,l={},d,x=[];d=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(k){for(var V=k.getAttribute("data-emotion").split(" "),K=1;K<V.length;K++)l[V[K]]=!0;x.push(k)});var E,m=[G6,$6];{var w,A=[U6,V6(function(k){w.insert(k)})],I=F6(m.concat(o,A)),N=function(V){return Ju(k6(V),I)};E=function(V,K,Z,H){w=Z,N(V?V+"{"+K.styles+"}":K.styles),H&&(M.inserted[K.name]=!0)}}var M={key:n,sheet:new w6({key:n,container:d,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:l,registered:{},insert:E};return M.sheet.hydrate(x),M},oy={exports:{}},Bn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rC;function X6(){if(rC)return Bn;rC=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,n=t?Symbol.for("react.portal"):60106,r=t?Symbol.for("react.fragment"):60107,o=t?Symbol.for("react.strict_mode"):60108,l=t?Symbol.for("react.profiler"):60114,d=t?Symbol.for("react.provider"):60109,x=t?Symbol.for("react.context"):60110,E=t?Symbol.for("react.async_mode"):60111,m=t?Symbol.for("react.concurrent_mode"):60111,w=t?Symbol.for("react.forward_ref"):60112,A=t?Symbol.for("react.suspense"):60113,I=t?Symbol.for("react.suspense_list"):60120,N=t?Symbol.for("react.memo"):60115,M=t?Symbol.for("react.lazy"):60116,k=t?Symbol.for("react.block"):60121,V=t?Symbol.for("react.fundamental"):60117,K=t?Symbol.for("react.responder"):60118,Z=t?Symbol.for("react.scope"):60119;function H(te){if(typeof te=="object"&&te!==null){var se=te.$$typeof;switch(se){case e:switch(te=te.type,te){case E:case m:case r:case l:case o:case A:return te;default:switch(te=te&&te.$$typeof,te){case x:case w:case M:case N:case d:return te;default:return se}}case n:return se}}}function W(te){return H(te)===m}return Bn.AsyncMode=E,Bn.ConcurrentMode=m,Bn.ContextConsumer=x,Bn.ContextProvider=d,Bn.Element=e,Bn.ForwardRef=w,Bn.Fragment=r,Bn.Lazy=M,Bn.Memo=N,Bn.Portal=n,Bn.Profiler=l,Bn.StrictMode=o,Bn.Suspense=A,Bn.isAsyncMode=function(te){return W(te)||H(te)===E},Bn.isConcurrentMode=W,Bn.isContextConsumer=function(te){return H(te)===x},Bn.isContextProvider=function(te){return H(te)===d},Bn.isElement=function(te){return typeof te=="object"&&te!==null&&te.$$typeof===e},Bn.isForwardRef=function(te){return H(te)===w},Bn.isFragment=function(te){return H(te)===r},Bn.isLazy=function(te){return H(te)===M},Bn.isMemo=function(te){return H(te)===N},Bn.isPortal=function(te){return H(te)===n},Bn.isProfiler=function(te){return H(te)===l},Bn.isStrictMode=function(te){return H(te)===o},Bn.isSuspense=function(te){return H(te)===A},Bn.isValidElementType=function(te){return typeof te=="string"||typeof te=="function"||te===r||te===m||te===l||te===o||te===A||te===I||typeof te=="object"&&te!==null&&(te.$$typeof===M||te.$$typeof===N||te.$$typeof===d||te.$$typeof===x||te.$$typeof===w||te.$$typeof===V||te.$$typeof===K||te.$$typeof===Z||te.$$typeof===k)},Bn.typeOf=H,Bn}var iC;function K6(){return iC||(iC=1,oy.exports=X6()),oy.exports}var ay,sC;function Q6(){if(sC)return ay;sC=1;var t=K6(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},l={};l[t.ForwardRef]=r,l[t.Memo]=o;function d(M){return t.isMemo(M)?o:l[M.$$typeof]||e}var x=Object.defineProperty,E=Object.getOwnPropertyNames,m=Object.getOwnPropertySymbols,w=Object.getOwnPropertyDescriptor,A=Object.getPrototypeOf,I=Object.prototype;function N(M,k,V){if(typeof k!="string"){if(I){var K=A(k);K&&K!==I&&N(M,K,V)}var Z=E(k);m&&(Z=Z.concat(m(k)));for(var H=d(M),W=d(k),te=0;te<Z.length;++te){var se=Z[te];if(!n[se]&&!(V&&V[se])&&!(W&&W[se])&&!(H&&H[se])){var z=w(k,se);try{x(M,se,z)}catch{}}}}return M}return ay=N,ay}Q6();var Z6=!0;function rT(t,e,n){var r="";return n.split(" ").forEach(function(o){t[o]!==void 0?e.push(t[o]+";"):o&&(r+=o+" ")}),r}var W2=function(e,n,r){var o=e.key+"-"+n.name;(r===!1||Z6===!1)&&e.registered[o]===void 0&&(e.registered[o]=n.styles)},Y2=function(e,n,r){W2(e,n,r);var o=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var l=n;do e.insert(n===l?"."+o:"",l,e.sheet,!0),l=l.next;while(l!==void 0)}};function J6(t){for(var e=0,n,r=0,o=t.length;o>=4;++r,o-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(o){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var e8={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},t8=/[A-Z]|^ms/g,n8=/_EMO_([^_]+?)_([^]*?)_EMO_/g,iT=function(e){return e.charCodeAt(1)===45},oC=function(e){return e!=null&&typeof e!="boolean"},ly=tT(function(t){return iT(t)?t:t.replace(t8,"-$&").toLowerCase()}),aC=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(n8,function(r,o,l){return zo={name:o,styles:l,next:zo},o})}return e8[e]!==1&&!iT(e)&&typeof n=="number"&&n!==0?n+"px":n};function th(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var o=n;if(o.anim===1)return zo={name:o.name,styles:o.styles,next:zo},o.name;var l=n;if(l.styles!==void 0){var d=l.next;if(d!==void 0)for(;d!==void 0;)zo={name:d.name,styles:d.styles,next:zo},d=d.next;var x=l.styles+";";return x}return r8(t,e,n)}case"function":{if(t!==void 0){var E=zo,m=n(t);return zo=E,th(t,e,m)}break}}var w=n;if(e==null)return w;var A=e[w];return A!==void 0?A:w}function r8(t,e,n){var r="";if(Array.isArray(n))for(var o=0;o<n.length;o++)r+=th(t,e,n[o])+";";else for(var l in n){var d=n[l];if(typeof d!="object"){var x=d;e!=null&&e[x]!==void 0?r+=l+"{"+e[x]+"}":oC(x)&&(r+=ly(l)+":"+aC(l,x)+";")}else if(Array.isArray(d)&&typeof d[0]=="string"&&(e==null||e[d[0]]===void 0))for(var E=0;E<d.length;E++)oC(d[E])&&(r+=ly(l)+":"+aC(l,d[E])+";");else{var m=th(t,e,d);switch(l){case"animation":case"animationName":{r+=ly(l)+":"+m+";";break}default:r+=l+"{"+m+"}"}}}return r}var lC=/label:\s*([^\s;{]+)\s*(;|$)/g,zo;function xh(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,o="";zo=void 0;var l=t[0];if(l==null||l.raw===void 0)r=!1,o+=th(n,e,l);else{var d=l;o+=d[0]}for(var x=1;x<t.length;x++)if(o+=th(n,e,t[x]),r){var E=l;o+=E[x]}lC.lastIndex=0;for(var m="",w;(w=lC.exec(o))!==null;)m+="-"+w[1];var A=J6(o)+m;return{name:A,styles:o,next:zo}}var i8=function(e){return e()},sT=Dy.useInsertionEffect?Dy.useInsertionEffect:!1,oT=sT||i8,cC=sT||L.useLayoutEffect,aT=L.createContext(typeof HTMLElement<"u"?Y6({key:"css"}):null);aT.Provider;var X2=function(e){return L.forwardRef(function(n,r){var o=L.useContext(aT);return e(n,o,r)})},Eh=L.createContext({}),K2={}.hasOwnProperty,Fy="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",s8=function(e,n){var r={};for(var o in n)K2.call(n,o)&&(r[o]=n[o]);return r[Fy]=e,r},o8=function(e){var n=e.cache,r=e.serialized,o=e.isStringTag;return W2(n,r,o),oT(function(){return Y2(n,r,o)}),null},a8=X2(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var o=t[Fy],l=[r],d="";typeof t.className=="string"?d=rT(e.registered,l,t.className):t.className!=null&&(d=t.className+" ");var x=xh(l,void 0,L.useContext(Eh));d+=e.key+"-"+x.name;var E={};for(var m in t)K2.call(t,m)&&m!=="css"&&m!==Fy&&(E[m]=t[m]);return E.className=d,n&&(E.ref=n),L.createElement(L.Fragment,null,L.createElement(o8,{cache:e,serialized:x,isStringTag:typeof o=="string"}),L.createElement(o,E))}),l8=a8,uC=function(e,n){var r=arguments;if(n==null||!K2.call(n,"css"))return L.createElement.apply(void 0,r);var o=r.length,l=new Array(o);l[0]=l8,l[1]=s8(e,n);for(var d=2;d<o;d++)l[d]=r[d];return L.createElement.apply(null,l)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(uC||(uC={}));var c8=X2(function(t,e){var n=t.styles,r=xh([n],void 0,L.useContext(Eh)),o=L.useRef();return cC(function(){var l=e.key+"-global",d=new e.sheet.constructor({key:l,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),x=!1,E=document.querySelector('style[data-emotion="'+l+" "+r.name+'"]');return e.sheet.tags.length&&(d.before=e.sheet.tags[0]),E!==null&&(x=!0,E.setAttribute("data-emotion",l),d.hydrate([E])),o.current=[d,x],function(){d.flush()}},[e]),cC(function(){var l=o.current,d=l[0],x=l[1];if(x){l[1]=!1;return}if(r.next!==void 0&&Y2(e,r.next,!0),d.tags.length){var E=d.tags[d.tags.length-1].nextElementSibling;d.before=E,d.flush()}e.insert("",r,d,!1)},[e,r.name]),null});function Q2(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return xh(e)}function vh(){var t=Q2.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var u8=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|popover|popoverTarget|popoverTargetAction|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,f8=tT(function(t){return u8.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),d8=f8,h8=function(e){return e!=="theme"},fC=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?d8:h8},dC=function(e,n,r){var o;if(n){var l=n.shouldForwardProp;o=e.__emotion_forwardProp&&l?function(d){return e.__emotion_forwardProp(d)&&l(d)}:l}return typeof o!="function"&&r&&(o=e.__emotion_forwardProp),o},p8=function(e){var n=e.cache,r=e.serialized,o=e.isStringTag;return W2(n,r,o),oT(function(){return Y2(n,r,o)}),null},g8=function t(e,n){var r=e.__emotion_real===e,o=r&&e.__emotion_base||e,l,d;n!==void 0&&(l=n.label,d=n.target);var x=dC(e,n,r),E=x||fC(o),m=!E("as");return function(){var w=arguments,A=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(l!==void 0&&A.push("label:"+l+";"),w[0]==null||w[0].raw===void 0)A.push.apply(A,w);else{var I=w[0];A.push(I[0]);for(var N=w.length,M=1;M<N;M++)A.push(w[M],I[M])}var k=X2(function(V,K,Z){var H=m&&V.as||o,W="",te=[],se=V;if(V.theme==null){se={};for(var z in V)se[z]=V[z];se.theme=L.useContext(Eh)}typeof V.className=="string"?W=rT(K.registered,te,V.className):V.className!=null&&(W=V.className+" ");var j=xh(A.concat(te),K.registered,se);W+=K.key+"-"+j.name,d!==void 0&&(W+=" "+d);var F=m&&x===void 0?fC(H):E,J={};for(var Y in V)m&&Y==="as"||F(Y)&&(J[Y]=V[Y]);return J.className=W,Z&&(J.ref=Z),L.createElement(L.Fragment,null,L.createElement(p8,{cache:K,serialized:j,isStringTag:typeof H=="string"}),L.createElement(H,J))});return k.displayName=l!==void 0?l:"Styled("+(typeof o=="string"?o:o.displayName||o.name||"Component")+")",k.defaultProps=e.defaultProps,k.__emotion_real=k,k.__emotion_base=o,k.__emotion_styles=A,k.__emotion_forwardProp=x,Object.defineProperty(k,"toString",{value:function(){return"."+d}}),k.withComponent=function(V,K){var Z=t(V,j0({},n,K,{shouldForwardProp:dC(k,K,!0)}));return Z.apply(void 0,A)},k}},m8=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Vy=g8.bind(null);m8.forEach(function(t){Vy[t]=Vy(t)});function y8(t){return t==null||Object.keys(t).length===0}function lT(t){const{styles:e,defaultTheme:n={}}=t,r=typeof e=="function"?o=>e(y8(o)?n:o):e;return U.jsx(c8,{styles:r})}function cT(t,e){return Vy(t,e)}function x8(t,e){Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))}const hC=[];function zl(t){return hC[0]=t,xh(hC)}var cy={exports:{}},Xn={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pC;function E8(){if(pC)return Xn;pC=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),d=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),I=Symbol.for("react.view_transition"),N=Symbol.for("react.client.reference");function M(k){if(typeof k=="object"&&k!==null){var V=k.$$typeof;switch(V){case t:switch(k=k.type,k){case n:case o:case r:case E:case m:case I:return k;default:switch(k=k&&k.$$typeof,k){case d:case x:case A:case w:return k;case l:return k;default:return V}}case e:return V}}}return Xn.ContextConsumer=l,Xn.ContextProvider=d,Xn.Element=t,Xn.ForwardRef=x,Xn.Fragment=n,Xn.Lazy=A,Xn.Memo=w,Xn.Portal=e,Xn.Profiler=o,Xn.StrictMode=r,Xn.Suspense=E,Xn.SuspenseList=m,Xn.isContextConsumer=function(k){return M(k)===l},Xn.isContextProvider=function(k){return M(k)===d},Xn.isElement=function(k){return typeof k=="object"&&k!==null&&k.$$typeof===t},Xn.isForwardRef=function(k){return M(k)===x},Xn.isFragment=function(k){return M(k)===n},Xn.isLazy=function(k){return M(k)===A},Xn.isMemo=function(k){return M(k)===w},Xn.isPortal=function(k){return M(k)===e},Xn.isProfiler=function(k){return M(k)===o},Xn.isStrictMode=function(k){return M(k)===r},Xn.isSuspense=function(k){return M(k)===E},Xn.isSuspenseList=function(k){return M(k)===m},Xn.isValidElementType=function(k){return typeof k=="string"||typeof k=="function"||k===n||k===o||k===r||k===E||k===m||typeof k=="object"&&k!==null&&(k.$$typeof===A||k.$$typeof===w||k.$$typeof===d||k.$$typeof===l||k.$$typeof===x||k.$$typeof===N||k.getModuleId!==void 0)},Xn.typeOf=M,Xn}var gC;function v8(){return gC||(gC=1,cy.exports=E8()),cy.exports}var uT=v8();function Ho(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function fT(t){if(L.isValidElement(t)||uT.isValidElementType(t)||!Ho(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=fT(t[n])}),e}function Fi(t,e,n={clone:!0}){const r=n.clone?{...t}:t;return Ho(t)&&Ho(e)&&Object.keys(e).forEach(o=>{L.isValidElement(e[o])||uT.isValidElementType(e[o])?r[o]=e[o]:Ho(e[o])&&Object.prototype.hasOwnProperty.call(t,o)&&Ho(t[o])?r[o]=Fi(t[o],e[o],n):n.clone?r[o]=Ho(e[o])?fT(e[o]):e[o]:r[o]=e[o]}),r}const b8=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>({...n,[r.key]:r.val}),{})};function w8(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5,...o}=t,l=b8(e),d=Object.keys(l);function x(I){return`@media (min-width:${typeof e[I]=="number"?e[I]:I}${n})`}function E(I){return`@media (max-width:${(typeof e[I]=="number"?e[I]:I)-r/100}${n})`}function m(I,N){const M=d.indexOf(N);return`@media (min-width:${typeof e[I]=="number"?e[I]:I}${n}) and (max-width:${(M!==-1&&typeof e[d[M]]=="number"?e[d[M]]:N)-r/100}${n})`}function w(I){return d.indexOf(I)+1<d.length?m(I,d[d.indexOf(I)+1]):x(I)}function A(I){const N=d.indexOf(I);return N===0?x(d[1]):N===d.length-1?E(d[N]):m(I,d[d.indexOf(I)+1]).replace("@media","@media not all and")}return{keys:d,values:l,up:x,down:E,between:m,only:w,not:A,unit:n,...o}}function mC(t,e){if(!t.containerQueries)return e;const n=Object.keys(e).filter(r=>r.startsWith("@container")).sort((r,o)=>{const l=/min-width:\s*([0-9.]+)/;return+(r.match(l)?.[1]||0)-+(o.match(l)?.[1]||0)});return n.length?n.reduce((r,o)=>{const l=e[o];return delete r[o],r[o]=l,r},{...e}):e}function C8(t,e){return e==="@"||e.startsWith("@")&&(t.some(n=>e.startsWith(`@${n}`))||!!e.match(/^@\d/))}function S8(t,e){const n=e.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,r,o]=n,l=Number.isNaN(+r)?r||0:+r;return t.containerQueries(o).up(l)}function A8(t){const e=(l,d)=>l.replace("@media",d?`@container ${d}`:"@container");function n(l,d){l.up=(...x)=>e(t.breakpoints.up(...x),d),l.down=(...x)=>e(t.breakpoints.down(...x),d),l.between=(...x)=>e(t.breakpoints.between(...x),d),l.only=(...x)=>e(t.breakpoints.only(...x),d),l.not=(...x)=>{const E=e(t.breakpoints.not(...x),d);return E.includes("not all and")?E.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):E}}const r={},o=l=>(n(r,l),r);return n(o),{...t,containerQueries:o}}const _8={borderRadius:4};function Ud(t,e){return e?Fi(t,e,{clone:!1}):t}const S1={xs:0,sm:600,md:900,lg:1200,xl:1536},yC={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${S1[t]}px)`},T8={containerQueries:t=>({up:e=>{let n=typeof e=="number"?e:S1[e]||e;return typeof n=="number"&&(n=`${n}px`),t?`@container ${t} (min-width:${n})`:`@container (min-width:${n})`}})};function Xa(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const l=r.breakpoints||yC;return e.reduce((d,x,E)=>(d[l.up(l.keys[E])]=n(e[E]),d),{})}if(typeof e=="object"){const l=r.breakpoints||yC;return Object.keys(e).reduce((d,x)=>{if(C8(l.keys,x)){const E=S8(r.containerQueries?r:T8,x);E&&(d[E]=n(e[x],x))}else if(Object.keys(l.values||S1).includes(x)){const E=l.up(x);d[E]=n(e[x],x)}else{const E=x;d[E]=e[E]}return d},{})}return n(e)}function I8(t={}){return t.keys?.reduce((n,r)=>{const o=t.up(r);return n[o]={},n},{})||{}}function xC(t,e){return t.reduce((n,r)=>{const o=n[r];return(!o||Object.keys(o).length===0)&&delete n[r],n},e)}function Ge(t){if(typeof t!="string")throw new Error(Ya(7));return t.charAt(0).toUpperCase()+t.slice(1)}function jo(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((o,l)=>o&&o[l]?o[l]:null,t);if(r!=null)return r}return e.split(".").reduce((r,o)=>r&&r[o]!=null?r[o]:null,t)}function G0(t,e,n,r=n){let o;return typeof t=="function"?o=t(n):Array.isArray(t)?o=t[n]||r:o=jo(t,n)||r,e&&(o=e(o,r,t)),o}function jr(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:o}=t,l=d=>{if(d[e]==null)return null;const x=d[e],E=d.theme,m=jo(E,r)||{};return Xa(d,x,A=>{let I=G0(m,o,A);return A===I&&typeof A=="string"&&(I=G0(m,o,`${e}${A==="default"?"":Ge(A)}`,A)),n===!1?I:{[n]:I}})};return l.propTypes={},l.filterProps=[e],l}function R8(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const N8={m:"margin",p:"padding"},M8={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},EC={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},O8=R8(t=>{if(t.length>2)if(EC[t])t=EC[t];else return[t];const[e,n]=t.split(""),r=N8[e],o=M8[n]||"";return Array.isArray(o)?o.map(l=>r+l):[r+o]}),Z2=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],J2=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...Z2,...J2];function bh(t,e,n,r){const o=jo(t,e,!0)??n;return typeof o=="number"||typeof o=="string"?l=>typeof l=="string"?l:typeof o=="string"?o.startsWith("var(")&&l===0?0:o.startsWith("var(")&&l===1?o:`calc(${l} * ${o})`:o*l:Array.isArray(o)?l=>{if(typeof l=="string")return l;const d=Math.abs(l),x=o[d];return l>=0?x:typeof x=="number"?-x:typeof x=="string"&&x.startsWith("var(")?`calc(-1 * ${x})`:`-${x}`}:typeof o=="function"?o:()=>{}}function ex(t){return bh(t,"spacing",8)}function wh(t,e){return typeof e=="string"||e==null?e:t(e)}function D8(t,e){return n=>t.reduce((r,o)=>(r[o]=wh(e,n),r),{})}function L8(t,e,n,r){if(!e.includes(n))return null;const o=O8(n),l=D8(o,r),d=t[n];return Xa(t,d,l)}function dT(t,e){const n=ex(t.theme);return Object.keys(t).map(r=>L8(t,e,r,n)).reduce(Ud,{})}function Tr(t){return dT(t,Z2)}Tr.propTypes={};Tr.filterProps=Z2;function Ir(t){return dT(t,J2)}Ir.propTypes={};Ir.filterProps=J2;function hT(t=8,e=ex({spacing:t})){if(t.mui)return t;const n=(...r)=>(r.length===0?[1]:r).map(l=>{const d=e(l);return typeof d=="number"?`${d}px`:d}).join(" ");return n.mui=!0,n}function A1(...t){const e=t.reduce((r,o)=>(o.filterProps.forEach(l=>{r[l]=o}),r),{}),n=r=>Object.keys(r).reduce((o,l)=>e[l]?Ud(o,e[l](r)):o,{});return n.propTypes={},n.filterProps=t.reduce((r,o)=>r.concat(o.filterProps),[]),n}function eo(t){return typeof t!="number"?t:`${t}px solid`}function io(t,e){return jr({prop:t,themeKey:"borders",transform:e})}const P8=io("border",eo),k8=io("borderTop",eo),B8=io("borderRight",eo),U8=io("borderBottom",eo),F8=io("borderLeft",eo),V8=io("borderColor"),z8=io("borderTopColor"),j8=io("borderRightColor"),H8=io("borderBottomColor"),G8=io("borderLeftColor"),$8=io("outline",eo),q8=io("outlineColor"),_1=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=bh(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:wh(e,r)});return Xa(t,t.borderRadius,n)}return null};_1.propTypes={};_1.filterProps=["borderRadius"];A1(P8,k8,B8,U8,F8,V8,z8,j8,H8,G8,_1,$8,q8);const T1=t=>{if(t.gap!==void 0&&t.gap!==null){const e=bh(t.theme,"spacing",8),n=r=>({gap:wh(e,r)});return Xa(t,t.gap,n)}return null};T1.propTypes={};T1.filterProps=["gap"];const I1=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=bh(t.theme,"spacing",8),n=r=>({columnGap:wh(e,r)});return Xa(t,t.columnGap,n)}return null};I1.propTypes={};I1.filterProps=["columnGap"];const R1=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=bh(t.theme,"spacing",8),n=r=>({rowGap:wh(e,r)});return Xa(t,t.rowGap,n)}return null};R1.propTypes={};R1.filterProps=["rowGap"];const W8=jr({prop:"gridColumn"}),Y8=jr({prop:"gridRow"}),X8=jr({prop:"gridAutoFlow"}),K8=jr({prop:"gridAutoColumns"}),Q8=jr({prop:"gridAutoRows"}),Z8=jr({prop:"gridTemplateColumns"}),J8=jr({prop:"gridTemplateRows"}),eD=jr({prop:"gridTemplateAreas"}),tD=jr({prop:"gridArea"});A1(T1,I1,R1,W8,Y8,X8,K8,Q8,Z8,J8,eD,tD);function ef(t,e){return e==="grey"?e:t}const nD=jr({prop:"color",themeKey:"palette",transform:ef}),rD=jr({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:ef}),iD=jr({prop:"backgroundColor",themeKey:"palette",transform:ef});A1(nD,rD,iD);function Ns(t){return t<=1&&t!==0?`${t*100}%`:t}const sD=jr({prop:"width",transform:Ns}),tx=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{const r=t.theme?.breakpoints?.values?.[n]||S1[n];return r?t.theme?.breakpoints?.unit!=="px"?{maxWidth:`${r}${t.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:Ns(n)}};return Xa(t,t.maxWidth,e)}return null};tx.filterProps=["maxWidth"];const oD=jr({prop:"minWidth",transform:Ns}),aD=jr({prop:"height",transform:Ns}),lD=jr({prop:"maxHeight",transform:Ns}),cD=jr({prop:"minHeight",transform:Ns});jr({prop:"size",cssProperty:"width",transform:Ns});jr({prop:"size",cssProperty:"height",transform:Ns});const uD=jr({prop:"boxSizing"});A1(sD,tx,oD,aD,lD,cD,uD);const Ch={border:{themeKey:"borders",transform:eo},borderTop:{themeKey:"borders",transform:eo},borderRight:{themeKey:"borders",transform:eo},borderBottom:{themeKey:"borders",transform:eo},borderLeft:{themeKey:"borders",transform:eo},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:eo},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:_1},color:{themeKey:"palette",transform:ef},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:ef},backgroundColor:{themeKey:"palette",transform:ef},p:{style:Ir},pt:{style:Ir},pr:{style:Ir},pb:{style:Ir},pl:{style:Ir},px:{style:Ir},py:{style:Ir},padding:{style:Ir},paddingTop:{style:Ir},paddingRight:{style:Ir},paddingBottom:{style:Ir},paddingLeft:{style:Ir},paddingX:{style:Ir},paddingY:{style:Ir},paddingInline:{style:Ir},paddingInlineStart:{style:Ir},paddingInlineEnd:{style:Ir},paddingBlock:{style:Ir},paddingBlockStart:{style:Ir},paddingBlockEnd:{style:Ir},m:{style:Tr},mt:{style:Tr},mr:{style:Tr},mb:{style:Tr},ml:{style:Tr},mx:{style:Tr},my:{style:Tr},margin:{style:Tr},marginTop:{style:Tr},marginRight:{style:Tr},marginBottom:{style:Tr},marginLeft:{style:Tr},marginX:{style:Tr},marginY:{style:Tr},marginInline:{style:Tr},marginInlineStart:{style:Tr},marginInlineEnd:{style:Tr},marginBlock:{style:Tr},marginBlockStart:{style:Tr},marginBlockEnd:{style:Tr},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:T1},rowGap:{style:R1},columnGap:{style:I1},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Ns},maxWidth:{style:tx},minWidth:{transform:Ns},height:{transform:Ns},maxHeight:{transform:Ns},minHeight:{transform:Ns},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function fD(...t){const e=t.reduce((r,o)=>r.concat(Object.keys(o)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function dD(t,e){return typeof t=="function"?t(e):t}function hD(){function t(n,r,o,l){const d={[n]:r,theme:o},x=l[n];if(!x)return{[n]:r};const{cssProperty:E=n,themeKey:m,transform:w,style:A}=x;if(r==null)return null;if(m==="typography"&&r==="inherit")return{[n]:r};const I=jo(o,m)||{};return A?A(d):Xa(d,r,M=>{let k=G0(I,w,M);return M===k&&typeof M=="string"&&(k=G0(I,w,`${n}${M==="default"?"":Ge(M)}`,M)),E===!1?k:{[E]:k}})}function e(n){const{sx:r,theme:o={},nested:l}=n||{};if(!r)return null;const d=o.unstable_sxConfig??Ch;function x(E){let m=E;if(typeof E=="function")m=E(o);else if(typeof E!="object")return E;if(!m)return null;const w=I8(o.breakpoints),A=Object.keys(w);let I=w;return Object.keys(m).forEach(N=>{const M=dD(m[N],o);if(M!=null)if(typeof M=="object")if(d[N])I=Ud(I,t(N,M,o,d));else{const k=Xa({theme:o},M,V=>({[N]:V}));fD(k,M)?I[N]=e({sx:M,theme:o,nested:!0}):I=Ud(I,k)}else I=Ud(I,t(N,M,o,d))}),!l&&o.modularCssLayers?{"@layer sx":mC(o,xC(A,I))}:mC(o,xC(A,I))}return Array.isArray(r)?r.map(x):x(r)}return e}const Xl=hD();Xl.filterProps=["sx"];function pD(t,e){const n=this;if(n.vars){if(!n.colorSchemes?.[t]||typeof n.getColorSchemeSelector!="function")return{};let r=n.getColorSchemeSelector(t);return r==="&"?e:((r.includes("data-")||r.includes("."))&&(r=`*:where(${r.replace(/\s*&$/,"")}) &`),{[r]:e})}return n.palette.mode===t?e:{}}function Sh(t={},...e){const{breakpoints:n={},palette:r={},spacing:o,shape:l={},...d}=t,x=w8(n),E=hT(o);let m=Fi({breakpoints:x,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:E,shape:{..._8,...l}},d);return m=A8(m),m.applyStyles=pD,m=e.reduce((w,A)=>Fi(w,A),m),m.unstable_sxConfig={...Ch,...d?.unstable_sxConfig},m.unstable_sx=function(A){return Xl({sx:A,theme:this})},m}function gD(t){return Object.keys(t).length===0}function nx(t=null){const e=L.useContext(Eh);return!e||gD(e)?t:e}const mD=Sh();function Ah(t=mD){return nx(t)}function uy(t){const e=zl(t);return t!==e&&e.styles?(e.styles.match(/^@layer\s+[^{]*$/)||(e.styles=`@layer global{${e.styles}}`),e):t}function pT({styles:t,themeId:e,defaultTheme:n={}}){const r=Ah(n),o=e&&r[e]||r;let l=typeof t=="function"?t(o):t;return o.modularCssLayers&&(Array.isArray(l)?l=l.map(d=>uy(typeof d=="function"?d(o):d)):l=uy(l)),U.jsx(lT,{styles:l})}const yD=t=>{const e={systemProps:{},otherProps:{}},n=t?.theme?.unstable_sxConfig??Ch;return Object.keys(t).forEach(r=>{n[r]?e.systemProps[r]=t[r]:e.otherProps[r]=t[r]}),e};function rx(t){const{sx:e,...n}=t,{systemProps:r,otherProps:o}=yD(n);let l;return Array.isArray(e)?l=[r,...e]:typeof e=="function"?l=(...d)=>{const x=e(...d);return Ho(x)?{...r,...x}:r}:l={...r,...e},{...o,sx:l}}const vC=t=>t,xD=()=>{let t=vC;return{configure(e){t=e},generate(e){return t(e)},reset(){t=vC}}},gT=xD();function mT(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var o=t.length;for(e=0;e<o;e++)t[e]&&(n=mT(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function xt(){for(var t,e,n=0,r="",o=arguments.length;n<o;n++)(t=arguments[n])&&(e=mT(t))&&(r&&(r+=" "),r+=e);return r}function ED(t={}){const{themeId:e,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:o}=t,l=cT("div",{shouldForwardProp:x=>x!=="theme"&&x!=="sx"&&x!=="as"})(Xl);return L.forwardRef(function(E,m){const w=Ah(n),{className:A,component:I="div",...N}=rx(E);return U.jsx(l,{as:I,ref:m,className:xt(A,o?o(r):r),theme:e&&w[e]||w,...N})})}const vD={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function un(t,e,n="Mui"){const r=vD[e];return r?`${n}-${r}`:`${gT.generate(t)}-${e}`}function Zt(t,e,n="Mui"){const r={};return e.forEach(o=>{r[o]=un(t,o,n)}),r}function yT(t){const{variants:e,...n}=t,r={variants:e,style:zl(n),isProcessed:!0};return r.style===n||e&&e.forEach(o=>{typeof o.style!="function"&&(o.style=zl(o.style))}),r}const bD=Sh();function fy(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}function Bc(t,e){return e&&t&&typeof t=="object"&&t.styles&&!t.styles.startsWith("@layer")&&(t.styles=`@layer ${e}{${String(t.styles)}}`),t}function wD(t){return t?(e,n)=>n[t]:null}function CD(t,e,n){t.theme=AD(t.theme)?n:t.theme[e]||t.theme}function S0(t,e,n){const r=typeof e=="function"?e(t):e;if(Array.isArray(r))return r.flatMap(o=>S0(t,o,n));if(Array.isArray(r?.variants)){let o;if(r.isProcessed)o=n?Bc(r.style,n):r.style;else{const{variants:l,...d}=r;o=n?Bc(zl(d),n):d}return xT(t,r.variants,[o],n)}return r?.isProcessed?n?Bc(zl(r.style),n):r.style:n?Bc(zl(r),n):r}function xT(t,e,n=[],r=void 0){let o;e:for(let l=0;l<e.length;l+=1){const d=e[l];if(typeof d.props=="function"){if(o??={...t,...t.ownerState,ownerState:t.ownerState},!d.props(o))continue}else for(const x in d.props)if(t[x]!==d.props[x]&&t.ownerState?.[x]!==d.props[x])continue e;typeof d.style=="function"?(o??={...t,...t.ownerState,ownerState:t.ownerState},n.push(r?Bc(zl(d.style(o)),r):d.style(o))):n.push(r?Bc(zl(d.style),r):d.style)}return n}function ET(t={}){const{themeId:e,defaultTheme:n=bD,rootShouldForwardProp:r=fy,slotShouldForwardProp:o=fy}=t;function l(x){CD(x,e,n)}return(x,E={})=>{x8(x,se=>se.filter(z=>z!==Xl));const{name:m,slot:w,skipVariantsResolver:A,skipSx:I,overridesResolver:N=wD(TD(w)),...M}=E,k=m&&m.startsWith("Mui")||w?"components":"custom",V=A!==void 0?A:w&&w!=="Root"&&w!=="root"||!1,K=I||!1;let Z=fy;w==="Root"||w==="root"?Z=r:w?Z=o:_D(x)&&(Z=void 0);const H=cT(x,{shouldForwardProp:Z,label:SD(),...M}),W=se=>{if(se.__emotion_real===se)return se;if(typeof se=="function")return function(j){return S0(j,se,j.theme.modularCssLayers?k:void 0)};if(Ho(se)){const z=yT(se);return function(F){return z.variants?S0(F,z,F.theme.modularCssLayers?k:void 0):F.theme.modularCssLayers?Bc(z.style,k):z.style}}return se},te=(...se)=>{const z=[],j=se.map(W),F=[];if(z.push(l),m&&N&&F.push(function(q){const re=q.theme.components?.[m]?.styleOverrides;if(!re)return null;const ie={};for(const he in re)ie[he]=S0(q,re[he],q.theme.modularCssLayers?"theme":void 0);return N(q,ie)}),m&&!V&&F.push(function(q){const re=q.theme?.components?.[m]?.variants;return re?xT(q,re,[],q.theme.modularCssLayers?"theme":void 0):null}),K||F.push(Xl),Array.isArray(j[0])){const O=j.shift(),q=new Array(z.length).fill(""),ue=new Array(F.length).fill("");let re;re=[...q,...O,...ue],re.raw=[...q,...O.raw,...ue],z.unshift(re)}const J=[...z,...j,...F],Y=H(...J);return x.muiName&&(Y.muiName=x.muiName),Y};return H.withConfig&&(te.withConfig=H.withConfig),te}}function SD(t,e){return void 0}function AD(t){for(const e in t)return!1;return!0}function _D(t){return typeof t=="string"&&t.charCodeAt(0)>96}function TD(t){return t&&t.charAt(0).toLowerCase()+t.slice(1)}const vT=ET();function nh(t,e,n=!1){const r={...e};for(const o in t)if(Object.prototype.hasOwnProperty.call(t,o)){const l=o;if(l==="components"||l==="slots")r[l]={...t[l],...r[l]};else if(l==="componentsProps"||l==="slotProps"){const d=t[l],x=e[l];if(!x)r[l]=d||{};else if(!d)r[l]=x;else{r[l]={...x};for(const E in d)if(Object.prototype.hasOwnProperty.call(d,E)){const m=E;r[l][m]=nh(d[m],x[m],n)}}}else l==="className"&&n&&e.className?r.className=xt(t?.className,e?.className):l==="style"&&n&&e.style?r.style={...t?.style,...e?.style}:r[l]===void 0&&(r[l]=t[l])}return r}function ID(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:nh(e.components[n].defaultProps,r)}function bT({props:t,name:e,defaultTheme:n,themeId:r}){let o=Ah(n);return r&&(o=o[r]||o),ID({theme:o,name:e,props:t})}const vo=typeof window<"u"?L.useLayoutEffect:L.useEffect;function Hu(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}function ix(t,e=0,n=1){return Hu(t,e,n)}function RD(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,o)=>o<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function Kl(t){if(t.type)return t;if(t.charAt(0)==="#")return Kl(RD(t));const e=t.indexOf("("),n=t.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(Ya(9,t));let r=t.substring(e+1,t.length-1),o;if(n==="color"){if(r=r.split(" "),o=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(o))throw new Error(Ya(10,o))}else r=r.split(",");return r=r.map(l=>parseFloat(l)),{type:n,values:r,colorSpace:o}}const ND=t=>{const e=Kl(t);return e.values.slice(0,3).map((n,r)=>e.type.includes("hsl")&&r!==0?`${n}%`:n).join(" ")},Id=(t,e)=>{try{return ND(t)}catch{return t}};function N1(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.includes("rgb")?r=r.map((o,l)=>l<3?parseInt(o,10):o):e.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.includes("color")?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function wT(t){t=Kl(t);const{values:e}=t,n=e[0],r=e[1]/100,o=e[2]/100,l=r*Math.min(o,1-o),d=(m,w=(m+n/30)%12)=>o-l*Math.max(Math.min(w-3,9-w,1),-1);let x="rgb";const E=[Math.round(d(0)*255),Math.round(d(8)*255),Math.round(d(4)*255)];return t.type==="hsla"&&(x+="a",E.push(e[3])),N1({type:x,values:E})}function zy(t){t=Kl(t);let e=t.type==="hsl"||t.type==="hsla"?Kl(wT(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function MD(t,e){const n=zy(t),r=zy(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function rh(t,e){return t=Kl(t),e=ix(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,N1(t)}function Nc(t,e,n){try{return rh(t,e)}catch{return t}}function M1(t,e){if(t=Kl(t),e=ix(e),t.type.includes("hsl"))t.values[2]*=1-e;else if(t.type.includes("rgb")||t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]*=1-e;return N1(t)}function zn(t,e,n){try{return M1(t,e)}catch{return t}}function O1(t,e){if(t=Kl(t),e=ix(e),t.type.includes("hsl"))t.values[2]+=(100-t.values[2])*e;else if(t.type.includes("rgb"))for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return N1(t)}function jn(t,e,n){try{return O1(t,e)}catch{return t}}function OD(t,e=.15){return zy(t)>.5?M1(t,e):O1(t,e)}function Jp(t,e,n){try{return OD(t,e)}catch{return t}}const CT=L.createContext(null);function sx(){return L.useContext(CT)}const DD=typeof Symbol=="function"&&Symbol.for,LD=DD?Symbol.for("mui.nested"):"__THEME_NESTED__";function PD(t,e){return typeof e=="function"?e(t):{...t,...e}}function kD(t){const{children:e,theme:n}=t,r=sx(),o=L.useMemo(()=>{const l=r===null?{...n}:PD(r,n);return l!=null&&(l[LD]=r!==null),l},[n,r]);return U.jsx(CT.Provider,{value:o,children:e})}const ST=L.createContext();function BD({value:t,...e}){return U.jsx(ST.Provider,{value:t??!0,...e})}const AT=()=>L.useContext(ST)??!1,_T=L.createContext(void 0);function UD({value:t,children:e}){return U.jsx(_T.Provider,{value:t,children:e})}function FD(t){const{theme:e,name:n,props:r}=t;if(!e||!e.components||!e.components[n])return r;const o=e.components[n];return o.defaultProps?nh(o.defaultProps,r,e.components.mergeClassNameAndStyle):!o.styleOverrides&&!o.variants?nh(o,r,e.components.mergeClassNameAndStyle):r}function VD({props:t,name:e}){const n=L.useContext(_T);return FD({props:t,name:e,theme:{components:n}})}let bC=0;function zD(t){const[e,n]=L.useState(t),r=t||e;return L.useEffect(()=>{e==null&&(bC+=1,n(`mui-${bC}`))},[e]),r}const jD={...Dy},wC=jD.useId;function _h(t){if(wC!==void 0){const e=wC();return t??e}return zD(t)}function HD(t){const e=nx(),n=_h()||"",{modularCssLayers:r}=t;let o="mui.global, mui.components, mui.theme, mui.custom, mui.sx";return!r||e!==null?o="":typeof r=="string"?o=r.replace(/mui(?!\.)/g,o):o=`@layer ${o};`,vo(()=>{const l=document.querySelector("head");if(!l)return;const d=l.firstChild;if(o){if(d&&d.hasAttribute?.("data-mui-layer-order")&&d.getAttribute("data-mui-layer-order")===n)return;const x=document.createElement("style");x.setAttribute("data-mui-layer-order",n),x.textContent=o,l.prepend(x)}else l.querySelector(`style[data-mui-layer-order="${n}"]`)?.remove()},[o,n]),o?U.jsx(pT,{styles:o}):null}const CC={};function SC(t,e,n,r=!1){return L.useMemo(()=>{const o=t&&e[t]||e;if(typeof n=="function"){const l=n(o),d=t?{...e,[t]:l}:l;return r?()=>d:d}return t?{...e,[t]:n}:{...e,...n}},[t,e,n,r])}function TT(t){const{children:e,theme:n,themeId:r}=t,o=nx(CC),l=sx()||CC,d=SC(r,o,n),x=SC(r,l,n,!0),E=(r?d[r]:d).direction==="rtl",m=HD(d);return U.jsx(kD,{theme:x,children:U.jsx(Eh.Provider,{value:d,children:U.jsx(BD,{value:E,children:U.jsxs(UD,{value:r?d[r].components:d.components,children:[m,e]})})})})}const AC={theme:void 0};function GD(t){let e,n;return function(o){let l=e;return(l===void 0||o.theme!==n)&&(AC.theme=o.theme,l=yT(t(AC)),e=l,n=o.theme),l}}const ox="mode",ax="color-scheme",$D="data-color-scheme";function qD(t){const{defaultMode:e="system",defaultLightColorScheme:n="light",defaultDarkColorScheme:r="dark",modeStorageKey:o=ox,colorSchemeStorageKey:l=ax,attribute:d=$D,colorSchemeNode:x="document.documentElement",nonce:E}=t||{};let m="",w=d;if(d==="class"&&(w=".%s"),d==="data"&&(w="[data-%s]"),w.startsWith(".")){const I=w.substring(1);m+=`${x}.classList.remove('${I}'.replace('%s', light), '${I}'.replace('%s', dark));
      ${x}.classList.add('${I}'.replace('%s', colorScheme));`}const A=w.match(/\[([^[\]]+)\]/);if(A){const[I,N]=A[1].split("=");N||(m+=`${x}.removeAttribute('${I}'.replace('%s', light));
      ${x}.removeAttribute('${I}'.replace('%s', dark));`),m+=`
      ${x}.setAttribute('${I}'.replace('%s', colorScheme), ${N?`${N}.replace('%s', colorScheme)`:'""'});`}else m+=`${x}.setAttribute('${w}', colorScheme);`;return U.jsx("script",{suppressHydrationWarning:!0,nonce:typeof window>"u"?E:"",dangerouslySetInnerHTML:{__html:`(function() {
try {
  let colorScheme = '';
  const mode = localStorage.getItem('${o}') || '${e}';
  const dark = localStorage.getItem('${l}-dark') || '${r}';
  const light = localStorage.getItem('${l}-light') || '${n}';
  if (mode === 'system') {
    // handle system mode
    const mql = window.matchMedia('(prefers-color-scheme: dark)');
    if (mql.matches) {
      colorScheme = dark
    } else {
      colorScheme = light
    }
  }
  if (mode === 'light') {
    colorScheme = light;
  }
  if (mode === 'dark') {
    colorScheme = dark;
  }
  if (colorScheme) {
    ${m}
  }
} catch(e){}})();`}},"mui-color-scheme-init")}function WD(){}const YD=({key:t,storageWindow:e})=>(!e&&typeof window<"u"&&(e=window),{get(n){if(typeof window>"u")return;if(!e)return n;let r;try{r=e.localStorage.getItem(t)}catch{}return r||n},set:n=>{if(e)try{e.localStorage.setItem(t,n)}catch{}},subscribe:n=>{if(!e)return WD;const r=o=>{const l=o.newValue;o.key===t&&n(l)};return e.addEventListener("storage",r),()=>{e.removeEventListener("storage",r)}}});function dy(){}function _C(t){if(typeof window<"u"&&typeof window.matchMedia=="function"&&t==="system")return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function IT(t,e){if(t.mode==="light"||t.mode==="system"&&t.systemMode==="light")return e("light");if(t.mode==="dark"||t.mode==="system"&&t.systemMode==="dark")return e("dark")}function XD(t){return IT(t,e=>{if(e==="light")return t.lightColorScheme;if(e==="dark")return t.darkColorScheme})}function KD(t){const{defaultMode:e="light",defaultLightColorScheme:n,defaultDarkColorScheme:r,supportedColorSchemes:o=[],modeStorageKey:l=ox,colorSchemeStorageKey:d=ax,storageWindow:x=typeof window>"u"?void 0:window,storageManager:E=YD,noSsr:m=!1}=t,w=o.join(","),A=o.length>1,I=L.useMemo(()=>E?.({key:l,storageWindow:x}),[E,l,x]),N=L.useMemo(()=>E?.({key:`${d}-light`,storageWindow:x}),[E,d,x]),M=L.useMemo(()=>E?.({key:`${d}-dark`,storageWindow:x}),[E,d,x]),[k,V]=L.useState(()=>{const j=I?.get(e)||e,F=N?.get(n)||n,J=M?.get(r)||r;return{mode:j,systemMode:_C(j),lightColorScheme:F,darkColorScheme:J}}),[K,Z]=L.useState(m||!A);L.useEffect(()=>{Z(!0)},[]);const H=XD(k),W=L.useCallback(j=>{V(F=>{if(j===F.mode)return F;const J=j??e;return I?.set(J),{...F,mode:J,systemMode:_C(J)}})},[I,e]),te=L.useCallback(j=>{j?typeof j=="string"?j&&!w.includes(j)?console.error(`\`${j}\` does not exist in \`theme.colorSchemes\`.`):V(F=>{const J={...F};return IT(F,Y=>{Y==="light"&&(N?.set(j),J.lightColorScheme=j),Y==="dark"&&(M?.set(j),J.darkColorScheme=j)}),J}):V(F=>{const J={...F},Y=j.light===null?n:j.light,O=j.dark===null?r:j.dark;return Y&&(w.includes(Y)?(J.lightColorScheme=Y,N?.set(Y)):console.error(`\`${Y}\` does not exist in \`theme.colorSchemes\`.`)),O&&(w.includes(O)?(J.darkColorScheme=O,M?.set(O)):console.error(`\`${O}\` does not exist in \`theme.colorSchemes\`.`)),J}):V(F=>(N?.set(n),M?.set(r),{...F,lightColorScheme:n,darkColorScheme:r}))},[w,N,M,n,r]),se=L.useCallback(j=>{k.mode==="system"&&V(F=>{const J=j?.matches?"dark":"light";return F.systemMode===J?F:{...F,systemMode:J}})},[k.mode]),z=L.useRef(se);return z.current=se,L.useEffect(()=>{if(typeof window.matchMedia!="function"||!A)return;const j=(...J)=>z.current(...J),F=window.matchMedia("(prefers-color-scheme: dark)");return F.addListener(j),j(F),()=>{F.removeListener(j)}},[A]),L.useEffect(()=>{if(A){const j=I?.subscribe(Y=>{(!Y||["light","dark","system"].includes(Y))&&W(Y||e)})||dy,F=N?.subscribe(Y=>{(!Y||w.match(Y))&&te({light:Y})})||dy,J=M?.subscribe(Y=>{(!Y||w.match(Y))&&te({dark:Y})})||dy;return()=>{j(),F(),J()}}},[te,W,w,e,x,A,I,N,M]),{...k,mode:K?k.mode:void 0,systemMode:K?k.systemMode:void 0,colorScheme:K?H:void 0,setMode:W,setColorScheme:te}}const QD="*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";function ZD(t){const{themeId:e,theme:n={},modeStorageKey:r=ox,colorSchemeStorageKey:o=ax,disableTransitionOnChange:l=!1,defaultColorScheme:d,resolveTheme:x}=t,E={allColorSchemes:[],colorScheme:void 0,darkColorScheme:void 0,lightColorScheme:void 0,mode:void 0,setColorScheme:()=>{},setMode:()=>{},systemMode:void 0},m=L.createContext(void 0),w=()=>L.useContext(m)||E,A={},I={};function N(K){const{children:Z,theme:H,modeStorageKey:W=r,colorSchemeStorageKey:te=o,disableTransitionOnChange:se=l,storageManager:z,storageWindow:j=typeof window>"u"?void 0:window,documentNode:F=typeof document>"u"?void 0:document,colorSchemeNode:J=typeof document>"u"?void 0:document.documentElement,disableNestedContext:Y=!1,disableStyleSheetGeneration:O=!1,defaultMode:q="system",forceThemeRerender:ue=!1,noSsr:re}=K,ie=L.useRef(!1),he=sx(),Ne=L.useContext(m),Te=!!Ne&&!Y,We=L.useMemo(()=>H||(typeof n=="function"?n():n),[H]),ae=We[e],ge=ae||We,{colorSchemes:me=A,components:Re=I,cssVarPrefix:ze}=ge,we=Object.keys(me).filter(Ve=>!!me[Ve]).join(","),Ke=L.useMemo(()=>we.split(","),[we]),tt=typeof d=="string"?d:d.light,nt=typeof d=="string"?d:d.dark,st=me[tt]&&me[nt]?q:me[ge.defaultColorScheme]?.palette?.mode||ge.palette?.mode,{mode:dt,setMode:St,systemMode:rt,lightColorScheme:ht,darkColorScheme:Mt,colorScheme:wn,setColorScheme:vt}=KD({supportedColorSchemes:Ke,defaultLightColorScheme:tt,defaultDarkColorScheme:nt,modeStorageKey:W,colorSchemeStorageKey:te,defaultMode:st,storageManager:z,storageWindow:j,noSsr:re});let mt=dt,Qe=wn;Te&&(mt=Ne.mode,Qe=Ne.colorScheme);let Ot=Qe||ge.defaultColorScheme;ge.vars&&!ue&&(Ot=ge.defaultColorScheme);const je=L.useMemo(()=>{const Ve=ge.generateThemeVars?.()||ge.vars,it={...ge,components:Re,colorSchemes:me,cssVarPrefix:ze,vars:Ve};if(typeof it.generateSpacing=="function"&&(it.spacing=it.generateSpacing()),Ot){const ct=me[Ot];ct&&typeof ct=="object"&&Object.keys(ct).forEach(ot=>{ct[ot]&&typeof ct[ot]=="object"?it[ot]={...it[ot],...ct[ot]}:it[ot]=ct[ot]})}return x?x(it):it},[ge,Ot,Re,me,ze]),lt=ge.colorSchemeSelector;vo(()=>{if(Qe&&J&&lt&&lt!=="media"){const Ve=lt;let it=lt;if(Ve==="class"&&(it=".%s"),Ve==="data"&&(it="[data-%s]"),Ve?.startsWith("data-")&&!Ve.includes("%s")&&(it=`[${Ve}="%s"]`),it.startsWith("."))J.classList.remove(...Ke.map(ct=>it.substring(1).replace("%s",ct))),J.classList.add(it.substring(1).replace("%s",Qe));else{const ct=it.replace("%s",Qe).match(/\[([^\]]+)\]/);if(ct){const[ot,bt]=ct[1].split("=");bt||Ke.forEach(Dt=>{J.removeAttribute(ot.replace(Qe,Dt))}),J.setAttribute(ot,bt?bt.replace(/"|'/g,""):"")}else J.setAttribute(it,Qe)}}},[Qe,lt,J,Ke]),L.useEffect(()=>{let Ve;if(se&&ie.current&&F){const it=F.createElement("style");it.appendChild(F.createTextNode(QD)),F.head.appendChild(it),window.getComputedStyle(F.body),Ve=setTimeout(()=>{F.head.removeChild(it)},1)}return()=>{clearTimeout(Ve)}},[Qe,se,F]),L.useEffect(()=>(ie.current=!0,()=>{ie.current=!1}),[]);const rr=L.useMemo(()=>({allColorSchemes:Ke,colorScheme:Qe,darkColorScheme:Mt,lightColorScheme:ht,mode:mt,setColorScheme:vt,setMode:St,systemMode:rt}),[Ke,Qe,Mt,ht,mt,vt,St,rt,je.colorSchemeSelector]);let It=!0;(O||ge.cssVariables===!1||Te&&he?.cssVarPrefix===ze)&&(It=!1);const Ye=U.jsxs(L.Fragment,{children:[U.jsx(TT,{themeId:ae?e:void 0,theme:je,children:Z}),It&&U.jsx(lT,{styles:je.generateStyleSheets?.()||[]})]});return Te?Ye:U.jsx(m.Provider,{value:rr,children:Ye})}const M=typeof d=="string"?d:d.light,k=typeof d=="string"?d:d.dark;return{CssVarsProvider:N,useColorScheme:w,getInitColorSchemeScript:K=>qD({colorSchemeStorageKey:o,defaultLightColorScheme:M,defaultDarkColorScheme:k,modeStorageKey:r,...K})}}function JD(t=""){function e(...r){if(!r.length)return"";const o=r[0];return typeof o=="string"&&!o.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${t?`${t}-`:""}${o}${e(...r.slice(1))})`:`, ${o}`}return(r,...o)=>`var(--${t?`${t}-`:""}${r}${e(...o)})`}const TC=(t,e,n,r=[])=>{let o=t;e.forEach((l,d)=>{d===e.length-1?Array.isArray(o)?o[Number(l)]=n:o&&typeof o=="object"&&(o[l]=n):o&&typeof o=="object"&&(o[l]||(o[l]=r.includes(l)?[]:{}),o=o[l])})},e5=(t,e,n)=>{function r(o,l=[],d=[]){Object.entries(o).forEach(([x,E])=>{(!n||n&&!n([...l,x]))&&E!=null&&(typeof E=="object"&&Object.keys(E).length>0?r(E,[...l,x],Array.isArray(E)?[...d,x]:d):e([...l,x],E,d))})}r(t)},t5=(t,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>t.includes(r))||t[t.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function hy(t,e){const{prefix:n,shouldSkipGeneratingVar:r}=e||{},o={},l={},d={};return e5(t,(x,E,m)=>{if((typeof E=="string"||typeof E=="number")&&(!r||!r(x,E))){const w=`--${n?`${n}-`:""}${x.join("-")}`,A=t5(x,E);Object.assign(o,{[w]:A}),TC(l,x,`var(${w})`,m),TC(d,x,`var(${w}, ${A})`,m)}},x=>x[0]==="vars"),{css:o,vars:l,varsWithDefaults:d}}function n5(t,e={}){const{getSelector:n=K,disableCssColorScheme:r,colorSchemeSelector:o,enableContrastVars:l}=e,{colorSchemes:d={},components:x,defaultColorScheme:E="light",...m}=t,{vars:w,css:A,varsWithDefaults:I}=hy(m,e);let N=I;const M={},{[E]:k,...V}=d;if(Object.entries(V||{}).forEach(([W,te])=>{const{vars:se,css:z,varsWithDefaults:j}=hy(te,e);N=Fi(N,j),M[W]={css:z,vars:se}}),k){const{css:W,vars:te,varsWithDefaults:se}=hy(k,e);N=Fi(N,se),M[E]={css:W,vars:te}}function K(W,te){let se=o;if(o==="class"&&(se=".%s"),o==="data"&&(se="[data-%s]"),o?.startsWith("data-")&&!o.includes("%s")&&(se=`[${o}="%s"]`),W){if(se==="media")return t.defaultColorScheme===W?":root":{[`@media (prefers-color-scheme: ${d[W]?.palette?.mode||W})`]:{":root":te}};if(se)return t.defaultColorScheme===W?`:root, ${se.replace("%s",String(W))}`:se.replace("%s",String(W))}return":root"}return{vars:N,generateThemeVars:()=>{let W={...w};return Object.entries(M).forEach(([,{vars:te}])=>{W=Fi(W,te)}),W},generateStyleSheets:()=>{const W=[],te=t.defaultColorScheme||"light";function se(F,J){Object.keys(J).length&&W.push(typeof F=="string"?{[F]:{...J}}:F)}se(n(void 0,{...A}),A);const{[te]:z,...j}=M;if(z){const{css:F}=z,J=d[te]?.palette?.mode,Y=!r&&J?{colorScheme:J,...F}:{...F};se(n(te,{...Y}),Y)}return Object.entries(j).forEach(([F,{css:J}])=>{const Y=d[F]?.palette?.mode,O=!r&&Y?{colorScheme:Y,...J}:{...J};se(n(F,{...O}),O)}),l&&W.push({":root":{"--__l-threshold":"0.7","--__l":"clamp(0, (l / var(--__l-threshold) - 1) * -infinity, 1)","--__a":"clamp(0.87, (l / var(--__l-threshold) - 1) * -infinity, 1)"}}),W}}}function r5(t){return function(n){return t==="media"?`@media (prefers-color-scheme: ${n})`:t?t.startsWith("data-")&&!t.includes("%s")?`[${t}="${n}"] &`:t==="class"?`.${n} &`:t==="data"?`[data-${n}] &`:`${t.replace("%s",n)} &`:"&"}}function fn(t,e,n=void 0){const r={};for(const o in t){const l=t[o];let d="",x=!0;for(let E=0;E<l.length;E+=1){const m=l[E];m&&(d+=(x===!0?"":" ")+e(m),x=!1,n&&n[m]&&(d+=" "+n[m]))}r[o]=d}return r}const i5=Sh(),s5=vT("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`maxWidth${Ge(String(n.maxWidth))}`],n.fixed&&e.fixed,n.disableGutters&&e.disableGutters]}}),o5=t=>bT({props:t,name:"MuiContainer",defaultTheme:i5}),a5=(t,e)=>{const n=E=>un(e,E),{classes:r,fixed:o,disableGutters:l,maxWidth:d}=t,x={root:["root",d&&`maxWidth${Ge(String(d))}`,o&&"fixed",l&&"disableGutters"]};return fn(x,n,r)};function l5(t={}){const{createStyledComponent:e=s5,useThemeProps:n=o5,componentName:r="MuiContainer"}=t,o=e(({theme:d,ownerState:x})=>({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",...!x.disableGutters&&{paddingLeft:d.spacing(2),paddingRight:d.spacing(2),[d.breakpoints.up("sm")]:{paddingLeft:d.spacing(3),paddingRight:d.spacing(3)}}}),({theme:d,ownerState:x})=>x.fixed&&Object.keys(d.breakpoints.values).reduce((E,m)=>{const w=m,A=d.breakpoints.values[w];return A!==0&&(E[d.breakpoints.up(w)]={maxWidth:`${A}${d.breakpoints.unit}`}),E},{}),({theme:d,ownerState:x})=>({...x.maxWidth==="xs"&&{[d.breakpoints.up("xs")]:{maxWidth:Math.max(d.breakpoints.values.xs,444)}},...x.maxWidth&&x.maxWidth!=="xs"&&{[d.breakpoints.up(x.maxWidth)]:{maxWidth:`${d.breakpoints.values[x.maxWidth]}${d.breakpoints.unit}`}}}));return L.forwardRef(function(x,E){const m=n(x),{className:w,component:A="div",disableGutters:I=!1,fixed:N=!1,maxWidth:M="lg",classes:k,...V}=m,K={...m,component:A,disableGutters:I,fixed:N,maxWidth:M},Z=a5(K,r);return U.jsx(o,{as:A,ownerState:K,className:xt(Z.root,w),ref:E,...V})})}function Fd(t,e){return L.isValidElement(t)&&e.indexOf(t.type.muiName??t.type?._payload?.value?.muiName)!==-1}const c5=(t,e)=>t.filter(n=>e.includes(n)),Af=(t,e,n)=>{const r=t.keys[0];Array.isArray(e)?e.forEach((o,l)=>{n((d,x)=>{l<=t.keys.length-1&&(l===0?Object.assign(d,x):d[t.up(t.keys[l])]=x)},o)}):e&&typeof e=="object"?(Object.keys(e).length>t.keys.length?t.keys:c5(t.keys,Object.keys(e))).forEach(l=>{if(t.keys.includes(l)){const d=e[l];d!==void 0&&n((x,E)=>{r===l?Object.assign(x,E):x[t.up(l)]=E},d)}}):(typeof e=="number"||typeof e=="string")&&n((o,l)=>{Object.assign(o,l)},e)};function $0(t){return`--Grid-${t}Spacing`}function D1(t){return`--Grid-parent-${t}Spacing`}const IC="--Grid-columns",tf="--Grid-parent-columns",u5=({theme:t,ownerState:e})=>{const n={};return Af(t.breakpoints,e.size,(r,o)=>{let l={};o==="grow"&&(l={flexBasis:0,flexGrow:1,maxWidth:"100%"}),o==="auto"&&(l={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"}),typeof o=="number"&&(l={flexGrow:0,flexBasis:"auto",width:`calc(100% * ${o} / var(${tf}) - (var(${tf}) - ${o}) * (var(${D1("column")}) / var(${tf})))`}),r(n,l)}),n},f5=({theme:t,ownerState:e})=>{const n={};return Af(t.breakpoints,e.offset,(r,o)=>{let l={};o==="auto"&&(l={marginLeft:"auto"}),typeof o=="number"&&(l={marginLeft:o===0?"0px":`calc(100% * ${o} / var(${tf}) + var(${D1("column")}) * ${o} / var(${tf}))`}),r(n,l)}),n},d5=({theme:t,ownerState:e})=>{if(!e.container)return{};const n={[IC]:12};return Af(t.breakpoints,e.columns,(r,o)=>{const l=o??12;r(n,{[IC]:l,"> *":{[tf]:l}})}),n},h5=({theme:t,ownerState:e})=>{if(!e.container)return{};const n={};return Af(t.breakpoints,e.rowSpacing,(r,o)=>{const l=typeof o=="string"?o:t.spacing?.(o);r(n,{[$0("row")]:l,"> *":{[D1("row")]:l}})}),n},p5=({theme:t,ownerState:e})=>{if(!e.container)return{};const n={};return Af(t.breakpoints,e.columnSpacing,(r,o)=>{const l=typeof o=="string"?o:t.spacing?.(o);r(n,{[$0("column")]:l,"> *":{[D1("column")]:l}})}),n},g5=({theme:t,ownerState:e})=>{if(!e.container)return{};const n={};return Af(t.breakpoints,e.direction,(r,o)=>{r(n,{flexDirection:o})}),n},m5=({ownerState:t})=>({minWidth:0,boxSizing:"border-box",...t.container&&{display:"flex",flexWrap:"wrap",...t.wrap&&t.wrap!=="wrap"&&{flexWrap:t.wrap},gap:`var(${$0("row")}) var(${$0("column")})`}}),y5=t=>{const e=[];return Object.entries(t).forEach(([n,r])=>{r!==!1&&r!==void 0&&e.push(`grid-${n}-${String(r)}`)}),e},x5=(t,e="xs")=>{function n(r){return r===void 0?!1:typeof r=="string"&&!Number.isNaN(Number(r))||typeof r=="number"&&r>0}if(n(t))return[`spacing-${e}-${String(t)}`];if(typeof t=="object"&&!Array.isArray(t)){const r=[];return Object.entries(t).forEach(([o,l])=>{n(l)&&r.push(`spacing-${o}-${String(l)}`)}),r}return[]},E5=t=>t===void 0?[]:typeof t=="object"?Object.entries(t).map(([e,n])=>`direction-${e}-${n}`):[`direction-xs-${String(t)}`];function v5(t,e){t.item!==void 0&&delete t.item,t.zeroMinWidth!==void 0&&delete t.zeroMinWidth,e.keys.forEach(n=>{t[n]!==void 0&&delete t[n]})}const b5=Sh(),w5=vT("div",{name:"MuiGrid",slot:"Root"});function C5(t){return bT({props:t,name:"MuiGrid",defaultTheme:b5})}function S5(t={}){const{createStyledComponent:e=w5,useThemeProps:n=C5,useTheme:r=Ah,componentName:o="MuiGrid"}=t,l=(m,w)=>{const{container:A,direction:I,spacing:N,wrap:M,size:k}=m,V={root:["root",A&&"container",M!=="wrap"&&`wrap-xs-${String(M)}`,...E5(I),...y5(k),...A?x5(N,w.breakpoints.keys[0]):[]]};return fn(V,K=>un(o,K),{})};function d(m,w,A=()=>!0){const I={};return m===null||(Array.isArray(m)?m.forEach((N,M)=>{N!==null&&A(N)&&w.keys[M]&&(I[w.keys[M]]=N)}):typeof m=="object"?Object.keys(m).forEach(N=>{const M=m[N];M!=null&&A(M)&&(I[N]=M)}):I[w.keys[0]]=m),I}const x=e(d5,p5,h5,u5,g5,m5,f5),E=L.forwardRef(function(w,A){const I=r(),N=n(w),M=rx(N);v5(M,I.breakpoints);const{className:k,children:V,columns:K=12,container:Z=!1,component:H="div",direction:W="row",wrap:te="wrap",size:se={},offset:z={},spacing:j=0,rowSpacing:F=j,columnSpacing:J=j,unstable_level:Y=0,...O}=M,q=d(se,I.breakpoints,ae=>ae!==!1),ue=d(z,I.breakpoints),re=w.columns??(Y?void 0:K),ie=w.spacing??(Y?void 0:j),he=w.rowSpacing??w.spacing??(Y?void 0:F),Ne=w.columnSpacing??w.spacing??(Y?void 0:J),Te={...M,level:Y,columns:re,container:Z,direction:W,wrap:te,spacing:ie,rowSpacing:he,columnSpacing:Ne,size:q,offset:ue},We=l(Te,I);return U.jsx(x,{ref:A,as:H,ownerState:Te,className:xt(We.root,k),...O,children:L.Children.map(V,ae=>L.isValidElement(ae)&&Fd(ae,["Grid"])&&Z&&ae.props.container?L.cloneElement(ae,{unstable_level:ae.props?.unstable_level??Y+1}):ae)})});return E.muiName="Grid",E}function RT(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Zd.white,default:Zd.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const NT=RT();function MT(){return{text:{primary:Zd.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Zd.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const jy=MT();function RC(t,e,n,r){const o=r.light||r,l=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=O1(t.main,o):e==="dark"&&(t.dark=M1(t.main,l)))}function NC(t,e,n,r,o){const l=o.light||o,d=o.dark||o*1.5;e[n]||(e.hasOwnProperty(r)?e[n]=e[r]:n==="light"?e.light=`color-mix(in ${t}, ${e.main}, #fff ${(l*100).toFixed(0)}%)`:n==="dark"&&(e.dark=`color-mix(in ${t}, ${e.main}, #000 ${(d*100).toFixed(0)}%)`))}function A5(t="light"){return t==="dark"?{main:Bu[200],light:Bu[50],dark:Bu[400]}:{main:Bu[700],light:Bu[400],dark:Bu[800]}}function _5(t="light"){return t==="dark"?{main:ku[200],light:ku[50],dark:ku[400]}:{main:ku[500],light:ku[300],dark:ku[700]}}function T5(t="light"){return t==="dark"?{main:Pu[500],light:Pu[300],dark:Pu[700]}:{main:Pu[700],light:Pu[400],dark:Pu[800]}}function I5(t="light"){return t==="dark"?{main:Uu[400],light:Uu[300],dark:Uu[700]}:{main:Uu[700],light:Uu[500],dark:Uu[900]}}function R5(t="light"){return t==="dark"?{main:Fu[400],light:Fu[300],dark:Fu[700]}:{main:Fu[800],light:Fu[500],dark:Fu[900]}}function N5(t="light"){return t==="dark"?{main:xd[400],light:xd[300],dark:xd[700]}:{main:"#ed6c02",light:xd[500],dark:xd[900]}}function M5(t){return`oklch(from ${t} var(--__l) 0 h / var(--__a))`}function lx(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2,colorSpace:o,...l}=t,d=t.primary||A5(e),x=t.secondary||_5(e),E=t.error||T5(e),m=t.info||I5(e),w=t.success||R5(e),A=t.warning||N5(e);function I(V){return o?M5(V):MD(V,jy.text.primary)>=n?jy.text.primary:NT.text.primary}const N=({color:V,name:K,mainShade:Z=500,lightShade:H=300,darkShade:W=700})=>{if(V={...V},!V.main&&V[Z]&&(V.main=V[Z]),!V.hasOwnProperty("main"))throw new Error(Ya(11,K?` (${K})`:"",Z));if(typeof V.main!="string")throw new Error(Ya(12,K?` (${K})`:"",JSON.stringify(V.main)));return o?(NC(o,V,"light",H,r),NC(o,V,"dark",W,r)):(RC(V,"light",H,r),RC(V,"dark",W,r)),V.contrastText||(V.contrastText=I(V.main)),V};let M;return e==="light"?M=RT():e==="dark"&&(M=MT()),Fi({common:{...Zd},mode:e,primary:N({color:d,name:"primary"}),secondary:N({color:x,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:N({color:E,name:"error"}),warning:N({color:A,name:"warning"}),info:N({color:m,name:"info"}),success:N({color:w,name:"success"}),grey:E6,contrastThreshold:n,getContrastText:I,augmentColor:N,tonalOffset:r,...M},l)}function O5(t){const e={};return Object.entries(t).forEach(r=>{const[o,l]=r;typeof l=="object"&&(e[o]=`${l.fontStyle?`${l.fontStyle} `:""}${l.fontVariant?`${l.fontVariant} `:""}${l.fontWeight?`${l.fontWeight} `:""}${l.fontStretch?`${l.fontStretch} `:""}${l.fontSize||""}${l.lineHeight?`/${l.lineHeight} `:""}${l.fontFamily||""}`)}),e}function D5(t,e){return{toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}},...e}}function L5(t){return Math.round(t*1e5)/1e5}const MC={textTransform:"uppercase"},OC='"Roboto", "Helvetica", "Arial", sans-serif';function OT(t,e){const{fontFamily:n=OC,fontSize:r=14,fontWeightLight:o=300,fontWeightRegular:l=400,fontWeightMedium:d=500,fontWeightBold:x=700,htmlFontSize:E=16,allVariants:m,pxToRem:w,...A}=typeof e=="function"?e(t):e,I=r/14,N=w||(V=>`${V/E*I}rem`),M=(V,K,Z,H,W)=>({fontFamily:n,fontWeight:V,fontSize:N(K),lineHeight:Z,...n===OC?{letterSpacing:`${L5(H/K)}em`}:{},...W,...m}),k={h1:M(o,96,1.167,-1.5),h2:M(o,60,1.2,-.5),h3:M(l,48,1.167,0),h4:M(l,34,1.235,.25),h5:M(l,24,1.334,0),h6:M(d,20,1.6,.15),subtitle1:M(l,16,1.75,.15),subtitle2:M(d,14,1.57,.1),body1:M(l,16,1.5,.15),body2:M(l,14,1.43,.15),button:M(d,14,1.75,.4,MC),caption:M(l,12,1.66,.4),overline:M(l,12,2.66,1,MC),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Fi({htmlFontSize:E,pxToRem:N,fontFamily:n,fontSize:r,fontWeightLight:o,fontWeightRegular:l,fontWeightMedium:d,fontWeightBold:x,...k},A,{clone:!1})}const P5=.2,k5=.14,B5=.12;function mr(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${P5})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${k5})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${B5})`].join(",")}const U5=["none",mr(0,2,1,-1,0,1,1,0,0,1,3,0),mr(0,3,1,-2,0,2,2,0,0,1,5,0),mr(0,3,3,-2,0,3,4,0,0,1,8,0),mr(0,2,4,-1,0,4,5,0,0,1,10,0),mr(0,3,5,-1,0,5,8,0,0,1,14,0),mr(0,3,5,-1,0,6,10,0,0,1,18,0),mr(0,4,5,-2,0,7,10,1,0,2,16,1),mr(0,5,5,-3,0,8,10,1,0,3,14,2),mr(0,5,6,-3,0,9,12,1,0,3,16,2),mr(0,6,6,-3,0,10,14,1,0,4,18,3),mr(0,6,7,-4,0,11,15,1,0,4,20,3),mr(0,7,8,-4,0,12,17,2,0,5,22,4),mr(0,7,8,-4,0,13,19,2,0,5,24,4),mr(0,7,9,-4,0,14,21,2,0,5,26,4),mr(0,8,9,-5,0,15,22,2,0,6,28,5),mr(0,8,10,-5,0,16,24,2,0,6,30,5),mr(0,8,11,-5,0,17,26,2,0,6,32,5),mr(0,9,11,-5,0,18,28,2,0,7,34,6),mr(0,9,12,-6,0,19,29,2,0,7,36,6),mr(0,10,13,-6,0,20,31,3,0,8,38,7),mr(0,10,13,-6,0,21,33,3,0,8,40,7),mr(0,10,14,-6,0,22,35,3,0,8,42,7),mr(0,11,14,-7,0,23,36,3,0,9,44,8),mr(0,11,15,-7,0,24,38,3,0,9,46,8)],F5={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},V5={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function DC(t){return`${Math.round(t)}ms`}function z5(t){if(!t)return 0;const e=t/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function j5(t){const e={...F5,...t.easing},n={...V5,...t.duration};return{getAutoHeightDuration:z5,create:(o=["all"],l={})=>{const{duration:d=n.standard,easing:x=e.easeInOut,delay:E=0,...m}=l;return(Array.isArray(o)?o:[o]).map(w=>`${w} ${typeof d=="string"?d:DC(d)} ${x} ${typeof E=="string"?E:DC(E)}`).join(",")},...t,easing:e,duration:n}}const H5={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function G5(t){return Ho(t)||typeof t>"u"||typeof t=="string"||typeof t=="boolean"||typeof t=="number"||Array.isArray(t)}function DT(t={}){const e={...t};function n(r){const o=Object.entries(r);for(let l=0;l<o.length;l++){const[d,x]=o[l];!G5(x)||d.startsWith("unstable_")?delete r[d]:Ho(x)&&(r[d]={...x},n(r[d]))}}return n(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function LC(t){return typeof t=="number"?`${(t*100).toFixed(0)}%`:`calc((${t}) * 100%)`}const $5=t=>{if(!Number.isNaN(+t))return+t;const e=t.match(/\d*\.?\d+/g);if(!e)return 0;let n=0;for(let r=0;r<e.length;r+=1)n+=+e[r];return n};function q5(t){Object.assign(t,{alpha(e,n){const r=this||t;return r.colorSpace?`oklch(from ${e} l c h / ${typeof n=="string"?`calc(${n})`:n})`:r.vars?`rgba(${e.replace(/var\(--([^,\s)]+)(?:,[^)]+)?\)+/g,"var(--$1Channel)")} / ${typeof n=="string"?`calc(${n})`:n})`:rh(e,$5(n))},lighten(e,n){const r=this||t;return r.colorSpace?`color-mix(in ${r.colorSpace}, ${e}, #fff ${LC(n)})`:O1(e,n)},darken(e,n){const r=this||t;return r.colorSpace?`color-mix(in ${r.colorSpace}, ${e}, #000 ${LC(n)})`:M1(e,n)}})}function Hy(t={},...e){const{breakpoints:n,mixins:r={},spacing:o,palette:l={},transitions:d={},typography:x={},shape:E,colorSpace:m,...w}=t;if(t.vars&&t.generateThemeVars===void 0)throw new Error(Ya(20));const A=lx({...l,colorSpace:m}),I=Sh(t);let N=Fi(I,{mixins:D5(I.breakpoints,r),palette:A,shadows:U5.slice(),typography:OT(A,x),transitions:j5(d),zIndex:{...H5}});return N=Fi(N,w),N=e.reduce((M,k)=>Fi(M,k),N),N.unstable_sxConfig={...Ch,...w?.unstable_sxConfig},N.unstable_sx=function(k){return Xl({sx:k,theme:this})},N.toRuntimeSource=DT,q5(N),N}function Gy(t){let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,Math.round(e*10)/1e3}const W5=[...Array(25)].map((t,e)=>{if(e===0)return"none";const n=Gy(e);return`linear-gradient(rgba(255 255 255 / ${n}), rgba(255 255 255 / ${n}))`});function LT(t){return{inputPlaceholder:t==="dark"?.5:.42,inputUnderline:t==="dark"?.7:.42,switchTrackDisabled:t==="dark"?.2:.12,switchTrack:t==="dark"?.3:.38}}function PT(t){return t==="dark"?W5:[]}function Y5(t){const{palette:e={mode:"light"},opacity:n,overlays:r,colorSpace:o,...l}=t,d=lx({...e,colorSpace:o});return{palette:d,opacity:{...LT(d.mode),...n},overlays:r||PT(d.mode),...l}}function X5(t){return!!t[0].match(/(cssVarPrefix|colorSchemeSelector|modularCssLayers|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!t[0].match(/sxConfig$/)||t[0]==="palette"&&!!t[1]?.match(/(mode|contrastThreshold|tonalOffset)/)}const K5=t=>[...[...Array(25)].map((e,n)=>`--${t?`${t}-`:""}overlays-${n}`),`--${t?`${t}-`:""}palette-AppBar-darkBg`,`--${t?`${t}-`:""}palette-AppBar-darkColor`],Q5=t=>(e,n)=>{const r=t.rootSelector||":root",o=t.colorSchemeSelector;let l=o;if(o==="class"&&(l=".%s"),o==="data"&&(l="[data-%s]"),o?.startsWith("data-")&&!o.includes("%s")&&(l=`[${o}="%s"]`),t.defaultColorScheme===e){if(e==="dark"){const d={};return K5(t.cssVarPrefix).forEach(x=>{d[x]=n[x],delete n[x]}),l==="media"?{[r]:n,"@media (prefers-color-scheme: dark)":{[r]:d}}:l?{[l.replace("%s",e)]:d,[`${r}, ${l.replace("%s",e)}`]:n}:{[r]:{...n,...d}}}if(l&&l!=="media")return`${r}, ${l.replace("%s",String(e))}`}else if(e){if(l==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[r]:n}};if(l)return l.replace("%s",String(e))}return r};function Z5(t,e){e.forEach(n=>{t[n]||(t[n]={})})}function Oe(t,e,n){!t[e]&&n&&(t[e]=n)}function Rd(t){return typeof t!="string"||!t.startsWith("hsl")?t:wT(t)}function Pa(t,e){`${e}Channel`in t||(t[`${e}Channel`]=Id(Rd(t[e])))}function J5(t){return typeof t=="number"?`${t}px`:typeof t=="string"||typeof t=="function"||Array.isArray(t)?t:"8px"}const ko=t=>{try{return t()}catch{}},eL=(t="mui")=>JD(t);function py(t,e,n,r,o){if(!n)return;n=n===!0?{}:n;const l=o==="dark"?"dark":"light";if(!r){e[o]=Y5({...n,palette:{mode:l,...n?.palette},colorSpace:t});return}const{palette:d,...x}=Hy({...r,palette:{mode:l,...n?.palette},colorSpace:t});return e[o]={...n,palette:d,opacity:{...LT(l),...n?.opacity},overlays:n?.overlays||PT(l)},x}function tL(t={},...e){const{colorSchemes:n={light:!0},defaultColorScheme:r,disableCssColorScheme:o=!1,cssVarPrefix:l="mui",nativeColor:d=!1,shouldSkipGeneratingVar:x=X5,colorSchemeSelector:E=n.light&&n.dark?"media":void 0,rootSelector:m=":root",...w}=t,A=Object.keys(n)[0],I=r||(n.light&&A!=="light"?"light":A),N=eL(l),{[I]:M,light:k,dark:V,...K}=n,Z={...K};let H=M;if((I==="dark"&&!("dark"in n)||I==="light"&&!("light"in n))&&(H=!0),!H)throw new Error(Ya(21,I));let W;d&&(W="oklch");const te=py(W,Z,H,w,I);k&&!Z.light&&py(W,Z,k,void 0,"light"),V&&!Z.dark&&py(W,Z,V,void 0,"dark");let se={defaultColorScheme:I,...te,cssVarPrefix:l,colorSchemeSelector:E,rootSelector:m,getCssVar:N,colorSchemes:Z,font:{...O5(te.typography),...te.font},spacing:J5(w.spacing)};Object.keys(se.colorSchemes).forEach(Y=>{const O=se.colorSchemes[Y].palette,q=re=>{const ie=re.split("-"),he=ie[1],Ne=ie[2];return N(re,O[he][Ne])};O.mode==="light"&&(Oe(O.common,"background","#fff"),Oe(O.common,"onBackground","#000")),O.mode==="dark"&&(Oe(O.common,"background","#000"),Oe(O.common,"onBackground","#fff"));function ue(re,ie,he){if(W){let Ne;return re===Nc&&(Ne=`transparent ${((1-he)*100).toFixed(0)}%`),re===zn&&(Ne=`#000 ${(he*100).toFixed(0)}%`),re===jn&&(Ne=`#fff ${(he*100).toFixed(0)}%`),`color-mix(in ${W}, ${ie}, ${Ne})`}return re(ie,he)}if(Z5(O,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),O.mode==="light"){Oe(O.Alert,"errorColor",ue(zn,O.error.light,.6)),Oe(O.Alert,"infoColor",ue(zn,O.info.light,.6)),Oe(O.Alert,"successColor",ue(zn,O.success.light,.6)),Oe(O.Alert,"warningColor",ue(zn,O.warning.light,.6)),Oe(O.Alert,"errorFilledBg",q("palette-error-main")),Oe(O.Alert,"infoFilledBg",q("palette-info-main")),Oe(O.Alert,"successFilledBg",q("palette-success-main")),Oe(O.Alert,"warningFilledBg",q("palette-warning-main")),Oe(O.Alert,"errorFilledColor",ko(()=>O.getContrastText(O.error.main))),Oe(O.Alert,"infoFilledColor",ko(()=>O.getContrastText(O.info.main))),Oe(O.Alert,"successFilledColor",ko(()=>O.getContrastText(O.success.main))),Oe(O.Alert,"warningFilledColor",ko(()=>O.getContrastText(O.warning.main))),Oe(O.Alert,"errorStandardBg",ue(jn,O.error.light,.9)),Oe(O.Alert,"infoStandardBg",ue(jn,O.info.light,.9)),Oe(O.Alert,"successStandardBg",ue(jn,O.success.light,.9)),Oe(O.Alert,"warningStandardBg",ue(jn,O.warning.light,.9)),Oe(O.Alert,"errorIconColor",q("palette-error-main")),Oe(O.Alert,"infoIconColor",q("palette-info-main")),Oe(O.Alert,"successIconColor",q("palette-success-main")),Oe(O.Alert,"warningIconColor",q("palette-warning-main")),Oe(O.AppBar,"defaultBg",q("palette-grey-100")),Oe(O.Avatar,"defaultBg",q("palette-grey-400")),Oe(O.Button,"inheritContainedBg",q("palette-grey-300")),Oe(O.Button,"inheritContainedHoverBg",q("palette-grey-A100")),Oe(O.Chip,"defaultBorder",q("palette-grey-400")),Oe(O.Chip,"defaultAvatarColor",q("palette-grey-700")),Oe(O.Chip,"defaultIconColor",q("palette-grey-700")),Oe(O.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),Oe(O.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),Oe(O.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),Oe(O.LinearProgress,"primaryBg",ue(jn,O.primary.main,.62)),Oe(O.LinearProgress,"secondaryBg",ue(jn,O.secondary.main,.62)),Oe(O.LinearProgress,"errorBg",ue(jn,O.error.main,.62)),Oe(O.LinearProgress,"infoBg",ue(jn,O.info.main,.62)),Oe(O.LinearProgress,"successBg",ue(jn,O.success.main,.62)),Oe(O.LinearProgress,"warningBg",ue(jn,O.warning.main,.62)),Oe(O.Skeleton,"bg",W?ue(Nc,O.text.primary,.11):`rgba(${q("palette-text-primaryChannel")} / 0.11)`),Oe(O.Slider,"primaryTrack",ue(jn,O.primary.main,.62)),Oe(O.Slider,"secondaryTrack",ue(jn,O.secondary.main,.62)),Oe(O.Slider,"errorTrack",ue(jn,O.error.main,.62)),Oe(O.Slider,"infoTrack",ue(jn,O.info.main,.62)),Oe(O.Slider,"successTrack",ue(jn,O.success.main,.62)),Oe(O.Slider,"warningTrack",ue(jn,O.warning.main,.62));const re=W?ue(zn,O.background.default,.6825):Jp(O.background.default,.8);Oe(O.SnackbarContent,"bg",re),Oe(O.SnackbarContent,"color",ko(()=>W?jy.text.primary:O.getContrastText(re))),Oe(O.SpeedDialAction,"fabHoverBg",Jp(O.background.paper,.15)),Oe(O.StepConnector,"border",q("palette-grey-400")),Oe(O.StepContent,"border",q("palette-grey-400")),Oe(O.Switch,"defaultColor",q("palette-common-white")),Oe(O.Switch,"defaultDisabledColor",q("palette-grey-100")),Oe(O.Switch,"primaryDisabledColor",ue(jn,O.primary.main,.62)),Oe(O.Switch,"secondaryDisabledColor",ue(jn,O.secondary.main,.62)),Oe(O.Switch,"errorDisabledColor",ue(jn,O.error.main,.62)),Oe(O.Switch,"infoDisabledColor",ue(jn,O.info.main,.62)),Oe(O.Switch,"successDisabledColor",ue(jn,O.success.main,.62)),Oe(O.Switch,"warningDisabledColor",ue(jn,O.warning.main,.62)),Oe(O.TableCell,"border",ue(jn,ue(Nc,O.divider,1),.88)),Oe(O.Tooltip,"bg",ue(Nc,O.grey[700],.92))}if(O.mode==="dark"){Oe(O.Alert,"errorColor",ue(jn,O.error.light,.6)),Oe(O.Alert,"infoColor",ue(jn,O.info.light,.6)),Oe(O.Alert,"successColor",ue(jn,O.success.light,.6)),Oe(O.Alert,"warningColor",ue(jn,O.warning.light,.6)),Oe(O.Alert,"errorFilledBg",q("palette-error-dark")),Oe(O.Alert,"infoFilledBg",q("palette-info-dark")),Oe(O.Alert,"successFilledBg",q("palette-success-dark")),Oe(O.Alert,"warningFilledBg",q("palette-warning-dark")),Oe(O.Alert,"errorFilledColor",ko(()=>O.getContrastText(O.error.dark))),Oe(O.Alert,"infoFilledColor",ko(()=>O.getContrastText(O.info.dark))),Oe(O.Alert,"successFilledColor",ko(()=>O.getContrastText(O.success.dark))),Oe(O.Alert,"warningFilledColor",ko(()=>O.getContrastText(O.warning.dark))),Oe(O.Alert,"errorStandardBg",ue(zn,O.error.light,.9)),Oe(O.Alert,"infoStandardBg",ue(zn,O.info.light,.9)),Oe(O.Alert,"successStandardBg",ue(zn,O.success.light,.9)),Oe(O.Alert,"warningStandardBg",ue(zn,O.warning.light,.9)),Oe(O.Alert,"errorIconColor",q("palette-error-main")),Oe(O.Alert,"infoIconColor",q("palette-info-main")),Oe(O.Alert,"successIconColor",q("palette-success-main")),Oe(O.Alert,"warningIconColor",q("palette-warning-main")),Oe(O.AppBar,"defaultBg",q("palette-grey-900")),Oe(O.AppBar,"darkBg",q("palette-background-paper")),Oe(O.AppBar,"darkColor",q("palette-text-primary")),Oe(O.Avatar,"defaultBg",q("palette-grey-600")),Oe(O.Button,"inheritContainedBg",q("palette-grey-800")),Oe(O.Button,"inheritContainedHoverBg",q("palette-grey-700")),Oe(O.Chip,"defaultBorder",q("palette-grey-700")),Oe(O.Chip,"defaultAvatarColor",q("palette-grey-300")),Oe(O.Chip,"defaultIconColor",q("palette-grey-300")),Oe(O.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),Oe(O.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),Oe(O.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),Oe(O.LinearProgress,"primaryBg",ue(zn,O.primary.main,.5)),Oe(O.LinearProgress,"secondaryBg",ue(zn,O.secondary.main,.5)),Oe(O.LinearProgress,"errorBg",ue(zn,O.error.main,.5)),Oe(O.LinearProgress,"infoBg",ue(zn,O.info.main,.5)),Oe(O.LinearProgress,"successBg",ue(zn,O.success.main,.5)),Oe(O.LinearProgress,"warningBg",ue(zn,O.warning.main,.5)),Oe(O.Skeleton,"bg",W?ue(Nc,O.text.primary,.13):`rgba(${q("palette-text-primaryChannel")} / 0.13)`),Oe(O.Slider,"primaryTrack",ue(zn,O.primary.main,.5)),Oe(O.Slider,"secondaryTrack",ue(zn,O.secondary.main,.5)),Oe(O.Slider,"errorTrack",ue(zn,O.error.main,.5)),Oe(O.Slider,"infoTrack",ue(zn,O.info.main,.5)),Oe(O.Slider,"successTrack",ue(zn,O.success.main,.5)),Oe(O.Slider,"warningTrack",ue(zn,O.warning.main,.5));const re=W?ue(jn,O.background.default,.985):Jp(O.background.default,.98);Oe(O.SnackbarContent,"bg",re),Oe(O.SnackbarContent,"color",ko(()=>W?NT.text.primary:O.getContrastText(re))),Oe(O.SpeedDialAction,"fabHoverBg",Jp(O.background.paper,.15)),Oe(O.StepConnector,"border",q("palette-grey-600")),Oe(O.StepContent,"border",q("palette-grey-600")),Oe(O.Switch,"defaultColor",q("palette-grey-300")),Oe(O.Switch,"defaultDisabledColor",q("palette-grey-600")),Oe(O.Switch,"primaryDisabledColor",ue(zn,O.primary.main,.55)),Oe(O.Switch,"secondaryDisabledColor",ue(zn,O.secondary.main,.55)),Oe(O.Switch,"errorDisabledColor",ue(zn,O.error.main,.55)),Oe(O.Switch,"infoDisabledColor",ue(zn,O.info.main,.55)),Oe(O.Switch,"successDisabledColor",ue(zn,O.success.main,.55)),Oe(O.Switch,"warningDisabledColor",ue(zn,O.warning.main,.55)),Oe(O.TableCell,"border",ue(zn,ue(Nc,O.divider,1),.68)),Oe(O.Tooltip,"bg",ue(Nc,O.grey[700],.92))}Pa(O.background,"default"),Pa(O.background,"paper"),Pa(O.common,"background"),Pa(O.common,"onBackground"),Pa(O,"divider"),Object.keys(O).forEach(re=>{const ie=O[re];re!=="tonalOffset"&&ie&&typeof ie=="object"&&(ie.main&&Oe(O[re],"mainChannel",Id(Rd(ie.main))),ie.light&&Oe(O[re],"lightChannel",Id(Rd(ie.light))),ie.dark&&Oe(O[re],"darkChannel",Id(Rd(ie.dark))),ie.contrastText&&Oe(O[re],"contrastTextChannel",Id(Rd(ie.contrastText))),re==="text"&&(Pa(O[re],"primary"),Pa(O[re],"secondary")),re==="action"&&(ie.active&&Pa(O[re],"active"),ie.selected&&Pa(O[re],"selected")))})}),se=e.reduce((Y,O)=>Fi(Y,O),se);const z={prefix:l,disableCssColorScheme:o,shouldSkipGeneratingVar:x,getSelector:Q5(se),enableContrastVars:d},{vars:j,generateThemeVars:F,generateStyleSheets:J}=n5(se,z);return se.vars=j,Object.entries(se.colorSchemes[se.defaultColorScheme]).forEach(([Y,O])=>{se[Y]=O}),se.generateThemeVars=F,se.generateStyleSheets=J,se.generateSpacing=function(){return hT(w.spacing,ex(this))},se.getColorSchemeSelector=r5(E),se.spacing=se.generateSpacing(),se.shouldSkipGeneratingVar=x,se.unstable_sxConfig={...Ch,...w?.unstable_sxConfig},se.unstable_sx=function(O){return Xl({sx:O,theme:this})},se.toRuntimeSource=DT,se}function PC(t,e,n){t.colorSchemes&&n&&(t.colorSchemes[e]={...n!==!0&&n,palette:lx({...n===!0?{}:n.palette,mode:e})})}function L1(t={},...e){const{palette:n,cssVariables:r=!1,colorSchemes:o=n?void 0:{light:!0},defaultColorScheme:l=n?.mode,...d}=t,x=l||"light",E=o?.[x],m={...o,...n?{[x]:{...typeof E!="boolean"&&E,palette:n}}:void 0};if(r===!1){if(!("colorSchemes"in t))return Hy(t,...e);let w=n;"palette"in t||m[x]&&(m[x]!==!0?w=m[x].palette:x==="dark"&&(w={mode:"dark"}));const A=Hy({...t,palette:w},...e);return A.defaultColorScheme=x,A.colorSchemes=m,A.palette.mode==="light"&&(A.colorSchemes.light={...m.light!==!0&&m.light,palette:A.palette},PC(A,"dark",m.dark)),A.palette.mode==="dark"&&(A.colorSchemes.dark={...m.dark!==!0&&m.dark,palette:A.palette},PC(A,"light",m.light)),A}return!n&&!("light"in m)&&x==="light"&&(m.light=!0),tL({...d,colorSchemes:m,defaultColorScheme:x,...typeof r!="boolean"&&r},...e)}const cx=L1();function Th(){const t=Ah(cx);return t[Go]||t}function P1(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const so=t=>P1(t)&&t!=="classes",et=ET({themeId:Go,defaultTheme:cx,rootShouldForwardProp:so});function nL({theme:t,...e}){const n=Go in t?t[Go]:void 0;return U.jsx(TT,{...e,themeId:n?Go:void 0,theme:n||t})}const e0={colorSchemeStorageKey:"mui-color-scheme",defaultLightColorScheme:"light",defaultDarkColorScheme:"dark",modeStorageKey:"mui-mode"},{CssVarsProvider:rL}=ZD({themeId:Go,theme:()=>L1({cssVariables:!0}),colorSchemeStorageKey:e0.colorSchemeStorageKey,modeStorageKey:e0.modeStorageKey,defaultColorScheme:{light:e0.defaultLightColorScheme,dark:e0.defaultDarkColorScheme},resolveTheme:t=>{const e={...t,typography:OT(t.palette,t.typography)};return e.unstable_sx=function(r){return Xl({sx:r,theme:this})},e}}),iL=rL;function sL({theme:t,...e}){const n=L.useMemo(()=>{if(typeof t=="function")return t;const r=Go in t?t[Go]:t;return"colorSchemes"in r?null:"vars"in r?t:{...t,vars:null}},[t]);return n?U.jsx(nL,{theme:n,...e}):U.jsx(iL,{theme:t,...e})}function kC(...t){return t.reduce((e,n)=>n==null?e:function(...o){e.apply(this,o),n.apply(this,o)},()=>{})}function oL(t){return U.jsx(pT,{...t,defaultTheme:cx,themeId:Go})}function ux(t){return function(n){return U.jsx(oL,{styles:typeof t=="function"?r=>t({theme:r,...n}):t})}}function aL(){return rx}const cn=GD;function dn(t){return VD(t)}function lL(t){return un("MuiSvgIcon",t)}Zt("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const cL=t=>{const{color:e,fontSize:n,classes:r}=t,o={root:["root",e!=="inherit"&&`color${Ge(e)}`,`fontSize${Ge(n)}`]};return fn(o,lL,r)},uL=et("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${Ge(n.color)}`],e[`fontSize${Ge(n.fontSize)}`]]}})(cn(({theme:t})=>({userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:t.transitions?.create?.("fill",{duration:(t.vars??t).transitions?.duration?.shorter}),variants:[{props:e=>!e.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:t.typography?.pxToRem?.(20)||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:t.typography?.pxToRem?.(24)||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:t.typography?.pxToRem?.(35)||"2.1875rem"}},...Object.entries((t.vars??t).palette).filter(([,e])=>e&&e.main).map(([e])=>({props:{color:e},style:{color:(t.vars??t).palette?.[e]?.main}})),{props:{color:"action"},style:{color:(t.vars??t).palette?.action?.active}},{props:{color:"disabled"},style:{color:(t.vars??t).palette?.action?.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}))),$y=L.forwardRef(function(e,n){const r=dn({props:e,name:"MuiSvgIcon"}),{children:o,className:l,color:d="inherit",component:x="svg",fontSize:E="medium",htmlColor:m,inheritViewBox:w=!1,titleAccess:A,viewBox:I="0 0 24 24",...N}=r,M=L.isValidElement(o)&&o.type==="svg",k={...r,color:d,component:x,fontSize:E,instanceFontSize:e.fontSize,inheritViewBox:w,viewBox:I,hasSvgAsChild:M},V={};w||(V.viewBox=I);const K=cL(k);return U.jsxs(uL,{as:x,className:xt(K.root,l),focusable:"false",color:m,"aria-hidden":A?void 0:!0,role:A?"img":void 0,ref:n,...V,...N,...M&&o.props,ownerState:k,children:[M?o.props.children:o,A?U.jsx("title",{children:A}):null]})});$y.muiName="SvgIcon";function Or(t,e){function n(r,o){return U.jsx($y,{"data-testid":void 0,ref:o,...r,children:t})}return n.muiName=$y.muiName,L.memo(L.forwardRef(n))}function kT(t,e=166){let n;function r(...o){const l=()=>{t.apply(this,o)};clearTimeout(n),n=setTimeout(l,e)}return r.clear=()=>{clearTimeout(n)},r}function Zi(t){return t&&t.ownerDocument||document}function Ka(t){return Zi(t).defaultView||window}function BC(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function qy(t){const{controlled:e,default:n,name:r,state:o="value"}=t,{current:l}=L.useRef(e!==void 0),[d,x]=L.useState(n),E=l?e:d,m=L.useCallback(w=>{l||x(w)},[]);return[E,m]}function qo(t){const e=L.useRef(t);return vo(()=>{e.current=t}),L.useRef((...n)=>(0,e.current)(...n)).current}function oi(...t){const e=L.useRef(void 0),n=L.useCallback(r=>{const o=t.map(l=>{if(l==null)return null;if(typeof l=="function"){const d=l,x=d(r);return typeof x=="function"?x:()=>{d(null)}}return l.current=r,()=>{l.current=null}});return()=>{o.forEach(l=>l?.())}},t);return L.useMemo(()=>t.every(r=>r==null)?null:r=>{e.current&&(e.current(),e.current=void 0),r!=null&&(e.current=n(r))},t)}function fL(t,e){const n=t.charCodeAt(2);return t[0]==="o"&&t[1]==="n"&&n>=65&&n<=90&&typeof e=="function"}function dL(t,e){if(!t)return e;function n(d,x){const E={};return Object.keys(x).forEach(m=>{fL(m,x[m])&&typeof d[m]=="function"&&(E[m]=(...w)=>{d[m](...w),x[m](...w)})}),E}if(typeof t=="function"||typeof e=="function")return d=>{const x=typeof e=="function"?e(d):e,E=typeof t=="function"?t({...d,...x}):t,m=xt(d?.className,x?.className,E?.className),w=n(E,x);return{...x,...E,...w,...!!m&&{className:m},...x?.style&&E?.style&&{style:{...x.style,...E.style}},...x?.sx&&E?.sx&&{sx:[...Array.isArray(x.sx)?x.sx:[x.sx],...Array.isArray(E.sx)?E.sx:[E.sx]]}}};const r=e,o=n(t,r),l=xt(r?.className,t?.className);return{...e,...t,...o,...!!l&&{className:l},...r?.style&&t?.style&&{style:{...r.style,...t.style}},...r?.sx&&t?.sx&&{sx:[...Array.isArray(r.sx)?r.sx:[r.sx],...Array.isArray(t.sx)?t.sx:[t.sx]]}}}function BT(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Wy(t,e){return Wy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Wy(t,e)}function UT(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Wy(t,e)}const UC={disabled:!1},q0=Vt.createContext(null);var hL=function(e){return e.scrollTop},Nd="unmounted",Lc="exited",Pc="entering",Gu="entered",Yy="exiting",sa=(function(t){UT(e,t);function e(r,o){var l;l=t.call(this,r,o)||this;var d=o,x=d&&!d.isMounting?r.enter:r.appear,E;return l.appearStatus=null,r.in?x?(E=Lc,l.appearStatus=Pc):E=Gu:r.unmountOnExit||r.mountOnEnter?E=Nd:E=Lc,l.state={status:E},l.nextCallback=null,l}e.getDerivedStateFromProps=function(o,l){var d=o.in;return d&&l.status===Nd?{status:Lc}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(o){var l=null;if(o!==this.props){var d=this.state.status;this.props.in?d!==Pc&&d!==Gu&&(l=Pc):(d===Pc||d===Gu)&&(l=Yy)}this.updateStatus(!1,l)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var o=this.props.timeout,l,d,x;return l=d=x=o,o!=null&&typeof o!="number"&&(l=o.exit,d=o.enter,x=o.appear!==void 0?o.appear:d),{exit:l,enter:d,appear:x}},n.updateStatus=function(o,l){if(o===void 0&&(o=!1),l!==null)if(this.cancelNextCallback(),l===Pc){if(this.props.unmountOnExit||this.props.mountOnEnter){var d=this.props.nodeRef?this.props.nodeRef.current:Qp.findDOMNode(this);d&&hL(d)}this.performEnter(o)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Lc&&this.setState({status:Nd})},n.performEnter=function(o){var l=this,d=this.props.enter,x=this.context?this.context.isMounting:o,E=this.props.nodeRef?[x]:[Qp.findDOMNode(this),x],m=E[0],w=E[1],A=this.getTimeouts(),I=x?A.appear:A.enter;if(!o&&!d||UC.disabled){this.safeSetState({status:Gu},function(){l.props.onEntered(m)});return}this.props.onEnter(m,w),this.safeSetState({status:Pc},function(){l.props.onEntering(m,w),l.onTransitionEnd(I,function(){l.safeSetState({status:Gu},function(){l.props.onEntered(m,w)})})})},n.performExit=function(){var o=this,l=this.props.exit,d=this.getTimeouts(),x=this.props.nodeRef?void 0:Qp.findDOMNode(this);if(!l||UC.disabled){this.safeSetState({status:Lc},function(){o.props.onExited(x)});return}this.props.onExit(x),this.safeSetState({status:Yy},function(){o.props.onExiting(x),o.onTransitionEnd(d.exit,function(){o.safeSetState({status:Lc},function(){o.props.onExited(x)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(o,l){l=this.setNextCallback(l),this.setState(o,l)},n.setNextCallback=function(o){var l=this,d=!0;return this.nextCallback=function(x){d&&(d=!1,l.nextCallback=null,o(x))},this.nextCallback.cancel=function(){d=!1},this.nextCallback},n.onTransitionEnd=function(o,l){this.setNextCallback(l);var d=this.props.nodeRef?this.props.nodeRef.current:Qp.findDOMNode(this),x=o==null&&!this.props.addEndListener;if(!d||x){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var E=this.props.nodeRef?[this.nextCallback]:[d,this.nextCallback],m=E[0],w=E[1];this.props.addEndListener(m,w)}o!=null&&setTimeout(this.nextCallback,o)},n.render=function(){var o=this.state.status;if(o===Nd)return null;var l=this.props,d=l.children;l.in,l.mountOnEnter,l.unmountOnExit,l.appear,l.enter,l.exit,l.timeout,l.addEndListener,l.onEnter,l.onEntering,l.onEntered,l.onExit,l.onExiting,l.onExited,l.nodeRef;var x=BT(l,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Vt.createElement(q0.Provider,{value:null},typeof d=="function"?d(o,x):Vt.cloneElement(Vt.Children.only(d),x))},e})(Vt.Component);sa.contextType=q0;sa.propTypes={};function Vu(){}sa.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Vu,onEntering:Vu,onEntered:Vu,onExit:Vu,onExiting:Vu,onExited:Vu};sa.UNMOUNTED=Nd;sa.EXITED=Lc;sa.ENTERING=Pc;sa.ENTERED=Gu;sa.EXITING=Yy;function pL(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fx(t,e){var n=function(l){return e&&L.isValidElement(l)?e(l):l},r=Object.create(null);return t&&L.Children.map(t,function(o){return o}).forEach(function(o){r[o.key]=n(o)}),r}function gL(t,e){t=t||{},e=e||{};function n(w){return w in e?e[w]:t[w]}var r=Object.create(null),o=[];for(var l in t)l in e?o.length&&(r[l]=o,o=[]):o.push(l);var d,x={};for(var E in e){if(r[E])for(d=0;d<r[E].length;d++){var m=r[E][d];x[r[E][d]]=n(m)}x[E]=n(E)}for(d=0;d<o.length;d++)x[o[d]]=n(o[d]);return x}function Uc(t,e,n){return n[e]!=null?n[e]:t.props[e]}function mL(t,e){return fx(t.children,function(n){return L.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:Uc(n,"appear",t),enter:Uc(n,"enter",t),exit:Uc(n,"exit",t)})})}function yL(t,e,n){var r=fx(t.children),o=gL(e,r);return Object.keys(o).forEach(function(l){var d=o[l];if(L.isValidElement(d)){var x=l in e,E=l in r,m=e[l],w=L.isValidElement(m)&&!m.props.in;E&&(!x||w)?o[l]=L.cloneElement(d,{onExited:n.bind(null,d),in:!0,exit:Uc(d,"exit",t),enter:Uc(d,"enter",t)}):!E&&x&&!w?o[l]=L.cloneElement(d,{in:!1}):E&&x&&L.isValidElement(m)&&(o[l]=L.cloneElement(d,{onExited:n.bind(null,d),in:m.props.in,exit:Uc(d,"exit",t),enter:Uc(d,"enter",t)}))}}),o}var xL=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},EL={component:"div",childFactory:function(e){return e}},dx=(function(t){UT(e,t);function e(r,o){var l;l=t.call(this,r,o)||this;var d=l.handleExited.bind(pL(l));return l.state={contextValue:{isMounting:!0},handleExited:d,firstRender:!0},l}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(o,l){var d=l.children,x=l.handleExited,E=l.firstRender;return{children:E?mL(o,x):yL(o,d,x),firstRender:!1}},n.handleExited=function(o,l){var d=fx(this.props.children);o.key in d||(o.props.onExited&&o.props.onExited(l),this.mounted&&this.setState(function(x){var E=j0({},x.children);return delete E[o.key],{children:E}}))},n.render=function(){var o=this.props,l=o.component,d=o.childFactory,x=BT(o,["component","childFactory"]),E=this.state.contextValue,m=xL(this.state.children).map(d);return delete x.appear,delete x.enter,delete x.exit,l===null?Vt.createElement(q0.Provider,{value:E},m):Vt.createElement(q0.Provider,{value:E},Vt.createElement(l,x,m))},e})(Vt.Component);dx.propTypes={};dx.defaultProps=EL;const FC={};function FT(t,e){const n=L.useRef(FC);return n.current===FC&&(n.current=t(e)),n}const vL=[];function bL(t){L.useEffect(t,vL)}class hx{static create(){return new hx}currentId=null;start(e,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},e)}clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)};disposeEffect=()=>this.clear}function VT(){const t=FT(hx.create).current;return bL(t.disposeEffect),t}const zT=t=>t.scrollTop;function W0(t,e){const{timeout:n,easing:r,style:o={}}=t;return{duration:o.transitionDuration??(typeof n=="number"?n:n[e.mode]||0),easing:o.transitionTimingFunction??(typeof r=="object"?r[e.mode]:r),delay:o.transitionDelay}}function wL(t){return un("MuiPaper",t)}Zt("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const CL=t=>{const{square:e,elevation:n,variant:r,classes:o}=t,l={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${n}`]};return fn(l,wL,o)},SL=et("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],!n.square&&e.rounded,n.variant==="elevation"&&e[`elevation${n.elevation}`]]}})(cn(({theme:t})=>({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow"),variants:[{props:({ownerState:e})=>!e.square,style:{borderRadius:t.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(t.vars||t).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),Qi=L.forwardRef(function(e,n){const r=dn({props:e,name:"MuiPaper"}),o=Th(),{className:l,component:d="div",elevation:x=1,square:E=!1,variant:m="elevation",...w}=r,A={...r,component:d,elevation:x,square:E,variant:m},I=CL(A);return U.jsx(SL,{as:d,ownerState:A,className:xt(I.root,l),ref:n,...w,style:{...m==="elevation"&&{"--Paper-shadow":(o.vars||o).shadows[x],...o.vars&&{"--Paper-overlay":o.vars.overlays?.[x]},...!o.vars&&o.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${rh("#fff",Gy(x))}, ${rh("#fff",Gy(x))})`}},...w.style}})});function Wo(t){return typeof t=="string"}function jT(t,e,n){return t===void 0||Wo(t)?e:{...e,ownerState:{...e.ownerState,...n}}}function HT(t,e,n){return typeof t=="function"?t(e,n):t}function Vd(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!e.includes(r)).forEach(r=>{n[r]=t[r]}),n}function VC(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function GT(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:r,externalForwardedProps:o,className:l}=t;if(!e){const N=xt(n?.className,l,o?.className,r?.className),M={...n?.style,...o?.style,...r?.style},k={...n,...o,...r};return N.length>0&&(k.className=N),Object.keys(M).length>0&&(k.style=M),{props:k,internalRef:void 0}}const d=Vd({...o,...r}),x=VC(r),E=VC(o),m=e(d),w=xt(m?.className,n?.className,l,o?.className,r?.className),A={...m?.style,...n?.style,...o?.style,...r?.style},I={...m,...n,...E,...x};return w.length>0&&(I.className=w),Object.keys(A).length>0&&(I.style=A),{props:I,internalRef:m.ref}}function Jn(t,e){const{className:n,elementType:r,ownerState:o,externalForwardedProps:l,internalForwardedProps:d,shouldForwardComponentProp:x=!1,...E}=e,{component:m,slots:w={[t]:void 0},slotProps:A={[t]:void 0},...I}=l,N=w[t]||r,M=HT(A[t],o),{props:{component:k,...V},internalRef:K}=GT({className:n,...E,externalForwardedProps:t==="root"?I:void 0,externalSlotProps:M}),Z=oi(K,M?.ref,e.ref),H=t==="root"?k||m:k,W=jT(N,{...t==="root"&&!m&&!w[t]&&d,...t!=="root"&&!w[t]&&d,...V,...H&&!x&&{as:H},...H&&x&&{component:H},ref:Z},o);return[N,W]}function uf(t){try{return t.matches(":focus-visible")}catch{}return!1}class Y0{static create(){return new Y0}static use(){const e=FT(Y0.create).current,[n,r]=L.useState(!1);return e.shouldMount=n,e.setShouldMount=r,L.useEffect(e.mountEffect,[n]),e}constructor(){this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}mount(){return this.mounted||(this.mounted=_L(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}mountEffect=()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())};start(...e){this.mount().then(()=>this.ref.current?.start(...e))}stop(...e){this.mount().then(()=>this.ref.current?.stop(...e))}pulsate(...e){this.mount().then(()=>this.ref.current?.pulsate(...e))}}function AL(){return Y0.use()}function _L(){let t,e;const n=new Promise((r,o)=>{t=r,e=o});return n.resolve=t,n.reject=e,n}function TL(t){const{className:e,classes:n,pulsate:r=!1,rippleX:o,rippleY:l,rippleSize:d,in:x,onExited:E,timeout:m}=t,[w,A]=L.useState(!1),I=xt(e,n.ripple,n.rippleVisible,r&&n.ripplePulsate),N={width:d,height:d,top:-(d/2)+l,left:-(d/2)+o},M=xt(n.child,w&&n.childLeaving,r&&n.childPulsate);return!x&&!w&&A(!0),L.useEffect(()=>{if(!x&&E!=null){const k=setTimeout(E,m);return()=>{clearTimeout(k)}}},[E,x,m]),U.jsx("span",{className:I,style:N,children:U.jsx("span",{className:M})})}const Js=Zt("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),Xy=550,IL=80,RL=vh`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,NL=vh`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,ML=vh`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,OL=et("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),DL=et(TL,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${Js.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${RL};
    animation-duration: ${Xy}ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
  }

  &.${Js.ripplePulsate} {
    animation-duration: ${({theme:t})=>t.transitions.duration.shorter}ms;
  }

  & .${Js.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${Js.childLeaving} {
    opacity: 0;
    animation-name: ${NL};
    animation-duration: ${Xy}ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
  }

  & .${Js.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${ML};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,LL=L.forwardRef(function(e,n){const r=dn({props:e,name:"MuiTouchRipple"}),{center:o=!1,classes:l={},className:d,...x}=r,[E,m]=L.useState([]),w=L.useRef(0),A=L.useRef(null);L.useEffect(()=>{A.current&&(A.current(),A.current=null)},[E]);const I=L.useRef(!1),N=VT(),M=L.useRef(null),k=L.useRef(null),V=L.useCallback(W=>{const{pulsate:te,rippleX:se,rippleY:z,rippleSize:j,cb:F}=W;m(J=>[...J,U.jsx(DL,{classes:{ripple:xt(l.ripple,Js.ripple),rippleVisible:xt(l.rippleVisible,Js.rippleVisible),ripplePulsate:xt(l.ripplePulsate,Js.ripplePulsate),child:xt(l.child,Js.child),childLeaving:xt(l.childLeaving,Js.childLeaving),childPulsate:xt(l.childPulsate,Js.childPulsate)},timeout:Xy,pulsate:te,rippleX:se,rippleY:z,rippleSize:j},w.current)]),w.current+=1,A.current=F},[l]),K=L.useCallback((W={},te={},se=()=>{})=>{const{pulsate:z=!1,center:j=o||te.pulsate,fakeElement:F=!1}=te;if(W?.type==="mousedown"&&I.current){I.current=!1;return}W?.type==="touchstart"&&(I.current=!0);const J=F?null:k.current,Y=J?J.getBoundingClientRect():{width:0,height:0,left:0,top:0};let O,q,ue;if(j||W===void 0||W.clientX===0&&W.clientY===0||!W.clientX&&!W.touches)O=Math.round(Y.width/2),q=Math.round(Y.height/2);else{const{clientX:re,clientY:ie}=W.touches&&W.touches.length>0?W.touches[0]:W;O=Math.round(re-Y.left),q=Math.round(ie-Y.top)}if(j)ue=Math.sqrt((2*Y.width**2+Y.height**2)/3),ue%2===0&&(ue+=1);else{const re=Math.max(Math.abs((J?J.clientWidth:0)-O),O)*2+2,ie=Math.max(Math.abs((J?J.clientHeight:0)-q),q)*2+2;ue=Math.sqrt(re**2+ie**2)}W?.touches?M.current===null&&(M.current=()=>{V({pulsate:z,rippleX:O,rippleY:q,rippleSize:ue,cb:se})},N.start(IL,()=>{M.current&&(M.current(),M.current=null)})):V({pulsate:z,rippleX:O,rippleY:q,rippleSize:ue,cb:se})},[o,V,N]),Z=L.useCallback(()=>{K({},{pulsate:!0})},[K]),H=L.useCallback((W,te)=>{if(N.clear(),W?.type==="touchend"&&M.current){M.current(),M.current=null,N.start(0,()=>{H(W,te)});return}M.current=null,m(se=>se.length>0?se.slice(1):se),A.current=te},[N]);return L.useImperativeHandle(n,()=>({pulsate:Z,start:K,stop:H}),[Z,K,H]),U.jsx(OL,{className:xt(Js.root,l.root,d),ref:k,...x,children:U.jsx(dx,{component:null,exit:!0,children:E})})});function PL(t){return un("MuiButtonBase",t)}const kL=Zt("MuiButtonBase",["root","disabled","focusVisible"]),BL=t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:r,classes:o}=t,d=fn({root:["root",e&&"disabled",n&&"focusVisible"]},PL,o);return n&&r&&(d.root+=` ${r}`),d},UL=et("button",{name:"MuiButtonBase",slot:"Root"})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${kL.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),ff=L.forwardRef(function(e,n){const r=dn({props:e,name:"MuiButtonBase"}),{action:o,centerRipple:l=!1,children:d,className:x,component:E="button",disabled:m=!1,disableRipple:w=!1,disableTouchRipple:A=!1,focusRipple:I=!1,focusVisibleClassName:N,LinkComponent:M="a",onBlur:k,onClick:V,onContextMenu:K,onDragLeave:Z,onFocus:H,onFocusVisible:W,onKeyDown:te,onKeyUp:se,onMouseDown:z,onMouseLeave:j,onMouseUp:F,onTouchEnd:J,onTouchMove:Y,onTouchStart:O,tabIndex:q=0,TouchRippleProps:ue,touchRippleRef:re,type:ie,...he}=r,Ne=L.useRef(null),Te=AL(),We=oi(Te.ref,re),[ae,ge]=L.useState(!1);m&&ae&&ge(!1),L.useImperativeHandle(o,()=>({focusVisible:()=>{ge(!0),Ne.current.focus()}}),[]);const me=Te.shouldMount&&!w&&!m;L.useEffect(()=>{ae&&I&&!w&&Te.pulsate()},[w,I,ae,Te]);const Re=ka(Te,"start",z,A),ze=ka(Te,"stop",K,A),we=ka(Te,"stop",Z,A),Ke=ka(Te,"stop",F,A),tt=ka(Te,"stop",lt=>{ae&&lt.preventDefault(),j&&j(lt)},A),nt=ka(Te,"start",O,A),st=ka(Te,"stop",J,A),dt=ka(Te,"stop",Y,A),St=ka(Te,"stop",lt=>{uf(lt.target)||ge(!1),k&&k(lt)},!1),rt=qo(lt=>{Ne.current||(Ne.current=lt.currentTarget),uf(lt.target)&&(ge(!0),W&&W(lt)),H&&H(lt)}),ht=()=>{const lt=Ne.current;return E&&E!=="button"&&!(lt.tagName==="A"&&lt.href)},Mt=qo(lt=>{I&&!lt.repeat&&ae&&lt.key===" "&&Te.stop(lt,()=>{Te.start(lt)}),lt.target===lt.currentTarget&&ht()&&lt.key===" "&&lt.preventDefault(),te&&te(lt),lt.target===lt.currentTarget&&ht()&&lt.key==="Enter"&&!m&&(lt.preventDefault(),V&&V(lt))}),wn=qo(lt=>{I&&lt.key===" "&&ae&&!lt.defaultPrevented&&Te.stop(lt,()=>{Te.pulsate(lt)}),se&&se(lt),V&&lt.target===lt.currentTarget&&ht()&&lt.key===" "&&!lt.defaultPrevented&&V(lt)});let vt=E;vt==="button"&&(he.href||he.to)&&(vt=M);const mt={};vt==="button"?(mt.type=ie===void 0?"button":ie,mt.disabled=m):(!he.href&&!he.to&&(mt.role="button"),m&&(mt["aria-disabled"]=m));const Qe=oi(n,Ne),Ot={...r,centerRipple:l,component:E,disabled:m,disableRipple:w,disableTouchRipple:A,focusRipple:I,tabIndex:q,focusVisible:ae},je=BL(Ot);return U.jsxs(UL,{as:vt,className:xt(je.root,x),ownerState:Ot,onBlur:St,onClick:V,onContextMenu:ze,onFocus:rt,onKeyDown:Mt,onKeyUp:wn,onMouseDown:Re,onMouseLeave:tt,onMouseUp:Ke,onDragLeave:we,onTouchEnd:st,onTouchMove:dt,onTouchStart:nt,ref:Qe,tabIndex:m?-1:q,type:ie,...mt,...he,children:[d,me?U.jsx(LL,{ref:We,center:l,...ue}):null]})});function ka(t,e,n,r=!1){return qo(o=>(n&&n(o),r||t[e](o),!0))}function FL(t){return typeof t.main=="string"}function VL(t,e=[]){if(!FL(t))return!1;for(const n of e)if(!t.hasOwnProperty(n)||typeof t[n]!="string")return!1;return!0}function Vr(t=[]){return([,e])=>e&&VL(e,t)}function zL(t){return un("MuiAlert",t)}const zC=Zt("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);function jL(t){return un("MuiCircularProgress",t)}Zt("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","track","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const po=44,Ky=vh`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,Qy=vh`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,HL=typeof Ky!="string"?Q2`
        animation: ${Ky} 1.4s linear infinite;
      `:null,GL=typeof Qy!="string"?Q2`
        animation: ${Qy} 1.4s ease-in-out infinite;
      `:null,$L=t=>{const{classes:e,variant:n,color:r,disableShrink:o}=t,l={root:["root",n,`color${Ge(r)}`],svg:["svg"],track:["track"],circle:["circle",`circle${Ge(n)}`,o&&"circleDisableShrink"]};return fn(l,jL,e)},qL=et("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`color${Ge(n.color)}`]]}})(cn(({theme:t})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("transform")}},{props:{variant:"indeterminate"},style:HL||{animation:`${Ky} 1.4s linear infinite`}},...Object.entries(t.palette).filter(Vr()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}}))]}))),WL=et("svg",{name:"MuiCircularProgress",slot:"Svg"})({display:"block"}),YL=et("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.circle,e[`circle${Ge(n.variant)}`],n.disableShrink&&e.circleDisableShrink]}})(cn(({theme:t})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink,style:GL||{animation:`${Qy} 1.4s ease-in-out infinite`}}]}))),XL=et("circle",{name:"MuiCircularProgress",slot:"Track"})(cn(({theme:t})=>({stroke:"currentColor",opacity:(t.vars||t).palette.action.activatedOpacity}))),Ps=L.forwardRef(function(e,n){const r=dn({props:e,name:"MuiCircularProgress"}),{className:o,color:l="primary",disableShrink:d=!1,enableTrackSlot:x=!1,size:E=40,style:m,thickness:w=3.6,value:A=0,variant:I="indeterminate",...N}=r,M={...r,color:l,disableShrink:d,size:E,thickness:w,value:A,variant:I,enableTrackSlot:x},k=$L(M),V={},K={},Z={};if(I==="determinate"){const H=2*Math.PI*((po-w)/2);V.strokeDasharray=H.toFixed(3),Z["aria-valuenow"]=Math.round(A),V.strokeDashoffset=`${((100-A)/100*H).toFixed(3)}px`,K.transform="rotate(-90deg)"}return U.jsx(qL,{className:xt(k.root,o),style:{width:E,height:E,...K,...m},ownerState:M,ref:n,role:"progressbar",...Z,...N,children:U.jsxs(WL,{className:k.svg,ownerState:M,viewBox:`${po/2} ${po/2} ${po} ${po}`,children:[x?U.jsx(XL,{className:k.track,ownerState:M,cx:po,cy:po,r:(po-w)/2,fill:"none",strokeWidth:w,"aria-hidden":"true"}):null,U.jsx(YL,{className:k.circle,style:V,ownerState:M,cx:po,cy:po,r:(po-w)/2,fill:"none",strokeWidth:w})]})})});function KL(t){return un("MuiIconButton",t)}const jC=Zt("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),QL=t=>{const{classes:e,disabled:n,color:r,edge:o,size:l,loading:d}=t,x={root:["root",d&&"loading",n&&"disabled",r!=="default"&&`color${Ge(r)}`,o&&`edge${Ge(o)}`,`size${Ge(l)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return fn(x,KL,e)},ZL=et(ff,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.loading&&e.loading,n.color!=="default"&&e[`color${Ge(n.color)}`],n.edge&&e[`edge${Ge(n.edge)}`],e[`size${Ge(n.size)}`]]}})(cn(({theme:t})=>({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),variants:[{props:e=>!e.disableRipple,style:{"--IconButton-hoverBg":t.alpha((t.vars||t).palette.action.active,(t.vars||t).palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),cn(({theme:t})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(t.palette).filter(Vr()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}})),...Object.entries(t.palette).filter(Vr()).map(([e])=>({props:{color:e},style:{"--IconButton-hoverBg":t.alpha((t.vars||t).palette[e].main,(t.vars||t).palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:t.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:t.typography.pxToRem(28)}}],[`&.${jC.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled},[`&.${jC.loading}`]:{color:"transparent"}}))),JL=et("span",{name:"MuiIconButton",slot:"LoadingIndicator"})(({theme:t})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(t.vars||t).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),bo=L.forwardRef(function(e,n){const r=dn({props:e,name:"MuiIconButton"}),{edge:o=!1,children:l,className:d,color:x="default",disabled:E=!1,disableFocusRipple:m=!1,size:w="medium",id:A,loading:I=null,loadingIndicator:N,...M}=r,k=_h(A),V=N??U.jsx(Ps,{"aria-labelledby":k,color:"inherit",size:16}),K={...r,edge:o,color:x,disabled:E,disableFocusRipple:m,loading:I,loadingIndicator:V,size:w},Z=QL(K);return U.jsxs(ZL,{id:I?k:A,className:xt(Z.root,d),centerRipple:!0,focusRipple:!m,disabled:E||I,ref:n,...M,ownerState:K,children:[typeof I=="boolean"&&U.jsx("span",{className:Z.loadingWrapper,style:{display:"contents"},children:U.jsx(JL,{className:Z.loadingIndicator,ownerState:K,children:I&&V})}),l]})}),eP=Or(U.jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"})),tP=Or(U.jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"})),nP=Or(U.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"})),rP=Or(U.jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"})),iP=Or(U.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),sP=t=>{const{variant:e,color:n,severity:r,classes:o}=t,l={root:["root",`color${Ge(n||r)}`,`${e}${Ge(n||r)}`,`${e}`],icon:["icon"],message:["message"],action:["action"]};return fn(l,zL,o)},oP=et(Qi,{name:"MuiAlert",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${Ge(n.color||n.severity)}`]]}})(cn(({theme:t})=>{const e=t.palette.mode==="light"?t.darken:t.lighten,n=t.palette.mode==="light"?t.lighten:t.darken;return{...t.typography.body2,backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(t.palette).filter(Vr(["light"])).map(([r])=>({props:{colorSeverity:r,variant:"standard"},style:{color:t.vars?t.vars.palette.Alert[`${r}Color`]:e(t.palette[r].light,.6),backgroundColor:t.vars?t.vars.palette.Alert[`${r}StandardBg`]:n(t.palette[r].light,.9),[`& .${zC.icon}`]:t.vars?{color:t.vars.palette.Alert[`${r}IconColor`]}:{color:t.palette[r].main}}})),...Object.entries(t.palette).filter(Vr(["light"])).map(([r])=>({props:{colorSeverity:r,variant:"outlined"},style:{color:t.vars?t.vars.palette.Alert[`${r}Color`]:e(t.palette[r].light,.6),border:`1px solid ${(t.vars||t).palette[r].light}`,[`& .${zC.icon}`]:t.vars?{color:t.vars.palette.Alert[`${r}IconColor`]}:{color:t.palette[r].main}}})),...Object.entries(t.palette).filter(Vr(["dark"])).map(([r])=>({props:{colorSeverity:r,variant:"filled"},style:{fontWeight:t.typography.fontWeightMedium,...t.vars?{color:t.vars.palette.Alert[`${r}FilledColor`],backgroundColor:t.vars.palette.Alert[`${r}FilledBg`]}:{backgroundColor:t.palette.mode==="dark"?t.palette[r].dark:t.palette[r].main,color:t.palette.getContrastText(t.palette[r].main)}}}))]}})),aP=et("div",{name:"MuiAlert",slot:"Icon"})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),lP=et("div",{name:"MuiAlert",slot:"Message"})({padding:"8px 0",minWidth:0,overflow:"auto"}),cP=et("div",{name:"MuiAlert",slot:"Action"})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),HC={success:U.jsx(eP,{fontSize:"inherit"}),warning:U.jsx(tP,{fontSize:"inherit"}),error:U.jsx(nP,{fontSize:"inherit"}),info:U.jsx(rP,{fontSize:"inherit"})},jc=L.forwardRef(function(e,n){const r=dn({props:e,name:"MuiAlert"}),{action:o,children:l,className:d,closeText:x="Close",color:E,components:m={},componentsProps:w={},icon:A,iconMapping:I=HC,onClose:N,role:M="alert",severity:k="success",slotProps:V={},slots:K={},variant:Z="standard",...H}=r,W={...r,color:E,severity:k,variant:Z,colorSeverity:E||k},te=sP(W),se={slots:{closeButton:m.CloseButton,closeIcon:m.CloseIcon,...K},slotProps:{...w,...V}},[z,j]=Jn("root",{ref:n,shouldForwardComponentProp:!0,className:xt(te.root,d),elementType:oP,externalForwardedProps:{...se,...H},ownerState:W,additionalProps:{role:M,elevation:0}}),[F,J]=Jn("icon",{className:te.icon,elementType:aP,externalForwardedProps:se,ownerState:W}),[Y,O]=Jn("message",{className:te.message,elementType:lP,externalForwardedProps:se,ownerState:W}),[q,ue]=Jn("action",{className:te.action,elementType:cP,externalForwardedProps:se,ownerState:W}),[re,ie]=Jn("closeButton",{elementType:bo,externalForwardedProps:se,ownerState:W}),[he,Ne]=Jn("closeIcon",{elementType:iP,externalForwardedProps:se,ownerState:W});return U.jsxs(z,{...j,children:[A!==!1?U.jsx(F,{...J,children:A||I[k]||HC[k]}):null,U.jsx(Y,{...O,children:l}),o!=null?U.jsx(q,{...ue,children:o}):null,o==null&&N?U.jsx(q,{...ue,children:U.jsx(re,{size:"small","aria-label":x,title:x,color:"inherit",onClick:N,...ie,children:U.jsx(he,{fontSize:"small",...Ne})})}):null]})});function uP(t){return un("MuiTypography",t)}const GC=Zt("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]),fP={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},dP=aL(),hP=t=>{const{align:e,gutterBottom:n,noWrap:r,paragraph:o,variant:l,classes:d}=t,x={root:["root",l,t.align!=="inherit"&&`align${Ge(e)}`,n&&"gutterBottom",r&&"noWrap",o&&"paragraph"]};return fn(x,uP,d)},pP=et("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.variant&&e[n.variant],n.align!=="inherit"&&e[`align${Ge(n.align)}`],n.noWrap&&e.noWrap,n.gutterBottom&&e.gutterBottom,n.paragraph&&e.paragraph]}})(cn(({theme:t})=>({margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(t.typography).filter(([e,n])=>e!=="inherit"&&n&&typeof n=="object").map(([e,n])=>({props:{variant:e},style:n})),...Object.entries(t.palette).filter(Vr()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}})),...Object.entries(t.palette?.text||{}).filter(([,e])=>typeof e=="string").map(([e])=>({props:{color:`text${Ge(e)}`},style:{color:(t.vars||t).palette.text[e]}})),{props:({ownerState:e})=>e.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:e})=>e.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:e})=>e.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:e})=>e.paragraph,style:{marginBottom:16}}]}))),$C={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},Lt=L.forwardRef(function(e,n){const{color:r,...o}=dn({props:e,name:"MuiTypography"}),l=!fP[r],d=dP({...o,...l&&{color:r}}),{align:x="inherit",className:E,component:m,gutterBottom:w=!1,noWrap:A=!1,paragraph:I=!1,variant:N="body1",variantMapping:M=$C,...k}=d,V={...d,align:x,color:r,className:E,component:m,gutterBottom:w,noWrap:A,paragraph:I,variant:N,variantMapping:M},K=m||(I?"p":M[N]||$C[N])||"span",Z=hP(V);return U.jsx(pP,{as:K,ref:n,className:xt(Z.root,E),...k,ownerState:V,style:{...x!=="inherit"&&{"--Typography-textAlign":x},...k.style}})});function gP(t){return un("MuiAppBar",t)}Zt("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const mP=t=>{const{color:e,position:n,classes:r}=t,o={root:["root",`color${Ge(e)}`,`position${Ge(n)}`]};return fn(o,gP,r)},qC=(t,e)=>t?`${t?.replace(")","")}, ${e})`:e,yP=et(Qi,{name:"MuiAppBar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`position${Ge(n.position)}`],e[`color${Ge(n.color)}`]]}})(cn(({theme:t})=>({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0,variants:[{props:{position:"fixed"},style:{position:"fixed",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}}},{props:{position:"absolute"},style:{position:"absolute",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"sticky"},style:{position:"sticky",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"static"},style:{position:"static"}},{props:{position:"relative"},style:{position:"relative"}},{props:{color:"inherit"},style:{"--AppBar-color":"inherit"}},{props:{color:"default"},style:{"--AppBar-background":t.vars?t.vars.palette.AppBar.defaultBg:t.palette.grey[100],"--AppBar-color":t.vars?t.vars.palette.text.primary:t.palette.getContrastText(t.palette.grey[100]),...t.applyStyles("dark",{"--AppBar-background":t.vars?t.vars.palette.AppBar.defaultBg:t.palette.grey[900],"--AppBar-color":t.vars?t.vars.palette.text.primary:t.palette.getContrastText(t.palette.grey[900])})}},...Object.entries(t.palette).filter(Vr(["contrastText"])).map(([e])=>({props:{color:e},style:{"--AppBar-background":(t.vars??t).palette[e].main,"--AppBar-color":(t.vars??t).palette[e].contrastText}})),{props:e=>e.enableColorOnDark===!0&&!["inherit","transparent"].includes(e.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)"}},{props:e=>e.enableColorOnDark===!1&&!["inherit","transparent"].includes(e.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...t.applyStyles("dark",{backgroundColor:t.vars?qC(t.vars.palette.AppBar.darkBg,"var(--AppBar-background)"):null,color:t.vars?qC(t.vars.palette.AppBar.darkColor,"var(--AppBar-color)"):null})}},{props:{color:"transparent"},style:{"--AppBar-background":"transparent","--AppBar-color":"inherit",backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...t.applyStyles("dark",{backgroundImage:"none"})}}]}))),$T=L.forwardRef(function(e,n){const r=dn({props:e,name:"MuiAppBar"}),{className:o,color:l="primary",enableColorOnDark:d=!1,position:x="fixed",...E}=r,m={...r,color:l,position:x,enableColorOnDark:d},w=mP(m);return U.jsx(yP,{square:!0,component:"header",ownerState:m,elevation:4,className:xt(w.root,o,x==="fixed"&&"mui-fixed"),ref:n,...E})});function Ba(t){const{elementType:e,externalSlotProps:n,ownerState:r,skipResolvingSlotProps:o=!1,...l}=t,d=o?{}:HT(n,r),{props:x,internalRef:E}=GT({...l,externalSlotProps:d}),m=oi(E,d?.ref,t.additionalProps?.ref);return jT(e,{...x,ref:m},r)}function Ih(t){return parseInt(L.version,10)>=19?t?.props?.ref||null:t?.ref||null}function xP(t){return typeof t=="function"?t():t}const EP=L.forwardRef(function(e,n){const{children:r,container:o,disablePortal:l=!1}=e,[d,x]=L.useState(null),E=oi(L.isValidElement(r)?Ih(r):null,n);if(vo(()=>{l||x(xP(o)||document.body)},[o,l]),vo(()=>{if(d&&!l)return BC(n,d),()=>{BC(n,null)}},[n,d,l]),l){if(L.isValidElement(r)){const m={ref:E};return L.cloneElement(r,m)}return r}return d&&z2.createPortal(r,d)}),vP=Or(U.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}));function bP(t){return un("MuiChip",t)}const an=Zt("MuiChip",["root","sizeSmall","sizeMedium","colorDefault","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),wP=t=>{const{classes:e,disabled:n,size:r,color:o,iconColor:l,onDelete:d,clickable:x,variant:E}=t,m={root:["root",E,n&&"disabled",`size${Ge(r)}`,`color${Ge(o)}`,x&&"clickable",x&&`clickableColor${Ge(o)}`,d&&"deletable",d&&`deletableColor${Ge(o)}`,`${E}${Ge(o)}`],label:["label",`label${Ge(r)}`],avatar:["avatar",`avatar${Ge(r)}`,`avatarColor${Ge(o)}`],icon:["icon",`icon${Ge(r)}`,`iconColor${Ge(l)}`],deleteIcon:["deleteIcon",`deleteIcon${Ge(r)}`,`deleteIconColor${Ge(o)}`,`deleteIcon${Ge(E)}Color${Ge(o)}`]};return fn(m,bP,e)},CP=et("div",{name:"MuiChip",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{color:r,iconColor:o,clickable:l,onDelete:d,size:x,variant:E}=n;return[{[`& .${an.avatar}`]:e.avatar},{[`& .${an.avatar}`]:e[`avatar${Ge(x)}`]},{[`& .${an.avatar}`]:e[`avatarColor${Ge(r)}`]},{[`& .${an.icon}`]:e.icon},{[`& .${an.icon}`]:e[`icon${Ge(x)}`]},{[`& .${an.icon}`]:e[`iconColor${Ge(o)}`]},{[`& .${an.deleteIcon}`]:e.deleteIcon},{[`& .${an.deleteIcon}`]:e[`deleteIcon${Ge(x)}`]},{[`& .${an.deleteIcon}`]:e[`deleteIconColor${Ge(r)}`]},{[`& .${an.deleteIcon}`]:e[`deleteIcon${Ge(E)}Color${Ge(r)}`]},e.root,e[`size${Ge(x)}`],e[`color${Ge(r)}`],l&&e.clickable,l&&r!=="default"&&e[`clickableColor${Ge(r)})`],d&&e.deletable,d&&r!=="default"&&e[`deletableColor${Ge(r)}`],e[E],e[`${E}${Ge(r)}`]]}})(cn(({theme:t})=>{const e=t.palette.mode==="light"?t.palette.grey[700]:t.palette.grey[300];return{maxWidth:"100%",fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,lineHeight:1.5,color:(t.vars||t).palette.text.primary,backgroundColor:(t.vars||t).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:t.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${an.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${an.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:t.vars?t.vars.palette.Chip.defaultAvatarColor:e,fontSize:t.typography.pxToRem(12)},[`& .${an.avatarColorPrimary}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.dark},[`& .${an.avatarColorSecondary}`]:{color:(t.vars||t).palette.secondary.contrastText,backgroundColor:(t.vars||t).palette.secondary.dark},[`& .${an.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:t.typography.pxToRem(10)},[`& .${an.icon}`]:{marginLeft:5,marginRight:-6},[`& .${an.deleteIcon}`]:{WebkitTapHighlightColor:"transparent",color:t.alpha((t.vars||t).palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:t.alpha((t.vars||t).palette.text.primary,.4)}},variants:[{props:{size:"small"},style:{height:24,[`& .${an.icon}`]:{fontSize:18,marginLeft:4,marginRight:-4},[`& .${an.deleteIcon}`]:{fontSize:16,marginRight:4,marginLeft:-4}}},...Object.entries(t.palette).filter(Vr(["contrastText"])).map(([n])=>({props:{color:n},style:{backgroundColor:(t.vars||t).palette[n].main,color:(t.vars||t).palette[n].contrastText,[`& .${an.deleteIcon}`]:{color:t.alpha((t.vars||t).palette[n].contrastText,.7),"&:hover, &:active":{color:(t.vars||t).palette[n].contrastText}}}})),{props:n=>n.iconColor===n.color,style:{[`& .${an.icon}`]:{color:t.vars?t.vars.palette.Chip.defaultIconColor:e}}},{props:n=>n.iconColor===n.color&&n.color!=="default",style:{[`& .${an.icon}`]:{color:"inherit"}}},{props:{onDelete:!0},style:{[`&.${an.focusVisible}`]:{backgroundColor:t.alpha((t.vars||t).palette.action.selected,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.focusOpacity}`)}}},...Object.entries(t.palette).filter(Vr(["dark"])).map(([n])=>({props:{color:n,onDelete:!0},style:{[`&.${an.focusVisible}`]:{background:(t.vars||t).palette[n].dark}}})),{props:{clickable:!0},style:{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:t.alpha((t.vars||t).palette.action.selected,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.hoverOpacity}`)},[`&.${an.focusVisible}`]:{backgroundColor:t.alpha((t.vars||t).palette.action.selected,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.focusOpacity}`)},"&:active":{boxShadow:(t.vars||t).shadows[1]}}},...Object.entries(t.palette).filter(Vr(["dark"])).map(([n])=>({props:{color:n,clickable:!0},style:{[`&:hover, &.${an.focusVisible}`]:{backgroundColor:(t.vars||t).palette[n].dark}}})),{props:{variant:"outlined"},style:{backgroundColor:"transparent",border:t.vars?`1px solid ${t.vars.palette.Chip.defaultBorder}`:`1px solid ${t.palette.mode==="light"?t.palette.grey[400]:t.palette.grey[700]}`,[`&.${an.clickable}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${an.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`& .${an.avatar}`]:{marginLeft:4},[`& .${an.avatarSmall}`]:{marginLeft:2},[`& .${an.icon}`]:{marginLeft:4},[`& .${an.iconSmall}`]:{marginLeft:2},[`& .${an.deleteIcon}`]:{marginRight:5},[`& .${an.deleteIconSmall}`]:{marginRight:3}}},...Object.entries(t.palette).filter(Vr()).map(([n])=>({props:{variant:"outlined",color:n},style:{color:(t.vars||t).palette[n].main,border:`1px solid ${t.alpha((t.vars||t).palette[n].main,.7)}`,[`&.${an.clickable}:hover`]:{backgroundColor:t.alpha((t.vars||t).palette[n].main,(t.vars||t).palette.action.hoverOpacity)},[`&.${an.focusVisible}`]:{backgroundColor:t.alpha((t.vars||t).palette[n].main,(t.vars||t).palette.action.focusOpacity)},[`& .${an.deleteIcon}`]:{color:t.alpha((t.vars||t).palette[n].main,.7),"&:hover, &:active":{color:(t.vars||t).palette[n].main}}}}))]}})),SP=et("span",{name:"MuiChip",slot:"Label",overridesResolver:(t,e)=>{const{ownerState:n}=t,{size:r}=n;return[e.label,e[`label${Ge(r)}`]]}})({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap",variants:[{props:{variant:"outlined"},style:{paddingLeft:11,paddingRight:11}},{props:{size:"small"},style:{paddingLeft:8,paddingRight:8}},{props:{size:"small",variant:"outlined"},style:{paddingLeft:7,paddingRight:7}}]});function WC(t){return t.key==="Backspace"||t.key==="Delete"}const A0=L.forwardRef(function(e,n){const r=dn({props:e,name:"MuiChip"}),{avatar:o,className:l,clickable:d,color:x="default",component:E,deleteIcon:m,disabled:w=!1,icon:A,label:I,onClick:N,onDelete:M,onKeyDown:k,onKeyUp:V,size:K="medium",variant:Z="filled",tabIndex:H,skipFocusWhenDisabled:W=!1,slots:te={},slotProps:se={},...z}=r,j=L.useRef(null),F=oi(j,n),J=we=>{we.stopPropagation(),M&&M(we)},Y=we=>{we.currentTarget===we.target&&WC(we)&&we.preventDefault(),k&&k(we)},O=we=>{we.currentTarget===we.target&&M&&WC(we)&&M(we),V&&V(we)},q=d!==!1&&N?!0:d,ue=q||M?ff:E||"div",re={...r,component:ue,disabled:w,size:K,color:x,iconColor:L.isValidElement(A)&&A.props.color||x,onDelete:!!M,clickable:q,variant:Z},ie=wP(re),he=ue===ff?{component:E||"div",focusVisibleClassName:ie.focusVisible,...M&&{disableRipple:!0}}:{};let Ne=null;M&&(Ne=m&&L.isValidElement(m)?L.cloneElement(m,{className:xt(m.props.className,ie.deleteIcon),onClick:J}):U.jsx(vP,{className:ie.deleteIcon,onClick:J}));let Te=null;o&&L.isValidElement(o)&&(Te=L.cloneElement(o,{className:xt(ie.avatar,o.props.className)}));let We=null;A&&L.isValidElement(A)&&(We=L.cloneElement(A,{className:xt(ie.icon,A.props.className)}));const ae={slots:te,slotProps:se},[ge,me]=Jn("root",{elementType:CP,externalForwardedProps:{...ae,...z},ownerState:re,shouldForwardComponentProp:!0,ref:F,className:xt(ie.root,l),additionalProps:{disabled:q&&w?!0:void 0,tabIndex:W&&w?-1:H,...he},getSlotProps:we=>({...we,onClick:Ke=>{we.onClick?.(Ke),N?.(Ke)},onKeyDown:Ke=>{we.onKeyDown?.(Ke),Y(Ke)},onKeyUp:Ke=>{we.onKeyUp?.(Ke),O(Ke)}})}),[Re,ze]=Jn("label",{elementType:SP,externalForwardedProps:ae,ownerState:re,className:ie.label});return U.jsxs(ge,{as:ue,...me,children:[Te||We,U.jsx(Re,{...ze,children:I}),Ne]})});function t0(t){return parseInt(t,10)||0}const AP={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function _P(t){for(const e in t)return!1;return!0}function YC(t){return _P(t)||t.outerHeightStyle===0&&!t.overflowing}const TP=L.forwardRef(function(e,n){const{onChange:r,maxRows:o,minRows:l=1,style:d,value:x,...E}=e,{current:m}=L.useRef(x!=null),w=L.useRef(null),A=oi(n,w),I=L.useRef(null),N=L.useRef(null),M=L.useCallback(()=>{const H=w.current,W=N.current;if(!H||!W)return;const se=Ka(H).getComputedStyle(H);if(se.width==="0px")return{outerHeightStyle:0,overflowing:!1};W.style.width=se.width,W.value=H.value||e.placeholder||"x",W.value.slice(-1)===`
`&&(W.value+=" ");const z=se.boxSizing,j=t0(se.paddingBottom)+t0(se.paddingTop),F=t0(se.borderBottomWidth)+t0(se.borderTopWidth),J=W.scrollHeight;W.value="x";const Y=W.scrollHeight;let O=J;l&&(O=Math.max(Number(l)*Y,O)),o&&(O=Math.min(Number(o)*Y,O)),O=Math.max(O,Y);const q=O+(z==="border-box"?j+F:0),ue=Math.abs(O-J)<=1;return{outerHeightStyle:q,overflowing:ue}},[o,l,e.placeholder]),k=qo(()=>{const H=w.current,W=M();if(!H||!W||YC(W))return!1;const te=W.outerHeightStyle;return I.current!=null&&I.current!==te}),V=L.useCallback(()=>{const H=w.current,W=M();if(!H||!W||YC(W))return;const te=W.outerHeightStyle;I.current!==te&&(I.current=te,H.style.height=`${te}px`),H.style.overflow=W.overflowing?"hidden":""},[M]),K=L.useRef(-1);vo(()=>{const H=kT(V),W=w?.current;if(!W)return;const te=Ka(W);te.addEventListener("resize",H);let se;return typeof ResizeObserver<"u"&&(se=new ResizeObserver(()=>{k()&&(se.unobserve(W),cancelAnimationFrame(K.current),V(),K.current=requestAnimationFrame(()=>{se.observe(W)}))}),se.observe(W)),()=>{H.clear(),cancelAnimationFrame(K.current),te.removeEventListener("resize",H),se&&se.disconnect()}},[M,V,k]),vo(()=>{V()});const Z=H=>{m||V();const W=H.target,te=W.value.length,se=W.value.endsWith(`
`),z=W.selectionStart===te;se&&z&&W.setSelectionRange(te,te),r&&r(H)};return U.jsxs(L.Fragment,{children:[U.jsx("textarea",{value:x,onChange:Z,ref:A,rows:l,style:d,...E}),U.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:N,tabIndex:-1,style:{...AP.shadow,...d,paddingTop:0,paddingBottom:0}})]})});function _f({props:t,states:e,muiFormControl:n}){return e.reduce((r,o)=>(r[o]=t[o],n&&typeof t[o]>"u"&&(r[o]=n[o]),r),{})}const k1=L.createContext(void 0);function Jc(){return L.useContext(k1)}function XC(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function X0(t,e=!1){return t&&(XC(t.value)&&t.value!==""||e&&XC(t.defaultValue)&&t.defaultValue!=="")}function IP(t){return t.startAdornment}function RP(t){return un("MuiInputBase",t)}const df=Zt("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var KC;const B1=(t,e)=>{const{ownerState:n}=t;return[e.root,n.formControl&&e.formControl,n.startAdornment&&e.adornedStart,n.endAdornment&&e.adornedEnd,n.error&&e.error,n.size==="small"&&e.sizeSmall,n.multiline&&e.multiline,n.color&&e[`color${Ge(n.color)}`],n.fullWidth&&e.fullWidth,n.hiddenLabel&&e.hiddenLabel]},U1=(t,e)=>{const{ownerState:n}=t;return[e.input,n.size==="small"&&e.inputSizeSmall,n.multiline&&e.inputMultiline,n.type==="search"&&e.inputTypeSearch,n.startAdornment&&e.inputAdornedStart,n.endAdornment&&e.inputAdornedEnd,n.hiddenLabel&&e.inputHiddenLabel]},NP=t=>{const{classes:e,color:n,disabled:r,error:o,endAdornment:l,focused:d,formControl:x,fullWidth:E,hiddenLabel:m,multiline:w,readOnly:A,size:I,startAdornment:N,type:M}=t,k={root:["root",`color${Ge(n)}`,r&&"disabled",o&&"error",E&&"fullWidth",d&&"focused",x&&"formControl",I&&I!=="medium"&&`size${Ge(I)}`,w&&"multiline",N&&"adornedStart",l&&"adornedEnd",m&&"hiddenLabel",A&&"readOnly"],input:["input",r&&"disabled",M==="search"&&"inputTypeSearch",w&&"inputMultiline",I==="small"&&"inputSizeSmall",m&&"inputHiddenLabel",N&&"inputAdornedStart",l&&"inputAdornedEnd",A&&"readOnly"]};return fn(k,RP,e)},F1=et("div",{name:"MuiInputBase",slot:"Root",overridesResolver:B1})(cn(({theme:t})=>({...t.typography.body1,color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${df.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:e})=>e.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:e,size:n})=>e.multiline&&n==="small",style:{paddingTop:1}},{props:({ownerState:e})=>e.fullWidth,style:{width:"100%"}}]}))),V1=et("input",{name:"MuiInputBase",slot:"Input",overridesResolver:U1})(cn(({theme:t})=>{const e=t.palette.mode==="light",n={color:"currentColor",...t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5},transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})},r={opacity:"0 !important"},o=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${df.formControl} &`]:{"&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&::-ms-input-placeholder":r,"&:focus::-webkit-input-placeholder":o,"&:focus::-moz-placeholder":o,"&:focus::-ms-input-placeholder":o},[`&.${df.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},variants:[{props:({ownerState:l})=>!l.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:l})=>l.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),QC=ux({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),px=L.forwardRef(function(e,n){const r=dn({props:e,name:"MuiInputBase"}),{"aria-describedby":o,autoComplete:l,autoFocus:d,className:x,color:E,components:m={},componentsProps:w={},defaultValue:A,disabled:I,disableInjectingGlobalStyles:N,endAdornment:M,error:k,fullWidth:V=!1,id:K,inputComponent:Z="input",inputProps:H={},inputRef:W,margin:te,maxRows:se,minRows:z,multiline:j=!1,name:F,onBlur:J,onChange:Y,onClick:O,onFocus:q,onKeyDown:ue,onKeyUp:re,placeholder:ie,readOnly:he,renderSuffix:Ne,rows:Te,size:We,slotProps:ae={},slots:ge={},startAdornment:me,type:Re="text",value:ze,...we}=r,Ke=H.value!=null?H.value:ze,{current:tt}=L.useRef(Ke!=null),nt=L.useRef(),st=L.useCallback(Dt=>{},[]),dt=oi(nt,W,H.ref,st),[St,rt]=L.useState(!1),ht=Jc(),Mt=_f({props:r,muiFormControl:ht,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Mt.focused=ht?ht.focused:St,L.useEffect(()=>{!ht&&I&&St&&(rt(!1),J&&J())},[ht,I,St,J]);const wn=ht&&ht.onFilled,vt=ht&&ht.onEmpty,mt=L.useCallback(Dt=>{X0(Dt)?wn&&wn():vt&&vt()},[wn,vt]);vo(()=>{tt&&mt({value:Ke})},[Ke,mt,tt]);const Qe=Dt=>{q&&q(Dt),H.onFocus&&H.onFocus(Dt),ht&&ht.onFocus?ht.onFocus(Dt):rt(!0)},Ot=Dt=>{J&&J(Dt),H.onBlur&&H.onBlur(Dt),ht&&ht.onBlur?ht.onBlur(Dt):rt(!1)},je=(Dt,...er)=>{if(!tt){const wt=Dt.target||nt.current;if(wt==null)throw new Error(Ya(1));mt({value:wt.value})}H.onChange&&H.onChange(Dt,...er),Y&&Y(Dt,...er)};L.useEffect(()=>{mt(nt.current)},[]);const lt=Dt=>{nt.current&&Dt.currentTarget===Dt.target&&nt.current.focus(),O&&O(Dt)};let rr=Z,It=H;j&&rr==="input"&&(Te?It={type:void 0,minRows:Te,maxRows:Te,...It}:It={type:void 0,maxRows:se,minRows:z,...It},rr=TP);const Ye=Dt=>{mt(Dt.animationName==="mui-auto-fill-cancel"?nt.current:{value:"x"})};L.useEffect(()=>{ht&&ht.setAdornedStart(!!me)},[ht,me]);const Ve={...r,color:Mt.color||"primary",disabled:Mt.disabled,endAdornment:M,error:Mt.error,focused:Mt.focused,formControl:ht,fullWidth:V,hiddenLabel:Mt.hiddenLabel,multiline:j,size:Mt.size,startAdornment:me,type:Re},it=NP(Ve),ct=ge.root||m.Root||F1,ot=ae.root||w.root||{},bt=ge.input||m.Input||V1;return It={...It,...ae.input??w.input},U.jsxs(L.Fragment,{children:[!N&&typeof QC=="function"&&(KC||(KC=U.jsx(QC,{}))),U.jsxs(ct,{...ot,ref:n,onClick:lt,...we,...!Wo(ct)&&{ownerState:{...Ve,...ot.ownerState}},className:xt(it.root,ot.className,x,he&&"MuiInputBase-readOnly"),children:[me,U.jsx(k1.Provider,{value:null,children:U.jsx(bt,{"aria-invalid":Mt.error,"aria-describedby":o,autoComplete:l,autoFocus:d,defaultValue:A,disabled:Mt.disabled,id:K,onAnimationStart:Ye,name:F,placeholder:ie,readOnly:he,required:Mt.required,rows:Te,value:Ke,onKeyDown:ue,onKeyUp:re,type:Re,...It,...!Wo(bt)&&{as:rr,ownerState:{...Ve,...It.ownerState}},ref:dt,className:xt(it.input,It.className,he&&"MuiInputBase-readOnly"),onBlur:Ot,onChange:je,onFocus:Qe})}),M,Ne?Ne({...Mt,startAdornment:me}):null]})]})});function MP(t){return un("MuiInput",t)}const vd={...df,...Zt("MuiInput",["root","underline","input"])};function OP(t){return un("MuiOutlinedInput",t)}const Bo={...df,...Zt("MuiOutlinedInput",["root","notchedOutline","input"])};function DP(t){return un("MuiFilledInput",t)}const Mc={...df,...Zt("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},LP=Or(U.jsx("path",{d:"M7 10l5 5 5-5z"})),PP={entering:{opacity:1},entered:{opacity:1}},kP=L.forwardRef(function(e,n){const r=Th(),o={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:l,appear:d=!0,children:x,easing:E,in:m,onEnter:w,onEntered:A,onEntering:I,onExit:N,onExited:M,onExiting:k,style:V,timeout:K=o,TransitionComponent:Z=sa,...H}=e,W=L.useRef(null),te=oi(W,Ih(x),n),se=ue=>re=>{if(ue){const ie=W.current;re===void 0?ue(ie):ue(ie,re)}},z=se(I),j=se((ue,re)=>{zT(ue);const ie=W0({style:V,timeout:K,easing:E},{mode:"enter"});ue.style.webkitTransition=r.transitions.create("opacity",ie),ue.style.transition=r.transitions.create("opacity",ie),w&&w(ue,re)}),F=se(A),J=se(k),Y=se(ue=>{const re=W0({style:V,timeout:K,easing:E},{mode:"exit"});ue.style.webkitTransition=r.transitions.create("opacity",re),ue.style.transition=r.transitions.create("opacity",re),N&&N(ue)}),O=se(M),q=ue=>{l&&l(W.current,ue)};return U.jsx(Z,{appear:d,in:m,nodeRef:W,onEnter:j,onEntered:F,onEntering:z,onExit:Y,onExited:O,onExiting:J,addEndListener:q,timeout:K,...H,children:(ue,{ownerState:re,...ie})=>L.cloneElement(x,{style:{opacity:0,visibility:ue==="exited"&&!m?"hidden":void 0,...PP[ue],...V,...x.props.style},ref:te,...ie})})});function BP(t){return un("MuiBackdrop",t)}Zt("MuiBackdrop",["root","invisible"]);const UP=t=>{const{classes:e,invisible:n}=t;return fn({root:["root",n&&"invisible"]},BP,e)},FP=et("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.invisible&&e.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),VP=L.forwardRef(function(e,n){const r=dn({props:e,name:"MuiBackdrop"}),{children:o,className:l,component:d="div",invisible:x=!1,open:E,components:m={},componentsProps:w={},slotProps:A={},slots:I={},TransitionComponent:N,transitionDuration:M,...k}=r,V={...r,component:d,invisible:x},K=UP(V),Z={transition:N,root:m.Root,...I},H={...w,...A},W={component:d,slots:Z,slotProps:H},[te,se]=Jn("root",{elementType:FP,externalForwardedProps:W,className:xt(K.root,l),ownerState:V}),[z,j]=Jn("transition",{elementType:kP,externalForwardedProps:W,ownerState:V});return U.jsx(z,{in:E,timeout:M,...k,...j,children:U.jsx(te,{"aria-hidden":!0,...se,classes:K,ref:n,children:o})})}),zP=Zt("MuiBox",["root"]),jP=L1(),Gn=ED({themeId:Go,defaultTheme:jP,defaultClassName:zP.root,generateClassName:gT.generate});function HP(t){return un("MuiButton",t)}const Oc=Zt("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]),GP=L.createContext({}),$P=L.createContext(void 0),qP=t=>{const{color:e,disableElevation:n,fullWidth:r,size:o,variant:l,loading:d,loadingPosition:x,classes:E}=t,m={root:["root",d&&"loading",l,`${l}${Ge(e)}`,`size${Ge(o)}`,`${l}Size${Ge(o)}`,`color${Ge(e)}`,n&&"disableElevation",r&&"fullWidth",d&&`loadingPosition${Ge(x)}`],startIcon:["icon","startIcon",`iconSize${Ge(o)}`],endIcon:["icon","endIcon",`iconSize${Ge(o)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},w=fn(m,HP,E);return{...E,...w}},qT=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],WP=et(ff,{shouldForwardProp:t=>so(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${Ge(n.color)}`],e[`size${Ge(n.size)}`],e[`${n.variant}Size${Ge(n.size)}`],n.color==="inherit"&&e.colorInherit,n.disableElevation&&e.disableElevation,n.fullWidth&&e.fullWidth,n.loading&&e.loading]}})(cn(({theme:t})=>{const e=t.palette.mode==="light"?t.palette.grey[300]:t.palette.grey[800],n=t.palette.mode==="light"?t.palette.grey.A100:t.palette.grey[700];return{...t.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${Oc.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(t.vars||t).shadows[2],"&:hover":{boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2]}},"&:active":{boxShadow:(t.vars||t).shadows[8]},[`&.${Oc.focusVisible}`]:{boxShadow:(t.vars||t).shadows[6]},[`&.${Oc.disabled}`]:{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${Oc.disabled}`]:{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(t.palette).filter(Vr()).map(([r])=>({props:{color:r},style:{"--variant-textColor":(t.vars||t).palette[r].main,"--variant-outlinedColor":(t.vars||t).palette[r].main,"--variant-outlinedBorder":t.alpha((t.vars||t).palette[r].main,.5),"--variant-containedColor":(t.vars||t).palette[r].contrastText,"--variant-containedBg":(t.vars||t).palette[r].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(t.vars||t).palette[r].dark,"--variant-textBg":t.alpha((t.vars||t).palette[r].main,(t.vars||t).palette.action.hoverOpacity),"--variant-outlinedBorder":(t.vars||t).palette[r].main,"--variant-outlinedBg":t.alpha((t.vars||t).palette[r].main,(t.vars||t).palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedBg:e,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedHoverBg:n,"--variant-textBg":t.alpha((t.vars||t).palette.text.primary,(t.vars||t).palette.action.hoverOpacity),"--variant-outlinedBg":t.alpha((t.vars||t).palette.text.primary,(t.vars||t).palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:t.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Oc.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Oc.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),[`&.${Oc.loading}`]:{color:"transparent"}}}]}})),YP=et("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.startIcon,n.loading&&e.startIconLoadingStart,e[`iconSize${Ge(n.size)}`]]}})(({theme:t})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...qT]})),XP=et("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.endIcon,n.loading&&e.endIconLoadingEnd,e[`iconSize${Ge(n.size)}`]]}})(({theme:t})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...qT]})),KP=et("span",{name:"MuiButton",slot:"LoadingIndicator"})(({theme:t})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(t.vars||t).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),ZC=et("span",{name:"MuiButton",slot:"LoadingIconPlaceholder"})({display:"inline-block",width:"1em",height:"1em"}),Qa=L.forwardRef(function(e,n){const r=L.useContext(GP),o=L.useContext($P),l=nh(r,e),d=dn({props:l,name:"MuiButton"}),{children:x,color:E="primary",component:m="button",className:w,disabled:A=!1,disableElevation:I=!1,disableFocusRipple:N=!1,endIcon:M,focusVisibleClassName:k,fullWidth:V=!1,id:K,loading:Z=null,loadingIndicator:H,loadingPosition:W="center",size:te="medium",startIcon:se,type:z,variant:j="text",...F}=d,J=_h(K),Y=H??U.jsx(Ps,{"aria-labelledby":J,color:"inherit",size:16}),O={...d,color:E,component:m,disabled:A,disableElevation:I,disableFocusRipple:N,fullWidth:V,loading:Z,loadingIndicator:Y,loadingPosition:W,size:te,type:z,variant:j},q=qP(O),ue=(se||Z&&W==="start")&&U.jsx(YP,{className:q.startIcon,ownerState:O,children:se||U.jsx(ZC,{className:q.loadingIconPlaceholder,ownerState:O})}),re=(M||Z&&W==="end")&&U.jsx(XP,{className:q.endIcon,ownerState:O,children:M||U.jsx(ZC,{className:q.loadingIconPlaceholder,ownerState:O})}),ie=o||"",he=typeof Z=="boolean"?U.jsx("span",{className:q.loadingWrapper,style:{display:"contents"},children:Z&&U.jsx(KP,{className:q.loadingIndicator,ownerState:O,children:Y})}):null;return U.jsxs(WP,{ownerState:O,className:xt(r.className,q.root,w,ie),component:m,disabled:A||Z,focusRipple:!N,focusVisibleClassName:xt(q.focusVisible,k),ref:n,type:z,id:Z?J:K,...F,classes:q,children:[ue,W!=="end"&&he,x,W==="end"&&he,re]})}),eu=l5({createStyledComponent:et("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`maxWidth${Ge(String(n.maxWidth))}`],n.fixed&&e.fixed,n.disableGutters&&e.disableGutters]}}),useThemeProps:t=>dn({props:t,name:"MuiContainer"})}),Zy=typeof ux({})=="function",QP=(t,e)=>({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%",...e&&!t.vars&&{colorScheme:t.palette.mode}}),ZP=t=>({color:(t.vars||t).palette.text.primary,...t.typography.body1,backgroundColor:(t.vars||t).palette.background.default,"@media print":{backgroundColor:(t.vars||t).palette.common.white}}),WT=(t,e=!1)=>{const n={};e&&t.colorSchemes&&typeof t.getColorSchemeSelector=="function"&&Object.entries(t.colorSchemes).forEach(([l,d])=>{const x=t.getColorSchemeSelector(l);x.startsWith("@")?n[x]={":root":{colorScheme:d.palette?.mode}}:n[x.replace(/\s*&/,"")]={colorScheme:d.palette?.mode}});let r={html:QP(t,e),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:t.typography.fontWeightBold},body:{margin:0,...ZP(t),"&::backdrop":{backgroundColor:(t.vars||t).palette.background.default}},...n};const o=t.components?.MuiCssBaseline?.styleOverrides;return o&&(r=[r,o]),r},_0="mui-ecs",JP=t=>{const e=WT(t,!1),n=Array.isArray(e)?e[0]:e;return!t.vars&&n&&(n.html[`:root:has(${_0})`]={colorScheme:t.palette.mode}),t.colorSchemes&&Object.entries(t.colorSchemes).forEach(([r,o])=>{const l=t.getColorSchemeSelector(r);l.startsWith("@")?n[l]={[`:root:not(:has(.${_0}))`]:{colorScheme:o.palette?.mode}}:n[l.replace(/\s*&/,"")]={[`&:not(:has(.${_0}))`]:{colorScheme:o.palette?.mode}}}),e},ek=ux(Zy?({theme:t,enableColorScheme:e})=>WT(t,e):({theme:t})=>JP(t));function tk(t){const e=dn({props:t,name:"MuiCssBaseline"}),{children:n,enableColorScheme:r=!1}=e;return U.jsxs(L.Fragment,{children:[Zy&&U.jsx(ek,{enableColorScheme:r}),!Zy&&!r&&U.jsx("span",{className:_0,style:{display:"none"}}),n]})}function YT(t=window){const e=t.document.documentElement.clientWidth;return t.innerWidth-e}function nk(t){const e=Zi(t);return e.body===t?Ka(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function zd(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function JC(t){return parseInt(Ka(t).getComputedStyle(t).paddingRight,10)||0}function rk(t){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(t.tagName),r=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return n||r}function eS(t,e,n,r,o){const l=[e,n,...r];[].forEach.call(t.children,d=>{const x=!l.includes(d),E=!rk(d);x&&E&&zd(d,o)})}function gy(t,e){let n=-1;return t.some((r,o)=>e(r)?(n=o,!0):!1),n}function ik(t,e){const n=[],r=t.container;if(!e.disableScrollLock){if(nk(r)){const d=YT(Ka(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${JC(r)+d}px`;const x=Zi(r).querySelectorAll(".mui-fixed");[].forEach.call(x,E=>{n.push({value:E.style.paddingRight,property:"padding-right",el:E}),E.style.paddingRight=`${JC(E)+d}px`})}let l;if(r.parentNode instanceof DocumentFragment)l=Zi(r).body;else{const d=r.parentElement,x=Ka(r);l=d?.nodeName==="HTML"&&x.getComputedStyle(d).overflowY==="scroll"?d:r}n.push({value:l.style.overflow,property:"overflow",el:l},{value:l.style.overflowX,property:"overflow-x",el:l},{value:l.style.overflowY,property:"overflow-y",el:l}),l.style.overflow="hidden"}return()=>{n.forEach(({value:l,el:d,property:x})=>{l?d.style.setProperty(x,l):d.style.removeProperty(x)})}}function sk(t){const e=[];return[].forEach.call(t.children,n=>{n.getAttribute("aria-hidden")==="true"&&e.push(n)}),e}class ok{constructor(){this.modals=[],this.containers=[]}add(e,n){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&zd(e.modalRef,!1);const o=sk(n);eS(n,e.mount,e.modalRef,o,!0);const l=gy(this.containers,d=>d.container===n);return l!==-1?(this.containers[l].modals.push(e),r):(this.containers.push({modals:[e],container:n,restore:null,hiddenSiblings:o}),r)}mount(e,n){const r=gy(this.containers,l=>l.modals.includes(e)),o=this.containers[r];o.restore||(o.restore=ik(o,n))}remove(e,n=!0){const r=this.modals.indexOf(e);if(r===-1)return r;const o=gy(this.containers,d=>d.modals.includes(e)),l=this.containers[o];if(l.modals.splice(l.modals.indexOf(e),1),this.modals.splice(r,1),l.modals.length===0)l.restore&&l.restore(),e.modalRef&&zd(e.modalRef,n),eS(l.container,e.mount,e.modalRef,l.hiddenSiblings,!1),this.containers.splice(o,1);else{const d=l.modals[l.modals.length-1];d.modalRef&&zd(d.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}const ak=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function lk(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function ck(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=r=>t.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=e(`[name="${t.name}"]:checked`);return n||(n=e(`[name="${t.name}"]`)),n!==t}function uk(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||ck(t))}function fk(t){const e=[],n=[];return Array.from(t.querySelectorAll(ak)).forEach((r,o)=>{const l=lk(r);l===-1||!uk(r)||(l===0?e.push(r):n.push({documentOrder:o,tabIndex:l,node:r}))}),n.sort((r,o)=>r.tabIndex===o.tabIndex?r.documentOrder-o.documentOrder:r.tabIndex-o.tabIndex).map(r=>r.node).concat(e)}function dk(){return!0}function hk(t){const{children:e,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:o=!1,getTabbable:l=fk,isEnabled:d=dk,open:x}=t,E=L.useRef(!1),m=L.useRef(null),w=L.useRef(null),A=L.useRef(null),I=L.useRef(null),N=L.useRef(!1),M=L.useRef(null),k=oi(Ih(e),M),V=L.useRef(null);L.useEffect(()=>{!x||!M.current||(N.current=!n)},[n,x]),L.useEffect(()=>{if(!x||!M.current)return;const H=Zi(M.current);return M.current.contains(H.activeElement)||(M.current.hasAttribute("tabIndex")||M.current.setAttribute("tabIndex","-1"),N.current&&M.current.focus()),()=>{o||(A.current&&A.current.focus&&(E.current=!0,A.current.focus()),A.current=null)}},[x]),L.useEffect(()=>{if(!x||!M.current)return;const H=Zi(M.current),W=z=>{V.current=z,!(r||!d()||z.key!=="Tab")&&H.activeElement===M.current&&z.shiftKey&&(E.current=!0,w.current&&w.current.focus())},te=()=>{const z=M.current;if(z===null)return;if(!H.hasFocus()||!d()||E.current){E.current=!1;return}if(z.contains(H.activeElement)||r&&H.activeElement!==m.current&&H.activeElement!==w.current)return;if(H.activeElement!==I.current)I.current=null;else if(I.current!==null)return;if(!N.current)return;let j=[];if((H.activeElement===m.current||H.activeElement===w.current)&&(j=l(M.current)),j.length>0){const F=!!(V.current?.shiftKey&&V.current?.key==="Tab"),J=j[0],Y=j[j.length-1];typeof J!="string"&&typeof Y!="string"&&(F?Y.focus():J.focus())}else z.focus()};H.addEventListener("focusin",te),H.addEventListener("keydown",W,!0);const se=setInterval(()=>{H.activeElement&&H.activeElement.tagName==="BODY"&&te()},50);return()=>{clearInterval(se),H.removeEventListener("focusin",te),H.removeEventListener("keydown",W,!0)}},[n,r,o,d,x,l]);const K=H=>{A.current===null&&(A.current=H.relatedTarget),N.current=!0,I.current=H.target;const W=e.props.onFocus;W&&W(H)},Z=H=>{A.current===null&&(A.current=H.relatedTarget),N.current=!0};return U.jsxs(L.Fragment,{children:[U.jsx("div",{tabIndex:x?0:-1,onFocus:Z,ref:m,"data-testid":"sentinelStart"}),L.cloneElement(e,{ref:k,onFocus:K}),U.jsx("div",{tabIndex:x?0:-1,onFocus:Z,ref:w,"data-testid":"sentinelEnd"})]})}function pk(t){return typeof t=="function"?t():t}function gk(t){return t?t.props.hasOwnProperty("in"):!1}const tS=()=>{},n0=new ok;function mk(t){const{container:e,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,closeAfterTransition:o=!1,onTransitionEnter:l,onTransitionExited:d,children:x,onClose:E,open:m,rootRef:w}=t,A=L.useRef({}),I=L.useRef(null),N=L.useRef(null),M=oi(N,w),[k,V]=L.useState(!m),K=gk(x);let Z=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(Z=!1);const H=()=>Zi(I.current),W=()=>(A.current.modalRef=N.current,A.current.mount=I.current,A.current),te=()=>{n0.mount(W(),{disableScrollLock:r}),N.current&&(N.current.scrollTop=0)},se=qo(()=>{const re=pk(e)||H().body;n0.add(W(),re),N.current&&te()}),z=()=>n0.isTopModal(W()),j=qo(re=>{I.current=re,re&&(m&&z()?te():N.current&&zd(N.current,Z))}),F=L.useCallback(()=>{n0.remove(W(),Z)},[Z]);L.useEffect(()=>()=>{F()},[F]),L.useEffect(()=>{m?se():(!K||!o)&&F()},[m,F,K,o,se]);const J=re=>ie=>{re.onKeyDown?.(ie),!(ie.key!=="Escape"||ie.which===229||!z())&&(n||(ie.stopPropagation(),E&&E(ie,"escapeKeyDown")))},Y=re=>ie=>{re.onClick?.(ie),ie.target===ie.currentTarget&&E&&E(ie,"backdropClick")};return{getRootProps:(re={})=>{const ie=Vd(t);delete ie.onTransitionEnter,delete ie.onTransitionExited;const he={...ie,...re};return{role:"presentation",...he,onKeyDown:J(he),ref:M}},getBackdropProps:(re={})=>{const ie=re;return{"aria-hidden":!0,...ie,onClick:Y(ie),open:m}},getTransitionProps:()=>{const re=()=>{V(!1),l&&l()},ie=()=>{V(!0),d&&d(),o&&F()};return{onEnter:kC(re,x?.props.onEnter??tS),onExited:kC(ie,x?.props.onExited??tS)}},rootRef:M,portalRef:j,isTopModal:z,exited:k,hasTransition:K}}function yk(t){return un("MuiModal",t)}Zt("MuiModal",["root","hidden","backdrop"]);const xk=t=>{const{open:e,exited:n,classes:r}=t;return fn({root:["root",!e&&n&&"hidden"],backdrop:["backdrop"]},yk,r)},Ek=et("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.open&&n.exited&&e.hidden]}})(cn(({theme:t})=>({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:e})=>!e.open&&e.exited,style:{visibility:"hidden"}}]}))),vk=et(VP,{name:"MuiModal",slot:"Backdrop"})({zIndex:-1}),bk=L.forwardRef(function(e,n){const r=dn({name:"MuiModal",props:e}),{BackdropComponent:o=vk,BackdropProps:l,classes:d,className:x,closeAfterTransition:E=!1,children:m,container:w,component:A,components:I={},componentsProps:N={},disableAutoFocus:M=!1,disableEnforceFocus:k=!1,disableEscapeKeyDown:V=!1,disablePortal:K=!1,disableRestoreFocus:Z=!1,disableScrollLock:H=!1,hideBackdrop:W=!1,keepMounted:te=!1,onClose:se,onTransitionEnter:z,onTransitionExited:j,open:F,slotProps:J={},slots:Y={},theme:O,...q}=r,ue={...r,closeAfterTransition:E,disableAutoFocus:M,disableEnforceFocus:k,disableEscapeKeyDown:V,disablePortal:K,disableRestoreFocus:Z,disableScrollLock:H,hideBackdrop:W,keepMounted:te},{getRootProps:re,getBackdropProps:ie,getTransitionProps:he,portalRef:Ne,isTopModal:Te,exited:We,hasTransition:ae}=mk({...ue,rootRef:n}),ge={...ue,exited:We},me=xk(ge),Re={};if(m.props.tabIndex===void 0&&(Re.tabIndex="-1"),ae){const{onEnter:st,onExited:dt}=he();Re.onEnter=st,Re.onExited=dt}const ze={slots:{root:I.Root,backdrop:I.Backdrop,...Y},slotProps:{...N,...J}},[we,Ke]=Jn("root",{ref:n,elementType:Ek,externalForwardedProps:{...ze,...q,component:A},getSlotProps:re,ownerState:ge,className:xt(x,me?.root,!ge.open&&ge.exited&&me?.hidden)}),[tt,nt]=Jn("backdrop",{ref:l?.ref,elementType:o,externalForwardedProps:ze,shouldForwardComponentProp:!0,additionalProps:l,getSlotProps:st=>ie({...st,onClick:dt=>{st?.onClick&&st.onClick(dt)}}),className:xt(l?.className,me?.backdrop),ownerState:ge});return!te&&!F&&(!ae||We)?null:U.jsx(EP,{ref:Ne,container:w,disablePortal:K,children:U.jsxs(we,{...Ke,children:[!W&&o?U.jsx(tt,{...nt}):null,U.jsx(hk,{disableEnforceFocus:k,disableAutoFocus:M,disableRestoreFocus:Z,isEnabled:Te,open:F,children:L.cloneElement(m,Re)})]})})}),nS=Zt("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),wk=t=>{const{classes:e,disableUnderline:n,startAdornment:r,endAdornment:o,size:l,hiddenLabel:d,multiline:x}=t,E={root:["root",!n&&"underline",r&&"adornedStart",o&&"adornedEnd",l==="small"&&`size${Ge(l)}`,d&&"hiddenLabel",x&&"multiline"],input:["input"]},m=fn(E,DP,e);return{...e,...m}},Ck=et(F1,{shouldForwardProp:t=>so(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...B1(t,e),!n.disableUnderline&&e.underline]}})(cn(({theme:t})=>{const e=t.palette.mode==="light",n=e?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",r=e?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",o=e?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",l=e?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:o,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r}},[`&.${Mc.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r},[`&.${Mc.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:l},variants:[{props:({ownerState:d})=>!d.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Mc.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Mc.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?t.alpha(t.vars.palette.common.onBackground,t.vars.opacity.inputUnderline):n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Mc.disabled}, .${Mc.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${Mc.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(t.palette).filter(Vr()).map(([d])=>({props:{disableUnderline:!1,color:d},style:{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[d]?.main}`}}})),{props:({ownerState:d})=>d.startAdornment,style:{paddingLeft:12}},{props:({ownerState:d})=>d.endAdornment,style:{paddingRight:12}},{props:({ownerState:d})=>d.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:d,size:x})=>d.multiline&&x==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:d})=>d.multiline&&d.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:d})=>d.multiline&&d.hiddenLabel&&d.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),Sk=et(V1,{name:"MuiFilledInput",slot:"Input",overridesResolver:U1})(cn(({theme:t})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:e})=>e.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}},{props:({ownerState:e})=>e.hiddenLabel&&e.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:e})=>e.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),gx=L.forwardRef(function(e,n){const r=dn({props:e,name:"MuiFilledInput"}),{disableUnderline:o=!1,components:l={},componentsProps:d,fullWidth:x=!1,hiddenLabel:E,inputComponent:m="input",multiline:w=!1,slotProps:A,slots:I={},type:N="text",...M}=r,k={...r,disableUnderline:o,fullWidth:x,inputComponent:m,multiline:w,type:N},V=wk(r),K={root:{ownerState:k},input:{ownerState:k}},Z=A??d?Fi(K,A??d):K,H=I.root??l.Root??Ck,W=I.input??l.Input??Sk;return U.jsx(px,{slots:{root:H,input:W},slotProps:Z,fullWidth:x,inputComponent:m,multiline:w,ref:n,type:N,...M,classes:V})});gx.muiName="Input";function Ak(t){return un("MuiFormControl",t)}Zt("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const _k=t=>{const{classes:e,margin:n,fullWidth:r}=t,o={root:["root",n!=="none"&&`margin${Ge(n)}`,r&&"fullWidth"]};return fn(o,Ak,e)},Tk=et("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`margin${Ge(n.margin)}`],n.fullWidth&&e.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),Ik=L.forwardRef(function(e,n){const r=dn({props:e,name:"MuiFormControl"}),{children:o,className:l,color:d="primary",component:x="div",disabled:E=!1,error:m=!1,focused:w,fullWidth:A=!1,hiddenLabel:I=!1,margin:N="none",required:M=!1,size:k="medium",variant:V="outlined",...K}=r,Z={...r,color:d,component:x,disabled:E,error:m,fullWidth:A,hiddenLabel:I,margin:N,required:M,size:k,variant:V},H=_k(Z),[W,te]=L.useState(()=>{let re=!1;return o&&L.Children.forEach(o,ie=>{if(!Fd(ie,["Input","Select"]))return;const he=Fd(ie,["Select"])?ie.props.input:ie;he&&IP(he.props)&&(re=!0)}),re}),[se,z]=L.useState(()=>{let re=!1;return o&&L.Children.forEach(o,ie=>{Fd(ie,["Input","Select"])&&(X0(ie.props,!0)||X0(ie.props.inputProps,!0))&&(re=!0)}),re}),[j,F]=L.useState(!1);E&&j&&F(!1);const J=w!==void 0&&!E?w:j;let Y;L.useRef(!1);const O=L.useCallback(()=>{z(!0)},[]),q=L.useCallback(()=>{z(!1)},[]),ue=L.useMemo(()=>({adornedStart:W,setAdornedStart:te,color:d,disabled:E,error:m,filled:se,focused:J,fullWidth:A,hiddenLabel:I,size:k,onBlur:()=>{F(!1)},onFocus:()=>{F(!0)},onEmpty:q,onFilled:O,registerEffect:Y,required:M,variant:V}),[W,d,E,m,se,J,A,I,Y,q,O,M,k,V]);return U.jsx(k1.Provider,{value:ue,children:U.jsx(Tk,{as:x,ownerState:Z,className:xt(H.root,l),ref:n,...K,children:o})})});function Rk(t){return un("MuiFormHelperText",t)}const rS=Zt("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var iS;const Nk=t=>{const{classes:e,contained:n,size:r,disabled:o,error:l,filled:d,focused:x,required:E}=t,m={root:["root",o&&"disabled",l&&"error",r&&`size${Ge(r)}`,n&&"contained",x&&"focused",d&&"filled",E&&"required"]};return fn(m,Rk,e)},Mk=et("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.size&&e[`size${Ge(n.size)}`],n.contained&&e.contained,n.filled&&e.filled]}})(cn(({theme:t})=>({color:(t.vars||t).palette.text.secondary,...t.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${rS.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${rS.error}`]:{color:(t.vars||t).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:e})=>e.contained,style:{marginLeft:14,marginRight:14}}]}))),Ok=L.forwardRef(function(e,n){const r=dn({props:e,name:"MuiFormHelperText"}),{children:o,className:l,component:d="p",disabled:x,error:E,filled:m,focused:w,margin:A,required:I,variant:N,...M}=r,k=Jc(),V=_f({props:r,muiFormControl:k,states:["variant","size","disabled","error","filled","focused","required"]}),K={...r,component:d,contained:V.variant==="filled"||V.variant==="outlined",variant:V.variant,size:V.size,disabled:V.disabled,error:V.error,filled:V.filled,focused:V.focused,required:V.required};delete K.ownerState;const Z=Nk(K);return U.jsx(Mk,{as:d,className:xt(Z.root,l),ref:n,...M,ownerState:K,children:o===" "?iS||(iS=U.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):o})});function Dk(t){return un("MuiFormLabel",t)}const jd=Zt("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),Lk=t=>{const{classes:e,color:n,focused:r,disabled:o,error:l,filled:d,required:x}=t,E={root:["root",`color${Ge(n)}`,o&&"disabled",l&&"error",d&&"filled",r&&"focused",x&&"required"],asterisk:["asterisk",l&&"error"]};return fn(E,Dk,e)},Pk=et("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color==="secondary"&&e.colorSecondary,n.filled&&e.filled]}})(cn(({theme:t})=>({color:(t.vars||t).palette.text.secondary,...t.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(t.palette).filter(Vr()).map(([e])=>({props:{color:e},style:{[`&.${jd.focused}`]:{color:(t.vars||t).palette[e].main}}})),{props:{},style:{[`&.${jd.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${jd.error}`]:{color:(t.vars||t).palette.error.main}}}]}))),kk=et("span",{name:"MuiFormLabel",slot:"Asterisk"})(cn(({theme:t})=>({[`&.${jd.error}`]:{color:(t.vars||t).palette.error.main}}))),Bk=L.forwardRef(function(e,n){const r=dn({props:e,name:"MuiFormLabel"}),{children:o,className:l,color:d,component:x="label",disabled:E,error:m,filled:w,focused:A,required:I,...N}=r,M=Jc(),k=_f({props:r,muiFormControl:M,states:["color","required","focused","disabled","error","filled"]}),V={...r,color:k.color||"primary",component:x,disabled:k.disabled,error:k.error,filled:k.filled,focused:k.focused,required:k.required},K=Lk(V);return U.jsxs(Pk,{as:x,ownerState:V,className:xt(K.root,l),ref:n,...N,children:[o,k.required&&U.jsxs(kk,{ownerState:V,"aria-hidden":!0,className:K.asterisk,children:["","*"]})]})}),Ga=S5({createStyledComponent:et("div",{name:"MuiGrid",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.container&&e.container]}}),componentName:"MuiGrid",useThemeProps:t=>dn({props:t,name:"MuiGrid"}),useTheme:Th});function Jy(t){return`scale(${t}, ${t**2})`}const Uk={entering:{opacity:1,transform:Jy(1)},entered:{opacity:1,transform:"none"}},my=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),e2=L.forwardRef(function(e,n){const{addEndListener:r,appear:o=!0,children:l,easing:d,in:x,onEnter:E,onEntered:m,onEntering:w,onExit:A,onExited:I,onExiting:N,style:M,timeout:k="auto",TransitionComponent:V=sa,...K}=e,Z=VT(),H=L.useRef(),W=Th(),te=L.useRef(null),se=oi(te,Ih(l),n),z=re=>ie=>{if(re){const he=te.current;ie===void 0?re(he):re(he,ie)}},j=z(w),F=z((re,ie)=>{zT(re);const{duration:he,delay:Ne,easing:Te}=W0({style:M,timeout:k,easing:d},{mode:"enter"});let We;k==="auto"?(We=W.transitions.getAutoHeightDuration(re.clientHeight),H.current=We):We=he,re.style.transition=[W.transitions.create("opacity",{duration:We,delay:Ne}),W.transitions.create("transform",{duration:my?We:We*.666,delay:Ne,easing:Te})].join(","),E&&E(re,ie)}),J=z(m),Y=z(N),O=z(re=>{const{duration:ie,delay:he,easing:Ne}=W0({style:M,timeout:k,easing:d},{mode:"exit"});let Te;k==="auto"?(Te=W.transitions.getAutoHeightDuration(re.clientHeight),H.current=Te):Te=ie,re.style.transition=[W.transitions.create("opacity",{duration:Te,delay:he}),W.transitions.create("transform",{duration:my?Te:Te*.666,delay:my?he:he||Te*.333,easing:Ne})].join(","),re.style.opacity=0,re.style.transform=Jy(.75),A&&A(re)}),q=z(I),ue=re=>{k==="auto"&&Z.start(H.current||0,re),r&&r(te.current,re)};return U.jsx(V,{appear:o,in:x,nodeRef:te,onEnter:F,onEntered:J,onEntering:j,onExit:O,onExited:q,onExiting:Y,addEndListener:ue,timeout:k==="auto"?null:k,...K,children:(re,{ownerState:ie,...he})=>L.cloneElement(l,{style:{opacity:0,transform:Jy(.75),visibility:re==="exited"&&!x?"hidden":void 0,...Uk[re],...M,...l.props.style},ref:se,...he})})});e2&&(e2.muiSupportAuto=!0);const Fk=t=>{const{classes:e,disableUnderline:n}=t,o=fn({root:["root",!n&&"underline"],input:["input"]},MP,e);return{...e,...o}},Vk=et(F1,{shouldForwardProp:t=>so(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...B1(t,e),!n.disableUnderline&&e.underline]}})(cn(({theme:t})=>{let n=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(n=t.alpha(t.vars.palette.common.onBackground,t.vars.opacity.inputUnderline)),{position:"relative",variants:[{props:({ownerState:r})=>r.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:r})=>!r.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${vd.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${vd.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${vd.disabled}, .${vd.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${n}`}},[`&.${vd.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(t.palette).filter(Vr()).map(([r])=>({props:{color:r,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[r].main}`}}}))]}})),zk=et(V1,{name:"MuiInput",slot:"Input",overridesResolver:U1})({}),mx=L.forwardRef(function(e,n){const r=dn({props:e,name:"MuiInput"}),{disableUnderline:o=!1,components:l={},componentsProps:d,fullWidth:x=!1,inputComponent:E="input",multiline:m=!1,slotProps:w,slots:A={},type:I="text",...N}=r,M=Fk(r),V={root:{ownerState:{disableUnderline:o}}},K=w??d?Fi(w??d,V):V,Z=A.root??l.Root??Vk,H=A.input??l.Input??zk;return U.jsx(px,{slots:{root:Z,input:H},slotProps:K,fullWidth:x,inputComponent:E,multiline:m,ref:n,type:I,...N,classes:M})});mx.muiName="Input";function jk(t){return un("MuiInputAdornment",t)}const sS=Zt("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var oS;const Hk=(t,e)=>{const{ownerState:n}=t;return[e.root,e[`position${Ge(n.position)}`],n.disablePointerEvents===!0&&e.disablePointerEvents,e[n.variant]]},Gk=t=>{const{classes:e,disablePointerEvents:n,hiddenLabel:r,position:o,size:l,variant:d}=t,x={root:["root",n&&"disablePointerEvents",o&&`position${Ge(o)}`,d,r&&"hiddenLabel",l&&`size${Ge(l)}`]};return fn(x,jk,e)},$k=et("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:Hk})(cn(({theme:t})=>({display:"flex",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(t.vars||t).palette.action.active,variants:[{props:{variant:"filled"},style:{[`&.${sS.positionStart}&:not(.${sS.hiddenLabel})`]:{marginTop:16}}},{props:{position:"start"},style:{marginRight:8}},{props:{position:"end"},style:{marginLeft:8}},{props:{disablePointerEvents:!0},style:{pointerEvents:"none"}}]}))),XT=L.forwardRef(function(e,n){const r=dn({props:e,name:"MuiInputAdornment"}),{children:o,className:l,component:d="div",disablePointerEvents:x=!1,disableTypography:E=!1,position:m,variant:w,...A}=r,I=Jc()||{};let N=w;w&&I.variant,I&&!N&&(N=I.variant);const M={...r,hiddenLabel:I.hiddenLabel,size:I.size,disablePointerEvents:x,position:m,variant:N},k=Gk(M);return U.jsx(k1.Provider,{value:null,children:U.jsx($k,{as:d,ownerState:M,className:xt(k.root,l),ref:n,...A,children:typeof o=="string"&&!E?U.jsx(Lt,{color:"textSecondary",children:o}):U.jsxs(L.Fragment,{children:[m==="start"?oS||(oS=U.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):null,o]})})})});function qk(t){return un("MuiInputLabel",t)}Zt("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const Wk=t=>{const{classes:e,formControl:n,size:r,shrink:o,disableAnimation:l,variant:d,required:x}=t,E={root:["root",n&&"formControl",!l&&"animated",o&&"shrink",r&&r!=="medium"&&`size${Ge(r)}`,d],asterisk:[x&&"asterisk"]},m=fn(E,qk,e);return{...e,...m}},Yk=et(Bk,{shouldForwardProp:t=>so(t)||t==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${jd.asterisk}`]:e.asterisk},e.root,n.formControl&&e.formControl,n.size==="small"&&e.sizeSmall,n.shrink&&e.shrink,!n.disableAnimation&&e.animated,n.focused&&e.focused,e[n.variant]]}})(cn(({theme:t})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:e})=>e.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:e})=>e.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:e})=>!e.disableAnimation,style:{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:e,ownerState:n})=>e==="filled"&&n.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:e,ownerState:n,size:r})=>e==="filled"&&n.shrink&&r==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:e,ownerState:n})=>e==="outlined"&&n.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),Xk=L.forwardRef(function(e,n){const r=dn({name:"MuiInputLabel",props:e}),{disableAnimation:o=!1,margin:l,shrink:d,variant:x,className:E,...m}=r,w=Jc();let A=d;typeof A>"u"&&w&&(A=w.filled||w.focused||w.adornedStart);const I=_f({props:r,muiFormControl:w,states:["size","variant","required","focused"]}),N={...r,disableAnimation:o,formControl:w,shrink:A,size:I.size,variant:I.variant,required:I.required,focused:I.focused},M=Wk(N);return U.jsx(Yk,{"data-shrink":A,ref:n,className:xt(M.root,E),...m,ownerState:N,classes:M})});function Kk(t){return un("MuiLink",t)}const Qk=Zt("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),Zk=({theme:t,ownerState:e})=>{const n=e.color;if("colorSpace"in t&&t.colorSpace){const l=jo(t,`palette.${n}.main`)||jo(t,`palette.${n}`)||e.color;return t.alpha(l,.4)}const r=jo(t,`palette.${n}.main`,!1)||jo(t,`palette.${n}`,!1)||e.color,o=jo(t,`palette.${n}.mainChannel`)||jo(t,`palette.${n}Channel`);return"vars"in t&&o?`rgba(${o} / 0.4)`:rh(r,.4)},aS={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},Jk=t=>{const{classes:e,component:n,focusVisible:r,underline:o}=t,l={root:["root",`underline${Ge(o)}`,n==="button"&&"button",r&&"focusVisible"]};return fn(l,Kk,e)},e9=et(Lt,{name:"MuiLink",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`underline${Ge(n.underline)}`],n.component==="button"&&e.button]}})(cn(({theme:t})=>({variants:[{props:{underline:"none"},style:{textDecoration:"none"}},{props:{underline:"hover"},style:{textDecoration:"none","&:hover":{textDecoration:"underline"}}},{props:{underline:"always"},style:{textDecoration:"underline","&:hover":{textDecorationColor:"inherit"}}},{props:({underline:e,ownerState:n})=>e==="always"&&n.color!=="inherit",style:{textDecorationColor:"var(--Link-underlineColor)"}},{props:({underline:e,ownerState:n})=>e==="always"&&n.color==="inherit",style:t.colorSpace?{textDecorationColor:t.alpha("currentColor",.4)}:null},...Object.entries(t.palette).filter(Vr()).map(([e])=>({props:{underline:"always",color:e},style:{"--Link-underlineColor":t.alpha((t.vars||t).palette[e].main,.4)}})),{props:{underline:"always",color:"textPrimary"},style:{"--Link-underlineColor":t.alpha((t.vars||t).palette.text.primary,.4)}},{props:{underline:"always",color:"textSecondary"},style:{"--Link-underlineColor":t.alpha((t.vars||t).palette.text.secondary,.4)}},{props:{underline:"always",color:"textDisabled"},style:{"--Link-underlineColor":(t.vars||t).palette.text.disabled}},{props:{component:"button"},style:{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${Qk.focusVisible}`]:{outline:"auto"}}}]}))),KT=L.forwardRef(function(e,n){const r=dn({props:e,name:"MuiLink"}),o=Th(),{className:l,color:d="primary",component:x="a",onBlur:E,onFocus:m,TypographyClasses:w,underline:A="always",variant:I="inherit",sx:N,...M}=r,[k,V]=L.useState(!1),K=te=>{uf(te.target)||V(!1),E&&E(te)},Z=te=>{uf(te.target)&&V(!0),m&&m(te)},H={...r,color:d,component:x,focusVisible:k,underline:A,variant:I},W=Jk(H);return U.jsx(e9,{color:d,className:xt(W.root,l),classes:w,component:x,onBlur:K,onFocus:Z,ref:n,ownerState:H,variant:I,...M,sx:[...aS[d]===void 0?[{color:d}]:[],...Array.isArray(N)?N:[N]],style:{...M.style,...A==="always"&&d!=="inherit"&&!aS[d]&&{"--Link-underlineColor":Zk({theme:o,ownerState:H})}}})}),jl=L.createContext({});function t9(t){return un("MuiList",t)}Zt("MuiList",["root","padding","dense","subheader"]);const n9=t=>{const{classes:e,disablePadding:n,dense:r,subheader:o}=t;return fn({root:["root",!n&&"padding",r&&"dense",o&&"subheader"]},t9,e)},r9=et("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disablePadding&&e.padding,n.dense&&e.dense,n.subheader&&e.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:t})=>!t.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:t})=>t.subheader,style:{paddingTop:0}}]}),QT=L.forwardRef(function(e,n){const r=dn({props:e,name:"MuiList"}),{children:o,className:l,component:d="ul",dense:x=!1,disablePadding:E=!1,subheader:m,...w}=r,A=L.useMemo(()=>({dense:x}),[x]),I={...r,component:d,dense:x,disablePadding:E},N=n9(I);return U.jsx(jl.Provider,{value:A,children:U.jsxs(r9,{as:d,className:xt(N.root,l),ref:n,ownerState:I,...w,children:[m,o]})})});function i9(t){return un("MuiListItem",t)}Zt("MuiListItem",["root","container","dense","alignItemsFlexStart","divider","gutters","padding","secondaryAction"]);const s9=Zt("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]);function o9(t){return un("MuiListItemSecondaryAction",t)}Zt("MuiListItemSecondaryAction",["root","disableGutters"]);const a9=t=>{const{disableGutters:e,classes:n}=t;return fn({root:["root",e&&"disableGutters"]},o9,n)},l9=et("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.disableGutters&&e.disableGutters]}})({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)",variants:[{props:({ownerState:t})=>t.disableGutters,style:{right:0}}]}),ZT=L.forwardRef(function(e,n){const r=dn({props:e,name:"MuiListItemSecondaryAction"}),{className:o,...l}=r,d=L.useContext(jl),x={...r,disableGutters:d.disableGutters},E=a9(x);return U.jsx(l9,{className:xt(E.root,o),ownerState:x,ref:n,...l})});ZT.muiName="ListItemSecondaryAction";const c9=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.alignItems==="flex-start"&&e.alignItemsFlexStart,n.divider&&e.divider,!n.disableGutters&&e.gutters,!n.disablePadding&&e.padding,n.hasSecondaryAction&&e.secondaryAction]},u9=t=>{const{alignItems:e,classes:n,dense:r,disableGutters:o,disablePadding:l,divider:d,hasSecondaryAction:x}=t;return fn({root:["root",r&&"dense",!o&&"gutters",!l&&"padding",d&&"divider",e==="flex-start"&&"alignItemsFlexStart",x&&"secondaryAction"],container:["container"]},i9,n)},f9=et("div",{name:"MuiListItem",slot:"Root",overridesResolver:c9})(cn(({theme:t})=>({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",variants:[{props:({ownerState:e})=>!e.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:e})=>!e.disablePadding&&e.dense,style:{paddingTop:4,paddingBottom:4}},{props:({ownerState:e})=>!e.disablePadding&&!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>!e.disablePadding&&!!e.secondaryAction,style:{paddingRight:48}},{props:({ownerState:e})=>!!e.secondaryAction,style:{[`& > .${s9.root}`]:{paddingRight:48}}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:e})=>e.button,style:{transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}}},{props:({ownerState:e})=>e.hasSecondaryAction,style:{paddingRight:48}}]}))),d9=et("li",{name:"MuiListItem",slot:"Container"})({position:"relative"}),h9=L.forwardRef(function(e,n){const r=dn({props:e,name:"MuiListItem"}),{alignItems:o="center",children:l,className:d,component:x,components:E={},componentsProps:m={},ContainerComponent:w="li",ContainerProps:{className:A,...I}={},dense:N=!1,disableGutters:M=!1,disablePadding:k=!1,divider:V=!1,secondaryAction:K,slotProps:Z={},slots:H={},...W}=r,te=L.useContext(jl),se=L.useMemo(()=>({dense:N||te.dense||!1,alignItems:o,disableGutters:M}),[o,te.dense,N,M]),z=L.useRef(null),j=L.Children.toArray(l),F=j.length&&Fd(j[j.length-1],["ListItemSecondaryAction"]),J={...r,alignItems:o,dense:se.dense,disableGutters:M,disablePadding:k,divider:V,hasSecondaryAction:F},Y=u9(J),O=oi(z,n),q=H.root||E.Root||f9,ue=Z.root||m.root||{},re={className:xt(Y.root,ue.className,d),...W};let ie=x||"li";return F?(ie=!re.component&&!x?"div":ie,w==="li"&&(ie==="li"?ie="div":re.component==="li"&&(re.component="div")),U.jsx(jl.Provider,{value:se,children:U.jsxs(d9,{as:w,className:xt(Y.container,A),ref:O,ownerState:J,...I,children:[U.jsx(q,{...ue,...!Wo(q)&&{as:ie,ownerState:{...J,...ue.ownerState}},...re,children:j}),j.pop()]})})):U.jsx(jl.Provider,{value:se,children:U.jsxs(q,{...ue,as:ie,ref:O,...!Wo(q)&&{ownerState:{...J,...ue.ownerState}},...re,children:[j,K&&U.jsx(ZT,{children:K})]})})}),lS=Zt("MuiListItemIcon",["root","alignItemsFlexStart"]);function p9(t){return un("MuiListItemText",t)}const Ku=Zt("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),g9=t=>{const{classes:e,inset:n,primary:r,secondary:o,dense:l}=t;return fn({root:["root",n&&"inset",l&&"dense",r&&o&&"multiline"],primary:["primary"],secondary:["secondary"]},p9,e)},m9=et("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${Ku.primary}`]:e.primary},{[`& .${Ku.secondary}`]:e.secondary},e.root,n.inset&&e.inset,n.primary&&n.secondary&&e.multiline,n.dense&&e.dense]}})({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4,[`.${GC.root}:where(& .${Ku.primary})`]:{display:"block"},[`.${GC.root}:where(& .${Ku.secondary})`]:{display:"block"},variants:[{props:({ownerState:t})=>t.primary&&t.secondary,style:{marginTop:6,marginBottom:6}},{props:({ownerState:t})=>t.inset,style:{paddingLeft:56}}]}),y9=L.forwardRef(function(e,n){const r=dn({props:e,name:"MuiListItemText"}),{children:o,className:l,disableTypography:d=!1,inset:x=!1,primary:E,primaryTypographyProps:m,secondary:w,secondaryTypographyProps:A,slots:I={},slotProps:N={},...M}=r,{dense:k}=L.useContext(jl);let V=E??o,K=w;const Z={...r,disableTypography:d,inset:x,primary:!!V,secondary:!!K,dense:k},H=g9(Z),W={slots:I,slotProps:{primary:m,secondary:A,...N}},[te,se]=Jn("root",{className:xt(H.root,l),elementType:m9,externalForwardedProps:{...W,...M},ownerState:Z,ref:n}),[z,j]=Jn("primary",{className:H.primary,elementType:Lt,externalForwardedProps:W,ownerState:Z}),[F,J]=Jn("secondary",{className:H.secondary,elementType:Lt,externalForwardedProps:W,ownerState:Z});return V!=null&&V.type!==Lt&&!d&&(V=U.jsx(z,{variant:k?"body2":"body1",component:j?.variant?void 0:"span",...j,children:V})),K!=null&&K.type!==Lt&&!d&&(K=U.jsx(F,{variant:"body2",color:"textSecondary",...J,children:K})),U.jsxs(te,{...se,children:[V,K]})});function yy(t,e,n){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:n?null:t.firstChild}function cS(t,e,n){return t===e?n?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:n?null:t.lastChild}function JT(t,e){if(e===void 0)return!0;let n=t.innerText;return n===void 0&&(n=t.textContent),n=n.trim().toLowerCase(),n.length===0?!1:e.repeating?n[0]===e.keys[0]:n.startsWith(e.keys.join(""))}function bd(t,e,n,r,o,l){let d=!1,x=o(t,e,e?n:!1);for(;x;){if(x===t.firstChild){if(d)return!1;d=!0}const E=r?!1:x.disabled||x.getAttribute("aria-disabled")==="true";if(!x.hasAttribute("tabindex")||!JT(x,l)||E)x=o(t,x,n);else return x.focus(),!0}return!1}const x9=L.forwardRef(function(e,n){const{actions:r,autoFocus:o=!1,autoFocusItem:l=!1,children:d,className:x,disabledItemsFocusable:E=!1,disableListWrap:m=!1,onKeyDown:w,variant:A="selectedMenu",...I}=e,N=L.useRef(null),M=L.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});vo(()=>{o&&N.current.focus()},[o]),L.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(H,{direction:W})=>{const te=!N.current.style.width;if(H.clientHeight<N.current.clientHeight&&te){const se=`${YT(Ka(H))}px`;N.current.style[W==="rtl"?"paddingLeft":"paddingRight"]=se,N.current.style.width=`calc(100% + ${se})`}return N.current}}),[]);const k=H=>{const W=N.current,te=H.key;if(H.ctrlKey||H.metaKey||H.altKey){w&&w(H);return}const z=Zi(W).activeElement;if(te==="ArrowDown")H.preventDefault(),bd(W,z,m,E,yy);else if(te==="ArrowUp")H.preventDefault(),bd(W,z,m,E,cS);else if(te==="Home")H.preventDefault(),bd(W,null,m,E,yy);else if(te==="End")H.preventDefault(),bd(W,null,m,E,cS);else if(te.length===1){const j=M.current,F=te.toLowerCase(),J=performance.now();j.keys.length>0&&(J-j.lastTime>500?(j.keys=[],j.repeating=!0,j.previousKeyMatched=!0):j.repeating&&F!==j.keys[0]&&(j.repeating=!1)),j.lastTime=J,j.keys.push(F);const Y=z&&!j.repeating&&JT(z,j);j.previousKeyMatched&&(Y||bd(W,z,!1,E,yy,j))?H.preventDefault():j.previousKeyMatched=!1}w&&w(H)},V=oi(N,n);let K=-1;L.Children.forEach(d,(H,W)=>{if(!L.isValidElement(H)){K===W&&(K+=1,K>=d.length&&(K=-1));return}H.props.disabled||(A==="selectedMenu"&&H.props.selected||K===-1)&&(K=W),K===W&&(H.props.disabled||H.props.muiSkipListHighlight||H.type.muiSkipListHighlight)&&(K+=1,K>=d.length&&(K=-1))});const Z=L.Children.map(d,(H,W)=>{if(W===K){const te={};return l&&(te.autoFocus=!0),H.props.tabIndex===void 0&&A==="selectedMenu"&&(te.tabIndex=0),L.cloneElement(H,te)}return H});return U.jsx(QT,{role:"menu",ref:V,className:x,onKeyDown:k,tabIndex:o?0:-1,...I,children:Z})});function E9(t){return un("MuiPopover",t)}Zt("MuiPopover",["root","paper"]);function uS(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.height/2:e==="bottom"&&(n=t.height),n}function fS(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.width/2:e==="right"&&(n=t.width),n}function dS(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function r0(t){return typeof t=="function"?t():t}const v9=t=>{const{classes:e}=t;return fn({root:["root"],paper:["paper"]},E9,e)},b9=et(bk,{name:"MuiPopover",slot:"Root"})({}),eI=et(Qi,{name:"MuiPopover",slot:"Paper"})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),w9=L.forwardRef(function(e,n){const r=dn({props:e,name:"MuiPopover"}),{action:o,anchorEl:l,anchorOrigin:d={vertical:"top",horizontal:"left"},anchorPosition:x,anchorReference:E="anchorEl",children:m,className:w,container:A,elevation:I=8,marginThreshold:N=16,open:M,PaperProps:k={},slots:V={},slotProps:K={},transformOrigin:Z={vertical:"top",horizontal:"left"},TransitionComponent:H,transitionDuration:W="auto",TransitionProps:te={},disableScrollLock:se=!1,...z}=r,j=L.useRef(),F={...r,anchorOrigin:d,anchorReference:E,elevation:I,marginThreshold:N,transformOrigin:Z,TransitionComponent:H,transitionDuration:W,TransitionProps:te},J=v9(F),Y=L.useCallback(()=>{if(E==="anchorPosition")return x;const st=r0(l),St=(st&&st.nodeType===1?st:Zi(j.current).body).getBoundingClientRect();return{top:St.top+uS(St,d.vertical),left:St.left+fS(St,d.horizontal)}},[l,d.horizontal,d.vertical,x,E]),O=L.useCallback(st=>({vertical:uS(st,Z.vertical),horizontal:fS(st,Z.horizontal)}),[Z.horizontal,Z.vertical]),q=L.useCallback(st=>{const dt={width:st.offsetWidth,height:st.offsetHeight},St=O(dt);if(E==="none")return{top:null,left:null,transformOrigin:dS(St)};const rt=Y();let ht=rt.top-St.vertical,Mt=rt.left-St.horizontal;const wn=ht+dt.height,vt=Mt+dt.width,mt=Ka(r0(l)),Qe=mt.innerHeight-N,Ot=mt.innerWidth-N;if(N!==null&&ht<N){const je=ht-N;ht-=je,St.vertical+=je}else if(N!==null&&wn>Qe){const je=wn-Qe;ht-=je,St.vertical+=je}if(N!==null&&Mt<N){const je=Mt-N;Mt-=je,St.horizontal+=je}else if(vt>Ot){const je=vt-Ot;Mt-=je,St.horizontal+=je}return{top:`${Math.round(ht)}px`,left:`${Math.round(Mt)}px`,transformOrigin:dS(St)}},[l,E,Y,O,N]),[ue,re]=L.useState(M),ie=L.useCallback(()=>{const st=j.current;if(!st)return;const dt=q(st);dt.top!==null&&st.style.setProperty("top",dt.top),dt.left!==null&&(st.style.left=dt.left),st.style.transformOrigin=dt.transformOrigin,re(!0)},[q]);L.useEffect(()=>(se&&window.addEventListener("scroll",ie),()=>window.removeEventListener("scroll",ie)),[l,se,ie]);const he=()=>{ie()},Ne=()=>{re(!1)};L.useEffect(()=>{M&&ie()}),L.useImperativeHandle(o,()=>M?{updatePosition:()=>{ie()}}:null,[M,ie]),L.useEffect(()=>{if(!M)return;const st=kT(()=>{ie()}),dt=Ka(r0(l));return dt.addEventListener("resize",st),()=>{st.clear(),dt.removeEventListener("resize",st)}},[l,M,ie]);let Te=W;const We={slots:{transition:H,...V},slotProps:{transition:te,paper:k,...K}},[ae,ge]=Jn("transition",{elementType:e2,externalForwardedProps:We,ownerState:F,getSlotProps:st=>({...st,onEntering:(dt,St)=>{st.onEntering?.(dt,St),he()},onExited:dt=>{st.onExited?.(dt),Ne()}}),additionalProps:{appear:!0,in:M}});W==="auto"&&!ae.muiSupportAuto&&(Te=void 0);const me=A||(l?Zi(r0(l)).body:void 0),[Re,{slots:ze,slotProps:we,...Ke}]=Jn("root",{ref:n,elementType:b9,externalForwardedProps:{...We,...z},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:V.backdrop},slotProps:{backdrop:dL(typeof K.backdrop=="function"?K.backdrop(F):K.backdrop,{invisible:!0})},container:me,open:M},ownerState:F,className:xt(J.root,w)}),[tt,nt]=Jn("paper",{ref:j,className:J.paper,elementType:eI,externalForwardedProps:We,shouldForwardComponentProp:!0,additionalProps:{elevation:I,style:ue?void 0:{opacity:0}},ownerState:F});return U.jsx(Re,{...Ke,...!Wo(Re)&&{slots:ze,slotProps:we,disableScrollLock:se},children:U.jsx(ae,{...ge,timeout:Te,children:U.jsx(tt,{...nt,children:m})})})});function C9(t){return un("MuiMenu",t)}Zt("MuiMenu",["root","paper","list"]);const S9={vertical:"top",horizontal:"right"},A9={vertical:"top",horizontal:"left"},_9=t=>{const{classes:e}=t;return fn({root:["root"],paper:["paper"],list:["list"]},C9,e)},T9=et(w9,{shouldForwardProp:t=>so(t)||t==="classes",name:"MuiMenu",slot:"Root"})({}),I9=et(eI,{name:"MuiMenu",slot:"Paper"})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),R9=et(x9,{name:"MuiMenu",slot:"List"})({outline:0}),tI=L.forwardRef(function(e,n){const r=dn({props:e,name:"MuiMenu"}),{autoFocus:o=!0,children:l,className:d,disableAutoFocusItem:x=!1,MenuListProps:E={},onClose:m,open:w,PaperProps:A={},PopoverClasses:I,transitionDuration:N="auto",TransitionProps:{onEntering:M,...k}={},variant:V="selectedMenu",slots:K={},slotProps:Z={},...H}=r,W=AT(),te={...r,autoFocus:o,disableAutoFocusItem:x,MenuListProps:E,onEntering:M,PaperProps:A,transitionDuration:N,TransitionProps:k,variant:V},se=_9(te),z=o&&!x&&w,j=L.useRef(null),F=(Te,We)=>{j.current&&j.current.adjustStyleForScrollbar(Te,{direction:W?"rtl":"ltr"}),M&&M(Te,We)},J=Te=>{Te.key==="Tab"&&(Te.preventDefault(),m&&m(Te,"tabKeyDown"))};let Y=-1;L.Children.map(l,(Te,We)=>{L.isValidElement(Te)&&(Te.props.disabled||(V==="selectedMenu"&&Te.props.selected||Y===-1)&&(Y=We))});const O={slots:K,slotProps:{list:E,transition:k,paper:A,...Z}},q=Ba({elementType:K.root,externalSlotProps:Z.root,ownerState:te,className:[se.root,d]}),[ue,re]=Jn("paper",{className:se.paper,elementType:I9,externalForwardedProps:O,shouldForwardComponentProp:!0,ownerState:te}),[ie,he]=Jn("list",{className:xt(se.list,E.className),elementType:R9,shouldForwardComponentProp:!0,externalForwardedProps:O,getSlotProps:Te=>({...Te,onKeyDown:We=>{J(We),Te.onKeyDown?.(We)}}),ownerState:te}),Ne=typeof O.slotProps.transition=="function"?O.slotProps.transition(te):O.slotProps.transition;return U.jsx(T9,{onClose:m,anchorOrigin:{vertical:"bottom",horizontal:W?"right":"left"},transformOrigin:W?S9:A9,slots:{root:K.root,paper:ue,backdrop:K.backdrop,...K.transition&&{transition:K.transition}},slotProps:{root:q,paper:re,backdrop:typeof Z.backdrop=="function"?Z.backdrop(te):Z.backdrop,transition:{...Ne,onEntering:(...Te)=>{F(...Te),Ne?.onEntering?.(...Te)}}},open:w,ref:n,transitionDuration:N,ownerState:te,...H,classes:I,children:U.jsx(ie,{actions:j,autoFocus:o&&(Y===-1||x),autoFocusItem:z,variant:V,...he,children:l})})});function N9(t){return un("MuiMenuItem",t)}const wd=Zt("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),M9=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.divider&&e.divider,!n.disableGutters&&e.gutters]},O9=t=>{const{disabled:e,dense:n,divider:r,disableGutters:o,selected:l,classes:d}=t,E=fn({root:["root",n&&"dense",e&&"disabled",!o&&"gutters",r&&"divider",l&&"selected"]},N9,d);return{...d,...E}},D9=et(ff,{shouldForwardProp:t=>so(t)||t==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:M9})(cn(({theme:t})=>({...t.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${wd.selected}`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,(t.vars||t).palette.action.selectedOpacity),[`&.${wd.focusVisible}`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.focusOpacity}`)}},[`&.${wd.selected}:hover`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:t.alpha((t.vars||t).palette.primary.main,(t.vars||t).palette.action.selectedOpacity)}},[`&.${wd.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${wd.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${nS.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${nS.inset}`]:{marginLeft:52},[`& .${Ku.root}`]:{marginTop:0,marginBottom:0},[`& .${Ku.inset}`]:{paddingLeft:36},[`& .${lS.root}`]:{minWidth:36},variants:[{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:e})=>!e.dense,style:{[t.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:({ownerState:e})=>e.dense,style:{minHeight:32,paddingTop:4,paddingBottom:4,...t.typography.body2,[`& .${lS.root} svg`]:{fontSize:"1.25rem"}}}]}))),L9=L.forwardRef(function(e,n){const r=dn({props:e,name:"MuiMenuItem"}),{autoFocus:o=!1,component:l="li",dense:d=!1,divider:x=!1,disableGutters:E=!1,focusVisibleClassName:m,role:w="menuitem",tabIndex:A,className:I,...N}=r,M=L.useContext(jl),k=L.useMemo(()=>({dense:d||M.dense||!1,disableGutters:E}),[M.dense,d,E]),V=L.useRef(null);vo(()=>{o&&V.current&&V.current.focus()},[o]);const K={...r,dense:k.dense,divider:x,disableGutters:E},Z=O9(r),H=oi(V,n);let W;return r.disabled||(W=A!==void 0?A:-1),U.jsx(jl.Provider,{value:k,children:U.jsx(D9,{ref:H,role:w,tabIndex:W,component:l,focusVisibleClassName:xt(Z.focusVisible,m),className:xt(Z.root,I),...N,ownerState:K,classes:Z})})});function P9(t){return un("MuiNativeSelect",t)}const yx=Zt("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),k9=t=>{const{classes:e,variant:n,disabled:r,multiple:o,open:l,error:d}=t,x={select:["select",n,r&&"disabled",o&&"multiple",d&&"error"],icon:["icon",`icon${Ge(n)}`,l&&"iconOpen",r&&"disabled"]};return fn(x,P9,e)},nI=et("select",{name:"MuiNativeSelect"})(({theme:t})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${yx.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(t.vars||t).palette.background.paper},variants:[{props:({ownerState:e})=>e.variant!=="filled"&&e.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(t.vars||t).shape.borderRadius,"&:focus":{borderRadius:(t.vars||t).shape.borderRadius},"&&&":{paddingRight:32}}}]})),B9=et(nI,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:so,overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.select,e[n.variant],n.error&&e.error,{[`&.${yx.multiple}`]:e.multiple}]}})({}),rI=et("svg",{name:"MuiNativeSelect"})(({theme:t})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(t.vars||t).palette.action.active,[`&.${yx.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:({ownerState:e})=>e.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),U9=et(rI,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${Ge(n.variant)}`],n.open&&e.iconOpen]}})({}),F9=L.forwardRef(function(e,n){const{className:r,disabled:o,error:l,IconComponent:d,inputRef:x,variant:E="standard",...m}=e,w={...e,disabled:o,variant:E,error:l},A=k9(w);return U.jsxs(L.Fragment,{children:[U.jsx(B9,{ownerState:w,className:xt(A.select,r),disabled:o,ref:x||n,...m}),e.multiple?null:U.jsx(U9,{as:d,ownerState:w,className:A.icon})]})});var hS;const V9=et("fieldset",{name:"MuiNotchedOutlined",shouldForwardProp:so})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),z9=et("legend",{name:"MuiNotchedOutlined",shouldForwardProp:so})(cn(({theme:t})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:e})=>!e.withLabel,style:{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})}},{props:({ownerState:e})=>e.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:e})=>e.withLabel&&e.notched,style:{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})}}]})));function j9(t){const{children:e,classes:n,className:r,label:o,notched:l,...d}=t,x=o!=null&&o!=="",E={...t,notched:l,withLabel:x};return U.jsx(V9,{"aria-hidden":!0,className:r,ownerState:E,...d,children:U.jsx(z9,{ownerState:E,children:x?U.jsx("span",{children:o}):hS||(hS=U.jsx("span",{className:"notranslate","aria-hidden":!0,children:""}))})})}const H9=t=>{const{classes:e}=t,r=fn({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},OP,e);return{...e,...r}},G9=et(F1,{shouldForwardProp:t=>so(t)||t==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:B1})(cn(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${Bo.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${Bo.notchedOutline}`]:{borderColor:t.vars?t.alpha(t.vars.palette.common.onBackground,.23):e}},[`&.${Bo.focused} .${Bo.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(t.palette).filter(Vr()).map(([n])=>({props:{color:n},style:{[`&.${Bo.focused} .${Bo.notchedOutline}`]:{borderColor:(t.vars||t).palette[n].main}}})),{props:{},style:{[`&.${Bo.error} .${Bo.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${Bo.disabled} .${Bo.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}}},{props:({ownerState:n})=>n.startAdornment,style:{paddingLeft:14}},{props:({ownerState:n})=>n.endAdornment,style:{paddingRight:14}},{props:({ownerState:n})=>n.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:n,size:r})=>n.multiline&&r==="small",style:{padding:"8.5px 14px"}}]}})),$9=et(j9,{name:"MuiOutlinedInput",slot:"NotchedOutline"})(cn(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?t.alpha(t.vars.palette.common.onBackground,.23):e}})),q9=et(V1,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:U1})(cn(({theme:t})=>({padding:"16.5px 14px",...!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:e})=>e.multiline,style:{padding:0}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}}]}))),xx=L.forwardRef(function(e,n){const r=dn({props:e,name:"MuiOutlinedInput"}),{components:o={},fullWidth:l=!1,inputComponent:d="input",label:x,multiline:E=!1,notched:m,slots:w={},slotProps:A={},type:I="text",...N}=r,M=H9(r),k=Jc(),V=_f({props:r,muiFormControl:k,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),K={...r,color:V.color||"primary",disabled:V.disabled,error:V.error,focused:V.focused,formControl:k,fullWidth:l,hiddenLabel:V.hiddenLabel,multiline:E,size:V.size,type:I},Z=w.root??o.Root??G9,H=w.input??o.Input??q9,[W,te]=Jn("notchedOutline",{elementType:$9,className:M.notchedOutline,shouldForwardComponentProp:!0,ownerState:K,externalForwardedProps:{slots:w,slotProps:A},additionalProps:{label:x!=null&&x!==""&&V.required?U.jsxs(L.Fragment,{children:[x,"","*"]}):x}});return U.jsx(px,{slots:{root:Z,input:H},slotProps:A,renderSuffix:se=>U.jsx(W,{...te,notched:typeof m<"u"?m:!!(se.startAdornment||se.filled||se.focused)}),fullWidth:l,inputComponent:d,multiline:E,ref:n,type:I,...N,classes:{...M,notchedOutline:null}})});xx.muiName="Input";const W9={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function iI(t){return un("MuiSelect",t)}const Cd=Zt("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var pS;const Y9=et(nI,{name:"MuiSelect",slot:"Select",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`&.${Cd.select}`]:e.select},{[`&.${Cd.select}`]:e[n.variant]},{[`&.${Cd.error}`]:e.error},{[`&.${Cd.multiple}`]:e.multiple}]}})({[`&.${Cd.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),X9=et(rI,{name:"MuiSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${Ge(n.variant)}`],n.open&&e.iconOpen]}})({}),K9=et("input",{shouldForwardProp:t=>P1(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput"})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function gS(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}function Q9(t){return t==null||typeof t=="string"&&!t.trim()}const Z9=t=>{const{classes:e,variant:n,disabled:r,multiple:o,open:l,error:d}=t,x={select:["select",n,r&&"disabled",o&&"multiple",d&&"error"],icon:["icon",`icon${Ge(n)}`,l&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return fn(x,iI,e)},J9=L.forwardRef(function(e,n){const{"aria-describedby":r,"aria-label":o,autoFocus:l,autoWidth:d,children:x,className:E,defaultOpen:m,defaultValue:w,disabled:A,displayEmpty:I,error:N=!1,IconComponent:M,inputRef:k,labelId:V,MenuProps:K={},multiple:Z,name:H,onBlur:W,onChange:te,onClose:se,onFocus:z,onOpen:j,open:F,readOnly:J,renderValue:Y,required:O,SelectDisplayProps:q={},tabIndex:ue,type:re,value:ie,variant:he="standard",...Ne}=e,[Te,We]=qy({controlled:ie,default:w,name:"Select"}),[ae,ge]=qy({controlled:F,default:m,name:"Select"}),me=L.useRef(null),Re=L.useRef(null),[ze,we]=L.useState(null),{current:Ke}=L.useRef(F!=null),[tt,nt]=L.useState(),st=oi(n,k),dt=L.useCallback(Xe=>{Re.current=Xe,Xe&&we(Xe)},[]),St=ze?.parentNode;L.useImperativeHandle(st,()=>({focus:()=>{Re.current.focus()},node:me.current,value:Te}),[Te]),L.useEffect(()=>{m&&ae&&ze&&!Ke&&(nt(d?null:St.clientWidth),Re.current.focus())},[ze,d]),L.useEffect(()=>{l&&Re.current.focus()},[l]),L.useEffect(()=>{if(!V)return;const Xe=Zi(Re.current).getElementById(V);if(Xe){const Je=()=>{getSelection().isCollapsed&&Re.current.focus()};return Xe.addEventListener("click",Je),()=>{Xe.removeEventListener("click",Je)}}},[V]);const rt=(Xe,Je)=>{Xe?j&&j(Je):se&&se(Je),Ke||(nt(d?null:St.clientWidth),ge(Xe))},ht=Xe=>{Xe.button===0&&(Xe.preventDefault(),Re.current.focus(),rt(!0,Xe))},Mt=Xe=>{rt(!1,Xe)},wn=L.Children.toArray(x),vt=Xe=>{const Je=wn.find(Pt=>Pt.props.value===Xe.target.value);Je!==void 0&&(We(Je.props.value),te&&te(Xe,Je))},mt=Xe=>Je=>{let Pt;if(Je.currentTarget.hasAttribute("tabindex")){if(Z){Pt=Array.isArray(Te)?Te.slice():[];const Lr=Te.indexOf(Xe.props.value);Lr===-1?Pt.push(Xe.props.value):Pt.splice(Lr,1)}else Pt=Xe.props.value;if(Xe.props.onClick&&Xe.props.onClick(Je),Te!==Pt&&(We(Pt),te)){const Lr=Je.nativeEvent||Je,zi=new Lr.constructor(Lr.type,Lr);Object.defineProperty(zi,"target",{writable:!0,value:{value:Pt,name:H}}),te(zi,Xe)}Z||rt(!1,Je)}},Qe=Xe=>{J||[" ","ArrowUp","ArrowDown","Enter"].includes(Xe.key)&&(Xe.preventDefault(),rt(!0,Xe))},Ot=ze!==null&&ae,je=Xe=>{!Ot&&W&&(Object.defineProperty(Xe,"target",{writable:!0,value:{value:Te,name:H}}),W(Xe))};delete Ne["aria-invalid"];let lt,rr;const It=[];let Ye=!1;(X0({value:Te})||I)&&(Y?lt=Y(Te):Ye=!0);const Ve=wn.map(Xe=>{if(!L.isValidElement(Xe))return null;let Je;if(Z){if(!Array.isArray(Te))throw new Error(Ya(2));Je=Te.some(Pt=>gS(Pt,Xe.props.value)),Je&&Ye&&It.push(Xe.props.children)}else Je=gS(Te,Xe.props.value),Je&&Ye&&(rr=Xe.props.children);return L.cloneElement(Xe,{"aria-selected":Je?"true":"false",onClick:mt(Xe),onKeyUp:Pt=>{Pt.key===" "&&Pt.preventDefault(),Xe.props.onKeyUp&&Xe.props.onKeyUp(Pt)},role:"option",selected:Je,value:void 0,"data-value":Xe.props.value})});Ye&&(Z?It.length===0?lt=null:lt=It.reduce((Xe,Je,Pt)=>(Xe.push(Je),Pt<It.length-1&&Xe.push(", "),Xe),[]):lt=rr);let it=tt;!d&&Ke&&ze&&(it=St.clientWidth);let ct;typeof ue<"u"?ct=ue:ct=A?null:0;const ot=q.id||(H?`mui-component-select-${H}`:void 0),bt={...e,variant:he,value:Te,open:Ot,error:N},Dt=Z9(bt),er={...K.PaperProps,...typeof K.slotProps?.paper=="function"?K.slotProps.paper(bt):K.slotProps?.paper},wt={...K.MenuListProps,...typeof K.slotProps?.list=="function"?K.slotProps.list(bt):K.slotProps?.list},ke=_h();return U.jsxs(L.Fragment,{children:[U.jsx(Y9,{as:"div",ref:dt,tabIndex:ct,role:"combobox","aria-controls":Ot?ke:void 0,"aria-disabled":A?"true":void 0,"aria-expanded":Ot?"true":"false","aria-haspopup":"listbox","aria-label":o,"aria-labelledby":[V,ot].filter(Boolean).join(" ")||void 0,"aria-describedby":r,"aria-required":O?"true":void 0,"aria-invalid":N?"true":void 0,onKeyDown:Qe,onMouseDown:A||J?null:ht,onBlur:je,onFocus:z,...q,ownerState:bt,className:xt(q.className,Dt.select,E),id:ot,children:Q9(lt)?pS||(pS=U.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):lt}),U.jsx(K9,{"aria-invalid":N,value:Array.isArray(Te)?Te.join(","):Te,name:H,ref:me,"aria-hidden":!0,onChange:vt,tabIndex:-1,disabled:A,className:Dt.nativeInput,autoFocus:l,required:O,...Ne,ownerState:bt}),U.jsx(X9,{as:M,className:Dt.icon,ownerState:bt}),U.jsx(tI,{id:`menu-${H||""}`,anchorEl:St,open:Ot,onClose:Mt,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...K,slotProps:{...K.slotProps,list:{"aria-labelledby":V,role:"listbox","aria-multiselectable":Z?"true":void 0,disableListWrap:!0,id:ke,...wt},paper:{...er,style:{minWidth:it,...er!=null?er.style:null}}},children:Ve})]})}),e7=t=>{const{classes:e}=t,r=fn({root:["root"]},iI,e);return{...e,...r}},Ex={name:"MuiSelect",slot:"Root",shouldForwardProp:t=>so(t)&&t!=="variant"},t7=et(mx,Ex)(""),n7=et(xx,Ex)(""),r7=et(gx,Ex)(""),sI=L.forwardRef(function(e,n){const r=dn({name:"MuiSelect",props:e}),{autoWidth:o=!1,children:l,classes:d={},className:x,defaultOpen:E=!1,displayEmpty:m=!1,IconComponent:w=LP,id:A,input:I,inputProps:N,label:M,labelId:k,MenuProps:V,multiple:K=!1,native:Z=!1,onClose:H,onOpen:W,open:te,renderValue:se,SelectDisplayProps:z,variant:j="outlined",...F}=r,J=Z?F9:J9,Y=Jc(),O=_f({props:r,muiFormControl:Y,states:["variant","error"]}),q=O.variant||j,ue={...r,variant:q,classes:d},re=e7(ue),{root:ie,...he}=re,Ne=I||{standard:U.jsx(t7,{ownerState:ue}),outlined:U.jsx(n7,{label:M,ownerState:ue}),filled:U.jsx(r7,{ownerState:ue})}[q],Te=oi(n,Ih(Ne));return U.jsx(L.Fragment,{children:L.cloneElement(Ne,{inputComponent:J,inputProps:{children:l,error:O.error,IconComponent:w,variant:q,type:void 0,multiple:K,...Z?{id:A}:{autoWidth:o,defaultOpen:E,displayEmpty:m,labelId:k,MenuProps:V,onClose:H,onOpen:W,open:te,renderValue:se,SelectDisplayProps:{id:A,...z}},...N,classes:N?Fi(he,N.classes):he,...I?I.props.inputProps:{}},...(K&&Z||m)&&q==="outlined"?{notched:!0}:{},ref:Te,className:xt(Ne.props.className,x,re.root),...!I&&{variant:q},...F})})});sI.muiName="Select";function i7(t,e,n=(r,o)=>r===o){return t.length===e.length&&t.every((r,o)=>n(r,e[o]))}const s7=2;function zu(t,e,n,r,o){return n===1?Math.min(t+e,o):Math.max(t-e,r)}function oI(t,e){return t-e}function mS(t,e){const{index:n}=t.reduce((r,o,l)=>{const d=Math.abs(e-o);return r===null||d<r.distance||d===r.distance?{distance:d,index:l}:r},null)??{};return n}function i0(t,e){if(e.current!==void 0&&t.changedTouches){const n=t;for(let r=0;r<n.changedTouches.length;r+=1){const o=n.changedTouches[r];if(o.identifier===e.current)return{x:o.clientX,y:o.clientY}}return!1}return{x:t.clientX,y:t.clientY}}function K0(t,e,n){return(t-e)*100/(n-e)}function o7(t,e,n){return(n-e)*t+e}function a7(t){if(Math.abs(t)<1){const n=t.toExponential().split("e-"),r=n[0].split(".")[1];return(r?r.length:0)+parseInt(n[1],10)}const e=t.toString().split(".")[1];return e?e.length:0}function l7(t,e,n){const r=Math.round((t-n)/e)*e+n;return Number(r.toFixed(a7(e)))}function yS({values:t,newValue:e,index:n}){const r=t.slice();return r[n]=e,r.sort(oI)}function s0({sliderRef:t,activeIndex:e,setActive:n}){const r=Zi(t.current);(!t.current?.contains(r.activeElement)||Number(r?.activeElement?.getAttribute("data-index"))!==e)&&t.current?.querySelector(`[type="range"][data-index="${e}"]`).focus(),n&&n(e)}function o0(t,e){return typeof t=="number"&&typeof e=="number"?t===e:typeof t=="object"&&typeof e=="object"?i7(t,e):!1}const c7={horizontal:{offset:t=>({left:`${t}%`}),leap:t=>({width:`${t}%`})},"horizontal-reverse":{offset:t=>({right:`${t}%`}),leap:t=>({width:`${t}%`})},vertical:{offset:t=>({bottom:`${t}%`}),leap:t=>({height:`${t}%`})}},u7=t=>t;let a0;function xS(){return a0===void 0&&(typeof CSS<"u"&&typeof CSS.supports=="function"?a0=CSS.supports("touch-action","none"):a0=!0),a0}function f7(t){const{"aria-labelledby":e,defaultValue:n,disabled:r=!1,disableSwap:o=!1,isRtl:l=!1,marks:d=!1,max:x=100,min:E=0,name:m,onChange:w,onChangeCommitted:A,orientation:I="horizontal",rootRef:N,scale:M=u7,step:k=1,shiftStep:V=10,tabIndex:K,value:Z}=t,H=L.useRef(void 0),[W,te]=L.useState(-1),[se,z]=L.useState(-1),[j,F]=L.useState(!1),J=L.useRef(0),Y=L.useRef(null),[O,q]=qy({controlled:Z,default:n??E,name:"Slider"}),ue=w&&((Ye,Ve,it)=>{const ct=Ye.nativeEvent||Ye,ot=new ct.constructor(ct.type,ct);Object.defineProperty(ot,"target",{writable:!0,value:{value:Ve,name:m}}),Y.current=Ve,w(ot,Ve,it)}),re=Array.isArray(O);let ie=re?O.slice().sort(oI):[O];ie=ie.map(Ye=>Ye==null?E:Hu(Ye,E,x));const he=d===!0&&k!==null?[...Array(Math.floor((x-E)/k)+1)].map((Ye,Ve)=>({value:E+k*Ve})):d||[],Ne=he.map(Ye=>Ye.value),[Te,We]=L.useState(-1),ae=L.useRef(null),ge=oi(N,ae),me=Ye=>Ve=>{const it=Number(Ve.currentTarget.getAttribute("data-index"));uf(Ve.target)&&We(it),z(it),Ye?.onFocus?.(Ve)},Re=Ye=>Ve=>{uf(Ve.target)||We(-1),z(-1),Ye?.onBlur?.(Ve)},ze=(Ye,Ve)=>{const it=Number(Ye.currentTarget.getAttribute("data-index")),ct=ie[it],ot=Ne.indexOf(ct);let bt=Ve;if(he&&k==null){const Dt=Ne[Ne.length-1];bt>=Dt?bt=Dt:bt<=Ne[0]?bt=Ne[0]:bt=bt<ct?Ne[ot-1]:Ne[ot+1]}if(bt=Hu(bt,E,x),re){o&&(bt=Hu(bt,ie[it-1]||-1/0,ie[it+1]||1/0));const Dt=bt;bt=yS({values:ie,newValue:bt,index:it});let er=it;o||(er=bt.indexOf(Dt)),s0({sliderRef:ae,activeIndex:er})}q(bt),We(it),ue&&!o0(bt,O)&&ue(Ye,bt,it),A&&A(Ye,Y.current??bt)},we=Ye=>Ve=>{if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","PageUp","PageDown","Home","End"].includes(Ve.key)){Ve.preventDefault();const it=Number(Ve.currentTarget.getAttribute("data-index")),ct=ie[it];let ot=null;if(k!=null){const bt=Ve.shiftKey?V:k;switch(Ve.key){case"ArrowUp":ot=zu(ct,bt,1,E,x);break;case"ArrowRight":ot=zu(ct,bt,l?-1:1,E,x);break;case"ArrowDown":ot=zu(ct,bt,-1,E,x);break;case"ArrowLeft":ot=zu(ct,bt,l?1:-1,E,x);break;case"PageUp":ot=zu(ct,V,1,E,x);break;case"PageDown":ot=zu(ct,V,-1,E,x);break;case"Home":ot=E;break;case"End":ot=x;break}}else if(he){const bt=Ne[Ne.length-1],Dt=Ne.indexOf(ct),er=[l?"ArrowRight":"ArrowLeft","ArrowDown","PageDown","Home"],wt=[l?"ArrowLeft":"ArrowRight","ArrowUp","PageUp","End"];er.includes(Ve.key)?Dt===0?ot=Ne[0]:ot=Ne[Dt-1]:wt.includes(Ve.key)&&(Dt===Ne.length-1?ot=bt:ot=Ne[Dt+1])}ot!=null&&ze(Ve,ot)}Ye?.onKeyDown?.(Ve)};vo(()=>{r&&ae.current.contains(document.activeElement)&&document.activeElement?.blur()},[r]),r&&W!==-1&&te(-1),r&&Te!==-1&&We(-1);const Ke=Ye=>Ve=>{Ye.onChange?.(Ve),ze(Ve,Ve.target.valueAsNumber)},tt=L.useRef(void 0);let nt=I;l&&I==="horizontal"&&(nt+="-reverse");const st=({finger:Ye,move:Ve=!1})=>{const{current:it}=ae,{width:ct,height:ot,bottom:bt,left:Dt}=it.getBoundingClientRect();let er;nt.startsWith("vertical")?er=(bt-Ye.y)/ot:er=(Ye.x-Dt)/ct,nt.includes("-reverse")&&(er=1-er);let wt;if(wt=o7(er,E,x),k)wt=l7(wt,k,E);else{const Xe=mS(Ne,wt);wt=Ne[Xe]}wt=Hu(wt,E,x);let ke=0;if(re){Ve?ke=tt.current:ke=mS(ie,wt),o&&(wt=Hu(wt,ie[ke-1]||-1/0,ie[ke+1]||1/0));const Xe=wt;wt=yS({values:ie,newValue:wt,index:ke}),o&&Ve||(ke=wt.indexOf(Xe),tt.current=ke)}return{newValue:wt,activeIndex:ke}},dt=qo(Ye=>{const Ve=i0(Ye,H);if(!Ve)return;if(J.current+=1,Ye.type==="mousemove"&&Ye.buttons===0){St(Ye);return}const{newValue:it,activeIndex:ct}=st({finger:Ve,move:!0});s0({sliderRef:ae,activeIndex:ct,setActive:te}),q(it),!j&&J.current>s7&&F(!0),ue&&!o0(it,O)&&ue(Ye,it,ct)}),St=qo(Ye=>{const Ve=i0(Ye,H);if(F(!1),!Ve)return;const{newValue:it}=st({finger:Ve,move:!0});te(-1),Ye.type==="touchend"&&z(-1),A&&A(Ye,Y.current??it),H.current=void 0,ht()}),rt=qo(Ye=>{if(r)return;xS()||Ye.preventDefault();const Ve=Ye.changedTouches[0];Ve!=null&&(H.current=Ve.identifier);const it=i0(Ye,H);if(it!==!1){const{newValue:ot,activeIndex:bt}=st({finger:it});s0({sliderRef:ae,activeIndex:bt,setActive:te}),q(ot),ue&&!o0(ot,O)&&ue(Ye,ot,bt)}J.current=0;const ct=Zi(ae.current);ct.addEventListener("touchmove",dt,{passive:!0}),ct.addEventListener("touchend",St,{passive:!0})}),ht=L.useCallback(()=>{const Ye=Zi(ae.current);Ye.removeEventListener("mousemove",dt),Ye.removeEventListener("mouseup",St),Ye.removeEventListener("touchmove",dt),Ye.removeEventListener("touchend",St)},[St,dt]);L.useEffect(()=>{const{current:Ye}=ae;return Ye.addEventListener("touchstart",rt,{passive:xS()}),()=>{Ye.removeEventListener("touchstart",rt),ht()}},[ht,rt]),L.useEffect(()=>{r&&ht()},[r,ht]);const Mt=Ye=>Ve=>{if(Ye.onMouseDown?.(Ve),r||Ve.defaultPrevented||Ve.button!==0)return;Ve.preventDefault();const it=i0(Ve,H);if(it!==!1){const{newValue:ot,activeIndex:bt}=st({finger:it});s0({sliderRef:ae,activeIndex:bt,setActive:te}),q(ot),ue&&!o0(ot,O)&&ue(Ve,ot,bt)}J.current=0;const ct=Zi(ae.current);ct.addEventListener("mousemove",dt,{passive:!0}),ct.addEventListener("mouseup",St)},wn=K0(re?ie[0]:E,E,x),vt=K0(ie[ie.length-1],E,x)-wn,mt=(Ye={})=>{const Ve=Vd(Ye),it={onMouseDown:Mt(Ve||{})},ct={...Ve,...it};return{...Ye,ref:ge,...ct}},Qe=Ye=>Ve=>{Ye.onMouseOver?.(Ve);const it=Number(Ve.currentTarget.getAttribute("data-index"));z(it)},Ot=Ye=>Ve=>{Ye.onMouseLeave?.(Ve),z(-1)},je=(Ye={})=>{const Ve=Vd(Ye),it={onMouseOver:Qe(Ve||{}),onMouseLeave:Ot(Ve||{})};return{...Ye,...Ve,...it}},lt=Ye=>({pointerEvents:W!==-1&&W!==Ye?"none":void 0});let rr;return I==="vertical"&&(rr=l?"vertical-rl":"vertical-lr"),{active:W,axis:nt,axisProps:c7,dragging:j,focusedThumbIndex:Te,getHiddenInputProps:(Ye={})=>{const Ve=Vd(Ye),it={onChange:Ke(Ve||{}),onFocus:me(Ve||{}),onBlur:Re(Ve||{}),onKeyDown:we(Ve||{})},ct={...Ve,...it};return{tabIndex:K,"aria-labelledby":e,"aria-orientation":I,"aria-valuemax":M(x),"aria-valuemin":M(E),name:m,type:"range",min:t.min,max:t.max,step:t.step===null&&t.marks?"any":t.step??void 0,disabled:r,...Ye,...ct,style:{...W9,direction:l?"rtl":"ltr",width:"100%",height:"100%",writingMode:rr}}},getRootProps:mt,getThumbProps:je,marks:he,open:se,range:re,rootRef:ge,trackLeap:vt,trackOffset:wn,values:ie,getThumbStyle:lt}}const d7=t=>!t||!Wo(t);function h7(t){return un("MuiSlider",t)}const no=Zt("MuiSlider",["root","active","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","disabled","dragging","focusVisible","mark","markActive","marked","markLabel","markLabelActive","rail","sizeSmall","thumb","thumbColorPrimary","thumbColorSecondary","thumbColorError","thumbColorSuccess","thumbColorInfo","thumbColorWarning","track","trackInverted","trackFalse","thumbSizeSmall","valueLabel","valueLabelOpen","valueLabelCircle","valueLabelLabel","vertical"]),p7=t=>{const{open:e}=t;return{offset:xt(e&&no.valueLabelOpen),circle:no.valueLabelCircle,label:no.valueLabelLabel}};function g7(t){const{children:e,className:n,value:r}=t,o=p7(t);return e?L.cloneElement(e,{className:e.props.className},U.jsxs(L.Fragment,{children:[e.props.children,U.jsx("span",{className:xt(o.offset,n),"aria-hidden":!0,children:U.jsx("span",{className:o.circle,children:U.jsx("span",{className:o.label,children:r})})})]})):null}function ES(t){return t}const m7=et("span",{name:"MuiSlider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`color${Ge(n.color)}`],n.size!=="medium"&&e[`size${Ge(n.size)}`],n.marked&&e.marked,n.orientation==="vertical"&&e.vertical,n.track==="inverted"&&e.trackInverted,n.track===!1&&e.trackFalse]}})(cn(({theme:t})=>({borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",WebkitTapHighlightColor:"transparent","@media print":{colorAdjust:"exact"},[`&.${no.disabled}`]:{pointerEvents:"none",cursor:"default",color:(t.vars||t).palette.grey[400]},[`&.${no.dragging}`]:{[`& .${no.thumb}, & .${no.track}`]:{transition:"none"}},variants:[...Object.entries(t.palette).filter(Vr()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}})),{props:{orientation:"horizontal"},style:{height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}}},{props:{orientation:"horizontal",size:"small"},style:{height:2}},{props:{orientation:"horizontal",marked:!0},style:{marginBottom:20}},{props:{orientation:"vertical"},style:{height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}}},{props:{orientation:"vertical",size:"small"},style:{width:2}},{props:{orientation:"vertical",marked:!0},style:{marginRight:44}}]}))),y7=et("span",{name:"MuiSlider",slot:"Rail"})({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38,variants:[{props:{orientation:"horizontal"},style:{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:"inverted"},style:{opacity:1}}]}),x7=et("span",{name:"MuiSlider",slot:"Track"})(cn(({theme:t})=>({display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:t.transitions.create(["left","width","bottom","height"],{duration:t.transitions.duration.shortest}),variants:[{props:{size:"small"},style:{border:"none"}},{props:{orientation:"horizontal"},style:{height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:!1},style:{display:"none"}},...Object.entries(t.palette).filter(Vr()).map(([e])=>({props:{color:e,track:"inverted"},style:{...t.vars?{backgroundColor:t.vars.palette.Slider[`${e}Track`],borderColor:t.vars.palette.Slider[`${e}Track`]}:{backgroundColor:t.lighten(t.palette[e].main,.62),borderColor:t.lighten(t.palette[e].main,.62),...t.applyStyles("dark",{backgroundColor:t.darken(t.palette[e].main,.5)}),...t.applyStyles("dark",{borderColor:t.darken(t.palette[e].main,.5)})}}}))]}))),E7=et("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.thumb,e[`thumbColor${Ge(n.color)}`],n.size!=="medium"&&e[`thumbSize${Ge(n.size)}`]]}})(cn(({theme:t})=>({position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:t.transitions.create(["box-shadow","left","bottom"],{duration:t.transitions.duration.shortest}),"&::before":{position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:(t.vars||t).shadows[2]},"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},[`&.${no.disabled}`]:{"&:hover":{boxShadow:"none"}},variants:[{props:{size:"small"},style:{width:12,height:12,"&::before":{boxShadow:"none"}}},{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-50%, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 50%)"}},...Object.entries(t.palette).filter(Vr()).map(([e])=>({props:{color:e},style:{[`&:hover, &.${no.focusVisible}`]:{boxShadow:`0px 0px 0px 8px ${t.alpha((t.vars||t).palette[e].main,.16)}`,"@media (hover: none)":{boxShadow:"none"}},[`&.${no.active}`]:{boxShadow:`0px 0px 0px 14px ${t.alpha((t.vars||t).palette[e].main,.16)}`}}}))]}))),v7=et(g7,{name:"MuiSlider",slot:"ValueLabel"})(cn(({theme:t})=>({zIndex:1,whiteSpace:"nowrap",...t.typography.body2,fontWeight:500,transition:t.transitions.create(["transform"],{duration:t.transitions.duration.shortest}),position:"absolute",backgroundColor:(t.vars||t).palette.grey[600],borderRadius:2,color:(t.vars||t).palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem",variants:[{props:{orientation:"horizontal"},style:{transform:"translateY(-100%) scale(0)",top:"-10px",transformOrigin:"bottom center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",bottom:0,left:"50%"},[`&.${no.valueLabelOpen}`]:{transform:"translateY(-100%) scale(1)"}}},{props:{orientation:"vertical"},style:{transform:"translateY(-50%) scale(0)",right:"30px",top:"50%",transformOrigin:"right center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, -50%) rotate(45deg)",backgroundColor:"inherit",right:-8,top:"50%"},[`&.${no.valueLabelOpen}`]:{transform:"translateY(-50%) scale(1)"}}},{props:{size:"small"},style:{fontSize:t.typography.pxToRem(12),padding:"0.25rem 0.5rem"}},{props:{orientation:"vertical",size:"small"},style:{right:"20px"}}]}))),b7=et("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:t=>P1(t)&&t!=="markActive",overridesResolver:(t,e)=>{const{markActive:n}=t;return[e.mark,n&&e.markActive]}})(cn(({theme:t})=>({position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor",variants:[{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-1px, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 1px)"}},{props:{markActive:!0},style:{backgroundColor:(t.vars||t).palette.background.paper,opacity:.8}}]}))),w7=et("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:t=>P1(t)&&t!=="markLabelActive"})(cn(({theme:t})=>({...t.typography.body2,color:(t.vars||t).palette.text.secondary,position:"absolute",whiteSpace:"nowrap",variants:[{props:{orientation:"horizontal"},style:{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}}},{props:{orientation:"vertical"},style:{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}}},{props:{markLabelActive:!0},style:{color:(t.vars||t).palette.text.primary}}]}))),C7=t=>{const{disabled:e,dragging:n,marked:r,orientation:o,track:l,classes:d,color:x,size:E}=t,m={root:["root",e&&"disabled",n&&"dragging",r&&"marked",o==="vertical"&&"vertical",l==="inverted"&&"trackInverted",l===!1&&"trackFalse",x&&`color${Ge(x)}`,E&&`size${Ge(E)}`],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",e&&"disabled",E&&`thumbSize${Ge(E)}`,x&&`thumbColor${Ge(x)}`],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]};return fn(m,h7,d)},S7=({children:t})=>t,vS=L.forwardRef(function(e,n){const r=dn({props:e,name:"MuiSlider"}),o=AT(),{"aria-label":l,"aria-valuetext":d,"aria-labelledby":x,component:E="span",components:m={},componentsProps:w={},color:A="primary",classes:I,className:N,disableSwap:M=!1,disabled:k=!1,getAriaLabel:V,getAriaValueText:K,marks:Z=!1,max:H=100,min:W=0,name:te,onChange:se,onChangeCommitted:z,orientation:j="horizontal",shiftStep:F=10,size:J="medium",step:Y=1,scale:O=ES,slotProps:q,slots:ue,tabIndex:re,track:ie="normal",value:he,valueLabelDisplay:Ne="off",valueLabelFormat:Te=ES,...We}=r,ae={...r,isRtl:o,max:H,min:W,classes:I,disabled:k,disableSwap:M,orientation:j,marks:Z,color:A,size:J,step:Y,shiftStep:F,scale:O,track:ie,valueLabelDisplay:Ne,valueLabelFormat:Te},{axisProps:ge,getRootProps:me,getHiddenInputProps:Re,getThumbProps:ze,open:we,active:Ke,axis:tt,focusedThumbIndex:nt,range:st,dragging:dt,marks:St,values:rt,trackOffset:ht,trackLeap:Mt,getThumbStyle:wn}=f7({...ae,rootRef:n});ae.marked=St.length>0&&St.some(kt=>kt.label),ae.dragging=dt,ae.focusedThumbIndex=nt;const vt=C7(ae),mt=ue?.root??m.Root??m7,Qe=ue?.rail??m.Rail??y7,Ot=ue?.track??m.Track??x7,je=ue?.thumb??m.Thumb??E7,lt=ue?.valueLabel??m.ValueLabel??v7,rr=ue?.mark??m.Mark??b7,It=ue?.markLabel??m.MarkLabel??w7,Ye=ue?.input??m.Input??"input",Ve=q?.root??w.root,it=q?.rail??w.rail,ct=q?.track??w.track,ot=q?.thumb??w.thumb,bt=q?.valueLabel??w.valueLabel,Dt=q?.mark??w.mark,er=q?.markLabel??w.markLabel,wt=q?.input??w.input,ke=Ba({elementType:mt,getSlotProps:me,externalSlotProps:Ve,externalForwardedProps:We,additionalProps:{...d7(mt)&&{as:E}},ownerState:{...ae,...Ve?.ownerState},className:[vt.root,N]}),Xe=Ba({elementType:Qe,externalSlotProps:it,ownerState:ae,className:vt.rail}),Je=Ba({elementType:Ot,externalSlotProps:ct,additionalProps:{style:{...ge[tt].offset(ht),...ge[tt].leap(Mt)}},ownerState:{...ae,...ct?.ownerState},className:vt.track}),Pt=Ba({elementType:je,getSlotProps:ze,externalSlotProps:ot,ownerState:{...ae,...ot?.ownerState},className:vt.thumb}),Lr=Ba({elementType:lt,externalSlotProps:bt,ownerState:{...ae,...bt?.ownerState},className:vt.valueLabel}),zi=Ba({elementType:rr,externalSlotProps:Dt,ownerState:ae,className:vt.mark}),ai=Ba({elementType:It,externalSlotProps:er,ownerState:ae,className:vt.markLabel}),Wt=Ba({elementType:Ye,getSlotProps:Re,externalSlotProps:wt,ownerState:ae});return U.jsxs(mt,{...ke,children:[U.jsx(Qe,{...Xe}),U.jsx(Ot,{...Je}),St.filter(kt=>kt.value>=W&&kt.value<=H).map((kt,Nn)=>{const li=K0(kt.value,W,H),$n=ge[tt].offset(li);let ci;return ie===!1?ci=rt.includes(kt.value):ci=ie==="normal"&&(st?kt.value>=rt[0]&&kt.value<=rt[rt.length-1]:kt.value<=rt[0])||ie==="inverted"&&(st?kt.value<=rt[0]||kt.value>=rt[rt.length-1]:kt.value>=rt[0]),U.jsxs(L.Fragment,{children:[U.jsx(rr,{"data-index":Nn,...zi,...!Wo(rr)&&{markActive:ci},style:{...$n,...zi.style},className:xt(zi.className,ci&&vt.markActive)}),kt.label!=null?U.jsx(It,{"aria-hidden":!0,"data-index":Nn,...ai,...!Wo(It)&&{markLabelActive:ci},style:{...$n,...ai.style},className:xt(vt.markLabel,ai.className,ci&&vt.markLabelActive),children:kt.label}):null]},Nn)}),rt.map((kt,Nn)=>{const li=K0(kt,W,H),$n=ge[tt].offset(li),ci=Ne==="off"?S7:lt;return U.jsx(ci,{...!Wo(ci)&&{valueLabelFormat:Te,valueLabelDisplay:Ne,value:typeof Te=="function"?Te(O(kt),Nn):Te,index:Nn,open:we===Nn||Ke===Nn||Ne==="on",disabled:k},...Lr,children:U.jsx(je,{"data-index":Nn,...Pt,className:xt(vt.thumb,Pt.className,Ke===Nn&&vt.active,nt===Nn&&vt.focusVisible),style:{...$n,...wn(Nn),...Pt.style},children:U.jsx(Ye,{"data-index":Nn,"aria-label":V?V(Nn):l,"aria-valuenow":O(kt),"aria-labelledby":x,"aria-valuetext":K?K(O(kt),Nn):d,value:rt[Nn],...Wt})})},Nn)})]})});function A7(t){return un("MuiToolbar",t)}Zt("MuiToolbar",["root","gutters","regular","dense"]);const _7=t=>{const{classes:e,disableGutters:n,variant:r}=t;return fn({root:["root",!n&&"gutters",r]},A7,e)},T7=et("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableGutters&&e.gutters,e[n.variant]]}})(cn(({theme:t})=>({position:"relative",display:"flex",alignItems:"center",variants:[{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}}},{props:{variant:"dense"},style:{minHeight:48}},{props:{variant:"regular"},style:t.mixins.toolbar}]}))),aI=L.forwardRef(function(e,n){const r=dn({props:e,name:"MuiToolbar"}),{className:o,component:l="div",disableGutters:d=!1,variant:x="regular",...E}=r,m={...r,component:l,disableGutters:d,variant:x},w=_7(m);return U.jsx(T7,{as:l,className:xt(w.root,o),ref:n,ownerState:m,...E})});function I7(t){return un("MuiTextField",t)}Zt("MuiTextField",["root"]);const R7={standard:mx,filled:gx,outlined:xx},N7=t=>{const{classes:e}=t;return fn({root:["root"]},I7,e)},M7=et(Ik,{name:"MuiTextField",slot:"Root"})({}),fs=L.forwardRef(function(e,n){const r=dn({props:e,name:"MuiTextField"}),{autoComplete:o,autoFocus:l=!1,children:d,className:x,color:E="primary",defaultValue:m,disabled:w=!1,error:A=!1,FormHelperTextProps:I,fullWidth:N=!1,helperText:M,id:k,InputLabelProps:V,inputProps:K,InputProps:Z,inputRef:H,label:W,maxRows:te,minRows:se,multiline:z=!1,name:j,onBlur:F,onChange:J,onFocus:Y,placeholder:O,required:q=!1,rows:ue,select:re=!1,SelectProps:ie,slots:he={},slotProps:Ne={},type:Te,value:We,variant:ae="outlined",...ge}=r,me={...r,autoFocus:l,color:E,disabled:w,error:A,fullWidth:N,multiline:z,required:q,select:re,variant:ae},Re=N7(me),ze=_h(k),we=M&&ze?`${ze}-helper-text`:void 0,Ke=W&&ze?`${ze}-label`:void 0,tt=R7[ae],nt={slots:he,slotProps:{input:Z,inputLabel:V,htmlInput:K,formHelperText:I,select:ie,...Ne}},st={},dt=nt.slotProps.inputLabel;ae==="outlined"&&(dt&&typeof dt.shrink<"u"&&(st.notched=dt.shrink),st.label=W),re&&((!ie||!ie.native)&&(st.id=void 0),st["aria-describedby"]=void 0);const[St,rt]=Jn("root",{elementType:M7,shouldForwardComponentProp:!0,externalForwardedProps:{...nt,...ge},ownerState:me,className:xt(Re.root,x),ref:n,additionalProps:{disabled:w,error:A,fullWidth:N,required:q,color:E,variant:ae}}),[ht,Mt]=Jn("input",{elementType:tt,externalForwardedProps:nt,additionalProps:st,ownerState:me}),[wn,vt]=Jn("inputLabel",{elementType:Xk,externalForwardedProps:nt,ownerState:me}),[mt,Qe]=Jn("htmlInput",{elementType:"input",externalForwardedProps:nt,ownerState:me}),[Ot,je]=Jn("formHelperText",{elementType:Ok,externalForwardedProps:nt,ownerState:me}),[lt,rr]=Jn("select",{elementType:sI,externalForwardedProps:nt,ownerState:me}),It=U.jsx(ht,{"aria-describedby":we,autoComplete:o,autoFocus:l,defaultValue:m,fullWidth:N,multiline:z,name:j,rows:ue,maxRows:te,minRows:se,type:Te,value:We,id:ze,inputRef:H,onBlur:F,onChange:J,onFocus:Y,placeholder:O,inputProps:Qe,slots:{input:he.htmlInput?mt:void 0},...Mt});return U.jsxs(St,{...rt,children:[W!=null&&W!==""&&U.jsx(wn,{htmlFor:ze,id:Ke,...vt,children:W}),re?U.jsx(lt,{"aria-describedby":we,id:ze,labelId:Ke,value:We,input:It,...rr,children:d}):It,M&&U.jsx(Ot,{id:we,...je,children:M})]})}),O7=Or(U.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6m0 14c-2.03 0-4.43-.82-6.14-2.88C7.55 15.8 9.68 15 12 15s4.45.8 6.14 2.12C16.43 19.18 14.03 20 12 20"})),lI=Or(U.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"})),D7=Or(U.jsx("path",{d:"M4 9h4v11H4zm12 4h4v7h-4zm-6-9h4v16h-4z"})),L7=Or(U.jsx("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"})),P7=Or(U.jsx("path",{d:"M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2m0 14H4v-6h16zm0-10H4V6h16z"})),k7=Or(U.jsx("path",{d:"M5 20h14v-2H5zM19 9h-4V3H9v6H5l7 7z"})),B7=Or(U.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"})),U7=Or(U.jsx("path",{d:"M10.09 15.59 11.5 17l5-5-5-5-1.41 1.41L12.67 11H3v2h9.67zM19 3H5c-1.11 0-2 .9-2 2v4h2V5h14v14H5v-4H3v4c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2"})),cI=Or(U.jsx("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"})),F7=Or(U.jsx("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7m0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5"})),Rh=Or(U.jsx("path",{d:"M15 21h-2v-2h2zm-2-7h-2v5h2zm8-2h-2v4h2zm-2-2h-2v2h2zM7 12H5v2h2zm-2-2H3v2h2zm7-5h2V3h-2zm-7.5-.5v3h3v-3zM9 9H3V3h6zm-4.5 7.5v3h3v-3zM9 21H3v-6h6zm7.5-16.5v3h3v-3zM21 9h-6V3h6zm-2 10v-3h-4v2h2v3h4v-2zm-2-7h-4v2h4zm-4-2H7v2h2v2h2v-2h2zm1-1V7h-2V5h-2v4zM6.75 5.25h-1.5v1.5h1.5zm0 12h-1.5v1.5h1.5zm12-12h-1.5v1.5h1.5z"})),V7=Or(U.jsx("path",{d:"M9.5 6.5v3h-3v-3zM11 5H5v6h6zm-1.5 9.5v3h-3v-3zM11 13H5v6h6zm6.5-6.5v3h-3v-3zM19 5h-6v6h6zm-6 8h1.5v1.5H13zm1.5 1.5H16V16h-1.5zM16 13h1.5v1.5H16zm-3 3h1.5v1.5H13zm1.5 1.5H16V19h-1.5zM16 16h1.5v1.5H16zm1.5-1.5H19V16h-1.5zm0 3H19V19h-1.5zM22 7h-2V4h-3V2h5zm0 15v-5h-2v3h-3v2zM2 22h5v-2H4v-3H2zM2 2v5h2V4h3V2z"})),uI=Or(U.jsx("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4z"})),fI=Or(U.jsx("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"})),dI=Or(U.jsx("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7M2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2m4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3z"})),z7=()=>{};var bS={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let o=t.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},j7=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const o=t[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const l=t[n++];e[r++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=t[n++],d=t[n++],x=t[n++],E=((o&7)<<18|(l&63)<<12|(d&63)<<6|x&63)-65536;e[r++]=String.fromCharCode(55296+(E>>10)),e[r++]=String.fromCharCode(56320+(E&1023))}else{const l=t[n++],d=t[n++];e[r++]=String.fromCharCode((o&15)<<12|(l&63)<<6|d&63)}}return e.join("")},pI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<t.length;o+=3){const l=t[o],d=o+1<t.length,x=d?t[o+1]:0,E=o+2<t.length,m=E?t[o+2]:0,w=l>>2,A=(l&3)<<4|x>>4;let I=(x&15)<<2|m>>6,N=m&63;E||(N=64,d||(I=64)),r.push(n[w],n[A],n[I],n[N])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(hI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):j7(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<t.length;){const l=n[t.charAt(o++)],x=o<t.length?n[t.charAt(o)]:0;++o;const m=o<t.length?n[t.charAt(o)]:64;++o;const A=o<t.length?n[t.charAt(o)]:64;if(++o,l==null||x==null||m==null||A==null)throw new H7;const I=l<<2|x>>4;if(r.push(I),m!==64){const N=x<<4&240|m>>2;if(r.push(N),A!==64){const M=m<<6&192|A;r.push(M)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class H7 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const G7=function(t){const e=hI(t);return pI.encodeByteArray(e,!0)},Q0=function(t){return G7(t).replace(/\./g,"")},gI=function(t){try{return pI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $7(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q7=()=>$7().__FIREBASE_DEFAULTS__,W7=()=>{if(typeof process>"u"||typeof bS>"u")return;const t=bS.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Y7=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&gI(t[1]);return e&&JSON.parse(e)},z1=()=>{try{return z7()||q7()||W7()||Y7()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},mI=t=>z1()?.emulatorHosts?.[t],yI=t=>{const e=mI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},xI=()=>z1()?.config,EI=t=>z1()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X7{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ic(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function vx(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",o=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Q0(JSON.stringify(n)),Q0(JSON.stringify(d)),""].join(".")}const Hd={};function K7(){const t={prod:[],emulator:[]};for(const e of Object.keys(Hd))Hd[e]?t.emulator.push(e):t.prod.push(e);return t}function Q7(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let wS=!1;function bx(t,e){if(typeof window>"u"||typeof document>"u"||!ic(window.location.host)||Hd[t]===e||Hd[t]||wS)return;Hd[t]=e;function n(I){return`__firebase__banner__${I}`}const r="__firebase__banner",l=K7().prod.length>0;function d(){const I=document.getElementById(r);I&&I.remove()}function x(I){I.style.display="flex",I.style.background="#7faaf0",I.style.position="fixed",I.style.bottom="5px",I.style.left="5px",I.style.padding=".5em",I.style.borderRadius="5px",I.style.alignItems="center"}function E(I,N){I.setAttribute("width","24"),I.setAttribute("id",N),I.setAttribute("height","24"),I.setAttribute("viewBox","0 0 24 24"),I.setAttribute("fill","none"),I.style.marginLeft="-6px"}function m(){const I=document.createElement("span");return I.style.cursor="pointer",I.style.marginLeft="16px",I.style.fontSize="24px",I.innerHTML=" &times;",I.onclick=()=>{wS=!0,d()},I}function w(I,N){I.setAttribute("id",N),I.innerText="Learn more",I.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",I.setAttribute("target","__blank"),I.style.paddingLeft="5px",I.style.textDecoration="underline"}function A(){const I=Q7(r),N=n("text"),M=document.getElementById(N)||document.createElement("span"),k=n("learnmore"),V=document.getElementById(k)||document.createElement("a"),K=n("preprendIcon"),Z=document.getElementById(K)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(I.created){const H=I.element;x(H),w(V,k);const W=m();E(Z,K),H.append(Z,M,V,W),document.body.appendChild(H)}l?(M.innerText="Preview backend disconnected.",Z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,M.innerText="Preview backend running in this workspace."),M.setAttribute("id",N)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vi(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Z7(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Vi())}function J7(){const t=z1()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function eB(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function tB(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function nB(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function rB(){const t=Vi();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function iB(){return!J7()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function sB(){try{return typeof indexedDB=="object"}catch{return!1}}function oB(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aB="FirebaseError";class oa extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=aB,Object.setPrototypeOf(this,oa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Nh.prototype.create)}}class Nh{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,l=this.errors[e],d=l?lB(l,r):"Error",x=`${this.serviceName}: ${d} (${o}).`;return new oa(o,x,r)}}function lB(t,e){return t.replace(cB,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const cB=/\{\$([^}]+)}/g;function uB(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Hc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const l=t[o],d=e[o];if(CS(l)&&CS(d)){if(!Hc(l,d))return!1}else if(l!==d)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function CS(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mh(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Md(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,l]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(l)}}),e}function Od(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function fB(t,e){const n=new dB(t,e);return n.subscribe.bind(n)}class dB{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let o;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");hB(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:r},o.next===void 0&&(o.next=xy),o.error===void 0&&(o.error=xy),o.complete===void 0&&(o.complete=xy);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function hB(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function xy(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nr(t){return t&&t._delegate?t._delegate:t}class Ql{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kc="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pB{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new X7;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(mB(e))try{this.getOrInitializeService({instanceIdentifier:kc})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:o});r.resolve(l)}catch{}}}}clearInstance(e=kc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=kc){return this.instances.has(e)}getOptions(e=kc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[l,d]of this.instancesDeferred.entries()){const x=this.normalizeInstanceIdentifier(l);r===x&&d.resolve(o)}return o}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const l=this.instances.get(r);return l&&e(l,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:gB(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=kc){return this.component?this.component.multipleInstances?e:kc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function gB(t){return t===kc?void 0:t}function mB(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yB{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new pB(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yn;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(yn||(yn={}));const xB={debug:yn.DEBUG,verbose:yn.VERBOSE,info:yn.INFO,warn:yn.WARN,error:yn.ERROR,silent:yn.SILENT},EB=yn.INFO,vB={[yn.DEBUG]:"log",[yn.VERBOSE]:"log",[yn.INFO]:"info",[yn.WARN]:"warn",[yn.ERROR]:"error"},bB=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),o=vB[e];if(o)console[o](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class wx{constructor(e){this.name=e,this._logLevel=EB,this._logHandler=bB,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in yn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?xB[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,yn.DEBUG,...e),this._logHandler(this,yn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,yn.VERBOSE,...e),this._logHandler(this,yn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,yn.INFO,...e),this._logHandler(this,yn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,yn.WARN,...e),this._logHandler(this,yn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,yn.ERROR,...e),this._logHandler(this,yn.ERROR,...e)}}const wB=(t,e)=>e.some(n=>t instanceof n);let SS,AS;function CB(){return SS||(SS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function SB(){return AS||(AS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const bI=new WeakMap,t2=new WeakMap,wI=new WeakMap,Ey=new WeakMap,Cx=new WeakMap;function AB(t){const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("success",l),t.removeEventListener("error",d)},l=()=>{n(Hl(t.result)),o()},d=()=>{r(t.error),o()};t.addEventListener("success",l),t.addEventListener("error",d)});return e.then(n=>{n instanceof IDBCursor&&bI.set(n,t)}).catch(()=>{}),Cx.set(e,t),e}function _B(t){if(t2.has(t))return;const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",d),t.removeEventListener("abort",d)},l=()=>{n(),o()},d=()=>{r(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",l),t.addEventListener("error",d),t.addEventListener("abort",d)});t2.set(t,e)}let n2={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return t2.get(t);if(e==="objectStoreNames")return t.objectStoreNames||wI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Hl(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function TB(t){n2=t(n2)}function IB(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(vy(this),e,...n);return wI.set(r,e.sort?e.sort():[e]),Hl(r)}:SB().includes(t)?function(...e){return t.apply(vy(this),e),Hl(bI.get(this))}:function(...e){return Hl(t.apply(vy(this),e))}}function RB(t){return typeof t=="function"?IB(t):(t instanceof IDBTransaction&&_B(t),wB(t,CB())?new Proxy(t,n2):t)}function Hl(t){if(t instanceof IDBRequest)return AB(t);if(Ey.has(t))return Ey.get(t);const e=RB(t);return e!==t&&(Ey.set(t,e),Cx.set(e,t)),e}const vy=t=>Cx.get(t);function NB(t,e,{blocked:n,upgrade:r,blocking:o,terminated:l}={}){const d=indexedDB.open(t,e),x=Hl(d);return r&&d.addEventListener("upgradeneeded",E=>{r(Hl(d.result),E.oldVersion,E.newVersion,Hl(d.transaction),E)}),n&&d.addEventListener("blocked",E=>n(E.oldVersion,E.newVersion,E)),x.then(E=>{l&&E.addEventListener("close",()=>l()),o&&E.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),x}const MB=["get","getKey","getAll","getAllKeys","count"],OB=["put","add","delete","clear"],by=new Map;function _S(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(by.get(e))return by.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=OB.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||MB.includes(n)))return;const l=async function(d,...x){const E=this.transaction(d,o?"readwrite":"readonly");let m=E.store;return r&&(m=m.index(x.shift())),(await Promise.all([m[n](...x),o&&E.done]))[0]};return by.set(e,l),l}TB(t=>({...t,get:(e,n,r)=>_S(e,n)||t.get(e,n,r),has:(e,n)=>!!_S(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DB{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(LB(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function LB(t){return t.getComponent()?.type==="VERSION"}const r2="@firebase/app",TS="0.14.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Za=new wx("@firebase/app"),PB="@firebase/app-compat",kB="@firebase/analytics-compat",BB="@firebase/analytics",UB="@firebase/app-check-compat",FB="@firebase/app-check",VB="@firebase/auth",zB="@firebase/auth-compat",jB="@firebase/database",HB="@firebase/data-connect",GB="@firebase/database-compat",$B="@firebase/functions",qB="@firebase/functions-compat",WB="@firebase/installations",YB="@firebase/installations-compat",XB="@firebase/messaging",KB="@firebase/messaging-compat",QB="@firebase/performance",ZB="@firebase/performance-compat",JB="@firebase/remote-config",eU="@firebase/remote-config-compat",tU="@firebase/storage",nU="@firebase/storage-compat",rU="@firebase/firestore",iU="@firebase/ai",sU="@firebase/firestore-compat",oU="firebase",aU="12.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i2="[DEFAULT]",lU={[r2]:"fire-core",[PB]:"fire-core-compat",[BB]:"fire-analytics",[kB]:"fire-analytics-compat",[FB]:"fire-app-check",[UB]:"fire-app-check-compat",[VB]:"fire-auth",[zB]:"fire-auth-compat",[jB]:"fire-rtdb",[HB]:"fire-data-connect",[GB]:"fire-rtdb-compat",[$B]:"fire-fn",[qB]:"fire-fn-compat",[WB]:"fire-iid",[YB]:"fire-iid-compat",[XB]:"fire-fcm",[KB]:"fire-fcm-compat",[QB]:"fire-perf",[ZB]:"fire-perf-compat",[JB]:"fire-rc",[eU]:"fire-rc-compat",[tU]:"fire-gcs",[nU]:"fire-gcs-compat",[rU]:"fire-fst",[sU]:"fire-fst-compat",[iU]:"fire-vertex","fire-js":"fire-js",[oU]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z0=new Map,cU=new Map,s2=new Map;function IS(t,e){try{t.container.addComponent(e)}catch(n){Za.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Gc(t){const e=t.name;if(s2.has(e))return Za.debug(`There were multiple attempts to register component ${e}.`),!1;s2.set(e,t);for(const n of Z0.values())IS(n,t);for(const n of cU.values())IS(n,t);return!0}function j1(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ms(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uU={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Gl=new Nh("app","Firebase",uU);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fU{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ql("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Gl.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tu=aU;function CI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:i2,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw Gl.create("bad-app-name",{appName:String(o)});if(n||(n=xI()),!n)throw Gl.create("no-options");const l=Z0.get(o);if(l){if(Hc(n,l.options)&&Hc(r,l.config))return l;throw Gl.create("duplicate-app",{appName:o})}const d=new yB(o);for(const E of s2.values())d.addComponent(E);const x=new fU(n,r,d);return Z0.set(o,x),x}function Sx(t=i2){const e=Z0.get(t);if(!e&&t===i2&&xI())return CI();if(!e)throw Gl.create("no-app",{appName:t});return e}function Yo(t,e,n){let r=lU[t]??t;n&&(r+=`-${n}`);const o=r.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const d=[`Unable to register library "${r}" with version "${e}":`];o&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&l&&d.push("and"),l&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Za.warn(d.join(" "));return}Gc(new Ql(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dU="firebase-heartbeat-database",hU=1,ih="firebase-heartbeat-store";let wy=null;function SI(){return wy||(wy=NB(dU,hU,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ih)}catch(n){console.warn(n)}}}}).catch(t=>{throw Gl.create("idb-open",{originalErrorMessage:t.message})})),wy}async function pU(t){try{const n=(await SI()).transaction(ih),r=await n.objectStore(ih).get(AI(t));return await n.done,r}catch(e){if(e instanceof oa)Za.warn(e.message);else{const n=Gl.create("idb-get",{originalErrorMessage:e?.message});Za.warn(n.message)}}}async function RS(t,e){try{const r=(await SI()).transaction(ih,"readwrite");await r.objectStore(ih).put(e,AI(t)),await r.done}catch(n){if(n instanceof oa)Za.warn(n.message);else{const r=Gl.create("idb-set",{originalErrorMessage:n?.message});Za.warn(r.message)}}}function AI(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gU=1024,mU=30;class yU{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new EU(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=NS();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>mU){const o=vU(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Za.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=NS(),{heartbeatsToSend:n,unsentEntries:r}=xU(this._heartbeatsCache.heartbeats),o=Q0(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Za.warn(e),""}}}function NS(){return new Date().toISOString().substring(0,10)}function xU(t,e=gU){const n=[];let r=t.slice();for(const o of t){const l=n.find(d=>d.agent===o.agent);if(l){if(l.dates.push(o.date),MS(n)>e){l.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),MS(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class EU{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return sB()?oB().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await pU(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return RS(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return RS(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function MS(t){return Q0(JSON.stringify({version:2,heartbeats:t})).length}function vU(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bU(t){Gc(new Ql("platform-logger",e=>new DB(e),"PRIVATE")),Gc(new Ql("heartbeat",e=>new yU(e),"PRIVATE")),Yo(r2,TS,t),Yo(r2,TS,"esm2020"),Yo("fire-js","")}bU("");var wU="firebase",CU="12.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Yo(wU,CU,"app");function _I(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const SU=_I,TI=new Nh("auth","Firebase",_I());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J0=new wx("@firebase/auth");function AU(t,...e){J0.logLevel<=yn.WARN&&J0.warn(`Auth (${tu}): ${t}`,...e)}function T0(t,...e){J0.logLevel<=yn.ERROR&&J0.error(`Auth (${tu}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wo(t,...e){throw Ax(t,...e)}function Xo(t,...e){return Ax(t,...e)}function II(t,e,n){const r={...SU(),[e]:n};return new Nh("auth","Firebase",r).create(e,{appName:t.name})}function $a(t){return II(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ax(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return TI.create(t,...e)}function Bt(t,e,...n){if(!t)throw Ax(e,...n)}function za(t){const e="INTERNAL ASSERTION FAILED: "+t;throw T0(e),new Error(e)}function Ja(t,e){t||za(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o2(){return typeof self<"u"&&self.location?.href||""}function _U(){return OS()==="http:"||OS()==="https:"}function OS(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_U()||tB()||"connection"in navigator)?navigator.onLine:!0}function IU(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ja(n>e,"Short delay should be less than long delay!"),this.isMobile=Z7()||nB()}get(){return TU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _x(t,e){Ja(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;za("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;za("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;za("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NU=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],MU=new Oh(3e4,6e4);function sc(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function nl(t,e,n,r,o={}){return NI(t,o,async()=>{let l={},d={};r&&(e==="GET"?d=r:l={body:JSON.stringify(r)});const x=Mh({key:t.config.apiKey,...d}).slice(1),E=await t._getAdditionalHeaders();E["Content-Type"]="application/json",t.languageCode&&(E["X-Firebase-Locale"]=t.languageCode);const m={method:e,headers:E,...l};return eB()||(m.referrerPolicy="no-referrer"),t.emulatorConfig&&ic(t.emulatorConfig.host)&&(m.credentials="include"),RI.fetch()(await MI(t,t.config.apiHost,n,x),m)})}async function NI(t,e,n){t._canInitEmulator=!1;const r={...RU,...e};try{const o=new DU(t),l=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const d=await l.json();if("needConfirmation"in d)throw l0(t,"account-exists-with-different-credential",d);if(l.ok&&!("errorMessage"in d))return d;{const x=l.ok?d.errorMessage:d.error.message,[E,m]=x.split(" : ");if(E==="FEDERATED_USER_ID_ALREADY_LINKED")throw l0(t,"credential-already-in-use",d);if(E==="EMAIL_EXISTS")throw l0(t,"email-already-in-use",d);if(E==="USER_DISABLED")throw l0(t,"user-disabled",d);const w=r[E]||E.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw II(t,w,m);wo(t,w)}}catch(o){if(o instanceof oa)throw o;wo(t,"network-request-failed",{message:String(o)})}}async function Dh(t,e,n,r,o={}){const l=await nl(t,e,n,r,o);return"mfaPendingCredential"in l&&wo(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function MI(t,e,n,r){const o=`${e}${n}?${r}`,l=t,d=l.config.emulator?_x(t.config,o):`${t.config.apiScheme}://${o}`;return NU.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(d).toString():d}function OU(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class DU{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Xo(this.auth,"network-request-failed")),MU.get())})}}function l0(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=Xo(t,e,r);return o.customData._tokenResponse=n,o}function DS(t){return t!==void 0&&t.enterprise!==void 0}class LU{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return OU(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function PU(t,e){return nl(t,"GET","/v2/recaptchaConfig",sc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kU(t,e){return nl(t,"POST","/v1/accounts:delete",e)}async function e1(t,e){return nl(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function BU(t,e=!1){const n=Nr(t),r=await n.getIdToken(e),o=Tx(r);Bt(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,d=l?.sign_in_provider;return{claims:o,token:r,authTime:Gd(Cy(o.auth_time)),issuedAtTime:Gd(Cy(o.iat)),expirationTime:Gd(Cy(o.exp)),signInProvider:d||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Cy(t){return Number(t)*1e3}function Tx(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return T0("JWT malformed, contained fewer than 3 sections"),null;try{const o=gI(n);return o?JSON.parse(o):(T0("Failed to decode base64 JWT payload"),null)}catch(o){return T0("Caught error parsing JWT payload as JSON",o?.toString()),null}}function LS(t){const e=Tx(t);return Bt(e,"internal-error"),Bt(typeof e.exp<"u","internal-error"),Bt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hf(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof oa&&UU(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function UU({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FU{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Gd(this.lastLoginAt),this.creationTime=Gd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t1(t){const e=t.auth,n=await t.getIdToken(),r=await hf(t,e1(e,{idToken:n}));Bt(r?.users.length,e,"internal-error");const o=r.users[0];t._notifyReloadListener(o);const l=o.providerUserInfo?.length?OI(o.providerUserInfo):[],d=zU(t.providerData,l),x=t.isAnonymous,E=!(t.email&&o.passwordHash)&&!d?.length,m=x?E:!1,w={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new a2(o.createdAt,o.lastLoginAt),isAnonymous:m};Object.assign(t,w)}async function VU(t){const e=Nr(t);await t1(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function zU(t,e){return[...t.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function OI(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jU(t,e){const n=await NI(t,{},async()=>{const r=Mh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=t.config,d=await MI(t,o,"/v1/token",`key=${l}`),x=await t._getAdditionalHeaders();x["Content-Type"]="application/x-www-form-urlencoded";const E={method:"POST",headers:x,body:r};return t.emulatorConfig&&ic(t.emulatorConfig.host)&&(E.credentials="include"),RI.fetch()(d,E)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function HU(t,e){return nl(t,"POST","/v2/accounts:revokeToken",sc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Bt(e.idToken,"internal-error"),Bt(typeof e.idToken<"u","internal-error"),Bt(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):LS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Bt(e.length!==0,"internal-error");const n=LS(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Bt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:o,expiresIn:l}=await jU(e,n);this.updateTokensAndExpiration(r,o,Number(l))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:o,expirationTime:l}=n,d=new nf;return r&&(Bt(typeof r=="string","internal-error",{appName:e}),d.refreshToken=r),o&&(Bt(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),l&&(Bt(typeof l=="number","internal-error",{appName:e}),d.expirationTime=l),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new nf,this.toJSON())}_performRefresh(){return za("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ll(t,e){Bt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class mo{constructor({uid:e,auth:n,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new FU(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new a2(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await hf(this,this.stsTokenManager.getToken(this.auth,e));return Bt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return BU(this,e)}reload(){return VU(this)}_assign(e){this!==e&&(Bt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new mo({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Bt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await t1(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ms(this.auth.app))return Promise.reject($a(this.auth));const e=await this.getIdToken();return await hf(this,kU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,o=n.email??void 0,l=n.phoneNumber??void 0,d=n.photoURL??void 0,x=n.tenantId??void 0,E=n._redirectEventId??void 0,m=n.createdAt??void 0,w=n.lastLoginAt??void 0,{uid:A,emailVerified:I,isAnonymous:N,providerData:M,stsTokenManager:k}=n;Bt(A&&k,e,"internal-error");const V=nf.fromJSON(this.name,k);Bt(typeof A=="string",e,"internal-error"),Ll(r,e.name),Ll(o,e.name),Bt(typeof I=="boolean",e,"internal-error"),Bt(typeof N=="boolean",e,"internal-error"),Ll(l,e.name),Ll(d,e.name),Ll(x,e.name),Ll(E,e.name),Ll(m,e.name),Ll(w,e.name);const K=new mo({uid:A,auth:e,email:o,emailVerified:I,displayName:r,isAnonymous:N,photoURL:d,phoneNumber:l,tenantId:x,stsTokenManager:V,createdAt:m,lastLoginAt:w});return M&&Array.isArray(M)&&(K.providerData=M.map(Z=>({...Z}))),E&&(K._redirectEventId=E),K}static async _fromIdTokenResponse(e,n,r=!1){const o=new nf;o.updateFromServerResponse(n);const l=new mo({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await t1(l),l}static async _fromGetAccountInfoResponse(e,n,r){const o=n.users[0];Bt(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?OI(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!l?.length,x=new nf;x.updateFromIdToken(r);const E=new mo({uid:o.localId,auth:e,stsTokenManager:x,isAnonymous:d}),m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new a2(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!l?.length};return Object.assign(E,m),E}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PS=new Map;function ja(t){Ja(t instanceof Function,"Expected a class definition");let e=PS.get(t);return e?(Ja(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,PS.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}DI.type="NONE";const kS=DI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I0(t,e,n){return`firebase:${t}:${e}:${n}`}class rf{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:o,name:l}=this.auth;this.fullUserKey=I0(this.userKey,o.apiKey,l),this.fullPersistenceKey=I0("persistence",o.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await e1(this.auth,{idToken:e}).catch(()=>{});return n?mo._fromGetAccountInfoResponse(this.auth,n,e):null}return mo._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new rf(ja(kS),e,r);const o=(await Promise.all(n.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let l=o[0]||ja(kS);const d=I0(r,e.config.apiKey,e.name);let x=null;for(const m of n)try{const w=await m._get(d);if(w){let A;if(typeof w=="string"){const I=await e1(e,{idToken:w}).catch(()=>{});if(!I)break;A=await mo._fromGetAccountInfoResponse(e,I,w)}else A=mo._fromJSON(e,w);m!==l&&(x=A),l=m;break}}catch{}const E=o.filter(m=>m._shouldAllowMigration);return!l._shouldAllowMigration||!E.length?new rf(l,e,r):(l=E[0],x&&await l._set(d,x.toJSON()),await Promise.all(n.map(async m=>{if(m!==l)try{await m._remove(d)}catch{}})),new rf(l,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BS(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(BI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(LI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(FI(e))return"Blackberry";if(VI(e))return"Webos";if(PI(e))return"Safari";if((e.includes("chrome/")||kI(e))&&!e.includes("edge/"))return"Chrome";if(UI(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function LI(t=Vi()){return/firefox\//i.test(t)}function PI(t=Vi()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function kI(t=Vi()){return/crios\//i.test(t)}function BI(t=Vi()){return/iemobile/i.test(t)}function UI(t=Vi()){return/android/i.test(t)}function FI(t=Vi()){return/blackberry/i.test(t)}function VI(t=Vi()){return/webos/i.test(t)}function Ix(t=Vi()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function GU(t=Vi()){return Ix(t)&&!!window.navigator?.standalone}function $U(){return rB()&&document.documentMode===10}function zI(t=Vi()){return Ix(t)||UI(t)||VI(t)||FI(t)||/windows phone/i.test(t)||BI(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jI(t,e=[]){let n;switch(t){case"Browser":n=BS(Vi());break;case"Worker":n=`${BS(Vi())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${tu}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qU{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=l=>new Promise((d,x)=>{try{const E=e(l);d(E)}catch(E){x(E)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WU(t,e={}){return nl(t,"GET","/v2/passwordPolicy",sc(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YU=6;class XU{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??YU,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KU{constructor(e,n,r,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new US(this),this.idTokenSubscription=new US(this),this.beforeStateQueue=new qU(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=TI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ja(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await rf.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await e1(this,{idToken:e}),r=await mo._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Ms(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(d,d))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,d=r?._redirectEventId,x=await this.tryRedirectSignIn(e);(!l||l===d)&&x?.user&&(r=x.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(l){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Bt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await t1(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=IU()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ms(this.app))return Promise.reject($a(this));const n=e?Nr(e):null;return n&&Bt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Bt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ms(this.app)?Promise.reject($a(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ms(this.app)?Promise.reject($a(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ja(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await WU(this),n=new XU(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Nh("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await HU(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ja(e)||this._popupRedirectResolver;Bt(n,this,"argument-error"),this.redirectPersistenceManager=await rf.create(this,[ja(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,o){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let d=!1;const x=this._isInitialized?Promise.resolve():this._initializationPromise;if(Bt(x,this,"internal-error"),x.then(()=>{d||l(this.currentUser)}),typeof n=="function"){const E=e.addObserver(n,r,o);return()=>{d=!0,E()}}else{const E=e.addObserver(n);return()=>{d=!0,E()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Bt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=jI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Ms(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&AU(`Error while retrieving App Check token: ${e.error}`),e?.token}}function nu(t){return Nr(t)}class US{constructor(e){this.auth=e,this.observer=null,this.addObserver=fB(n=>this.observer=n)}get next(){return Bt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let H1={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function QU(t){H1=t}function HI(t){return H1.loadJS(t)}function ZU(){return H1.recaptchaEnterpriseScript}function JU(){return H1.gapiScript}function eF(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class tF{constructor(){this.enterprise=new nF}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class nF{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const rF="recaptcha-enterprise",GI="NO_RECAPTCHA";class iF{constructor(e){this.type=rF,this.auth=nu(e)}async verify(e="verify",n=!1){async function r(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(d,x)=>{PU(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(E=>{if(E.recaptchaKey===void 0)x(new Error("recaptcha Enterprise site key undefined"));else{const m=new LU(E);return l.tenantId==null?l._agentRecaptchaConfig=m:l._tenantRecaptchaConfigs[l.tenantId]=m,d(m.siteKey)}}).catch(E=>{x(E)})})}function o(l,d,x){const E=window.grecaptcha;DS(E)?E.enterprise.ready(()=>{E.enterprise.execute(l,{action:e}).then(m=>{d(m)}).catch(()=>{d(GI)})}):x(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new tF().execute("siteKey",{action:"verify"}):new Promise((l,d)=>{r(this.auth).then(x=>{if(!n&&DS(window.grecaptcha))o(x,l,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let E=ZU();E.length!==0&&(E+=x),HI(E).then(()=>{o(x,l,d)}).catch(m=>{d(m)})}}).catch(x=>{d(x)})})}}async function FS(t,e,n,r=!1,o=!1){const l=new iF(t);let d;if(o)d=GI;else try{d=await l.verify(n)}catch{d=await l.verify(n,!0)}const x={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in x){const E=x.phoneEnrollmentInfo.phoneNumber,m=x.phoneEnrollmentInfo.recaptchaToken;Object.assign(x,{phoneEnrollmentInfo:{phoneNumber:E,recaptchaToken:m,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in x){const E=x.phoneSignInInfo.recaptchaToken;Object.assign(x,{phoneSignInInfo:{recaptchaToken:E,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return x}return r?Object.assign(x,{captchaResp:d}):Object.assign(x,{captchaResponse:d}),Object.assign(x,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(x,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),x}async function l2(t,e,n,r,o){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await FS(t,e,n,n==="getOobCode");return r(t,l)}else return r(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await FS(t,e,n,n==="getOobCode");return r(t,d)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sF(t,e){const n=j1(t,"auth");if(n.isInitialized()){const o=n.getImmediate(),l=n.getOptions();if(Hc(l,e??{}))return o;wo(o,"already-initialized")}return n.initialize({options:e})}function oF(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ja);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function aF(t,e,n){const r=nu(t);Bt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,l=$I(e),{host:d,port:x}=lF(e),E=x===null?"":`:${x}`,m={url:`${l}//${d}${E}/`},w=Object.freeze({host:d,port:x,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Bt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Bt(Hc(m,r.config.emulator)&&Hc(w,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=m,r.emulatorConfig=w,r.settings.appVerificationDisabledForTesting=!0,ic(d)?(vx(`${l}//${d}${E}`),bx("Auth",!0)):cF()}function $I(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function lF(t){const e=$I(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const l=o[1];return{host:l,port:VS(r.substr(l.length+1))}}else{const[l,d]=r.split(":");return{host:l,port:VS(d)}}}function VS(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function cF(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return za("not implemented")}_getIdTokenResponse(e){return za("not implemented")}_linkToIdToken(e,n){return za("not implemented")}_getReauthenticationResolver(e){return za("not implemented")}}async function uF(t,e){return nl(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fF(t,e){return Dh(t,"POST","/v1/accounts:signInWithPassword",sc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dF(t,e){return Dh(t,"POST","/v1/accounts:signInWithEmailLink",sc(t,e))}async function hF(t,e){return Dh(t,"POST","/v1/accounts:signInWithEmailLink",sc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh extends Rx{constructor(e,n,r,o=null){super("password",r),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new sh(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new sh(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return l2(e,n,"signInWithPassword",fF);case"emailLink":return dF(e,{email:this._email,oobCode:this._password});default:wo(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return l2(e,r,"signUpPassword",uF);case"emailLink":return hF(e,{idToken:n,email:this._email,oobCode:this._password});default:wo(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sf(t,e){return Dh(t,"POST","/v1/accounts:signInWithIdp",sc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pF="http://localhost";class $c extends Rx{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new $c(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):wo("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...l}=n;if(!r||!o)return null;const d=new $c(r,o);return d.idToken=l.idToken||void 0,d.accessToken=l.accessToken||void 0,d.secret=l.secret,d.nonce=l.nonce,d.pendingToken=l.pendingToken||null,d}_getIdTokenResponse(e){const n=this.buildRequest();return sf(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,sf(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,sf(e,n)}buildRequest(){const e={requestUri:pF,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Mh(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gF(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function mF(t){const e=Md(Od(t)).link,n=e?Md(Od(e)).deep_link_id:null,r=Md(Od(t)).deep_link_id;return(r?Md(Od(r)).link:null)||r||n||e||t}class Nx{constructor(e){const n=Md(Od(e)),r=n.apiKey??null,o=n.oobCode??null,l=gF(n.mode??null);Bt(r&&o&&l,"argument-error"),this.apiKey=r,this.operation=l,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=mF(e);try{return new Nx(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(){this.providerId=Tf.PROVIDER_ID}static credential(e,n){return sh._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Nx.parseLink(n);return Bt(r,"argument-error"),sh._fromEmailAndCode(e,r.code,r.tenantId)}}Tf.PROVIDER_ID="password";Tf.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Tf.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh extends qI{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl extends Lh{constructor(){super("facebook.com")}static credential(e){return $c._fromParams({providerId:kl.PROVIDER_ID,signInMethod:kl.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return kl.credentialFromTaggedObject(e)}static credentialFromError(e){return kl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return kl.credential(e.oauthAccessToken)}catch{return null}}}kl.FACEBOOK_SIGN_IN_METHOD="facebook.com";kl.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua extends Lh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return $c._fromParams({providerId:Ua.PROVIDER_ID,signInMethod:Ua.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ua.credentialFromTaggedObject(e)}static credentialFromError(e){return Ua.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ua.credential(n,r)}catch{return null}}}Ua.GOOGLE_SIGN_IN_METHOD="google.com";Ua.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl extends Lh{constructor(){super("github.com")}static credential(e){return $c._fromParams({providerId:Bl.PROVIDER_ID,signInMethod:Bl.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Bl.credentialFromTaggedObject(e)}static credentialFromError(e){return Bl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Bl.credential(e.oauthAccessToken)}catch{return null}}}Bl.GITHUB_SIGN_IN_METHOD="github.com";Bl.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul extends Lh{constructor(){super("twitter.com")}static credential(e,n){return $c._fromParams({providerId:Ul.PROVIDER_ID,signInMethod:Ul.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ul.credentialFromTaggedObject(e)}static credentialFromError(e){return Ul.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ul.credential(n,r)}catch{return null}}}Ul.TWITTER_SIGN_IN_METHOD="twitter.com";Ul.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yF(t,e){return Dh(t,"POST","/v1/accounts:signUp",sc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,o=!1){const l=await mo._fromIdTokenResponse(e,r,o),d=zS(r);return new qc({user:l,providerId:d,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const o=zS(r);return new qc({user:e,providerId:o,_tokenResponse:r,operationType:n})}}function zS(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1 extends oa{constructor(e,n,r,o){super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,n1.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,o){return new n1(e,n,r,o)}}function WI(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?n1._fromErrorAndOperation(t,l,e,r):l})}async function xF(t,e,n=!1){const r=await hf(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return qc._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EF(t,e,n=!1){const{auth:r}=t;if(Ms(r.app))return Promise.reject($a(r));const o="reauthenticate";try{const l=await hf(t,WI(r,o,e,t),n);Bt(l.idToken,r,"internal-error");const d=Tx(l.idToken);Bt(d,r,"internal-error");const{sub:x}=d;return Bt(t.uid===x,r,"user-mismatch"),qc._forOperation(t,o,l)}catch(l){throw l?.code==="auth/user-not-found"&&wo(r,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YI(t,e,n=!1){if(Ms(t.app))return Promise.reject($a(t));const r="signIn",o=await WI(t,r,e),l=await qc._fromIdTokenResponse(t,r,o);return n||await t._updateCurrentUser(l.user),l}async function vF(t,e){return YI(nu(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XI(t){const e=nu(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function bF(t,e,n){if(Ms(t.app))return Promise.reject($a(t));const r=nu(t),d=await l2(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",yF).catch(E=>{throw E.code==="auth/password-does-not-meet-requirements"&&XI(t),E}),x=await qc._fromIdTokenResponse(r,"signIn",d);return await r._updateCurrentUser(x.user),x}function wF(t,e,n){return Ms(t.app)?Promise.reject($a(t)):vF(Nr(t),Tf.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&XI(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CF(t,e){return nl(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SF(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Nr(t),l={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},d=await hf(r,CF(r.auth,l));r.displayName=d.displayName||null,r.photoURL=d.photoUrl||null;const x=r.providerData.find(({providerId:E})=>E==="password");x&&(x.displayName=r.displayName,x.photoURL=r.photoURL),await r._updateTokensIfNecessary(d)}function AF(t,e,n,r){return Nr(t).onIdTokenChanged(e,n,r)}function _F(t,e,n){return Nr(t).beforeAuthStateChanged(e,n)}function TF(t,e,n,r){return Nr(t).onAuthStateChanged(e,n,r)}const r1="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(r1,"1"),this.storage.removeItem(r1),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IF=1e3,RF=10;class QI extends KI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=zI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&e(n,o,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((d,x,E)=>{this.notifyListeners(d,E)});return}const r=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(r);!n&&this.localCache[r]===d||this.notifyListeners(r,d)},l=this.storage.getItem(r);$U()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,RF):o()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},IF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}QI.type="LOCAL";const NF=QI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI extends KI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}ZI.type="SESSION";const JI=ZI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MF(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const r=new G1(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:o,data:l}=n.data,d=this.handlersMap[o];if(!d?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const x=Array.from(d).map(async m=>m(n.origin,l)),E=await MF(x);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:E})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}G1.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mx(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OF{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,d;return new Promise((x,E)=>{const m=Mx("",20);o.port1.start();const w=setTimeout(()=>{E(new Error("unsupported_event"))},r);d={messageChannel:o,onMessage(A){const I=A;if(I.data.eventId===m)switch(I.data.status){case"ack":clearTimeout(w),l=setTimeout(()=>{E(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),x(I.data.response);break;default:clearTimeout(w),clearTimeout(l),E(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:m,data:n},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ko(){return window}function DF(t){Ko().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e3(){return typeof Ko().WorkerGlobalScope<"u"&&typeof Ko().importScripts=="function"}async function LF(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function PF(){return navigator?.serviceWorker?.controller||null}function kF(){return e3()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t3="firebaseLocalStorageDb",BF=1,i1="firebaseLocalStorage",n3="fbase_key";class Ph{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function $1(t,e){return t.transaction([i1],e?"readwrite":"readonly").objectStore(i1)}function UF(){const t=indexedDB.deleteDatabase(t3);return new Ph(t).toPromise()}function c2(){const t=indexedDB.open(t3,BF);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(i1,{keyPath:n3})}catch(o){n(o)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(i1)?e(r):(r.close(),await UF(),e(await c2()))})})}async function jS(t,e,n){const r=$1(t,!0).put({[n3]:e,value:n});return new Ph(r).toPromise()}async function FF(t,e){const n=$1(t,!1).get(e),r=await new Ph(n).toPromise();return r===void 0?null:r.value}function HS(t,e){const n=$1(t,!0).delete(e);return new Ph(n).toPromise()}const VF=800,zF=3;class r3{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await c2(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>zF)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return e3()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=G1._getInstance(kF()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await LF(),!this.activeServiceWorker)return;this.sender=new OF(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||PF()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await c2();return await jS(e,r1,"1"),await HS(e,r1),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>jS(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>FF(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>HS(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=$1(o,!1).getAll();return new Ph(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),VF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}r3.type="LOCAL";const jF=r3;new Oh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HF(t,e){return e?ja(e):(Bt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox extends Rx{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return sf(e,this._buildIdpRequest())}_linkToIdToken(e,n){return sf(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return sf(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function GF(t){return YI(t.auth,new Ox(t),t.bypassAuthState)}function $F(t){const{auth:e,user:n}=t;return Bt(n,e,"internal-error"),EF(n,new Ox(t),t.bypassAuthState)}async function qF(t){const{auth:e,user:n}=t;return Bt(n,e,"internal-error"),xF(n,new Ox(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i3{constructor(e,n,r,o,l=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:o,tenantId:l,error:d,type:x}=e;if(d){this.reject(d);return}const E={auth:this.auth,requestUri:n,sessionId:r,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(x)(E))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return GF;case"linkViaPopup":case"linkViaRedirect":return qF;case"reauthViaPopup":case"reauthViaRedirect":return $F;default:wo(this.auth,"internal-error")}}resolve(e){Ja(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ja(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WF=new Oh(2e3,1e4);class Qu extends i3{constructor(e,n,r,o,l){super(e,n,o,l),this.provider=r,this.authWindow=null,this.pollId=null,Qu.currentPopupAction&&Qu.currentPopupAction.cancel(),Qu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Bt(e,this.auth,"internal-error"),e}async onExecution(){Ja(this.filter.length===1,"Popup operations only handle one event");const e=Mx();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Xo(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Xo(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Qu.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Xo(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,WF.get())};e()}}Qu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YF="pendingRedirect",R0=new Map;class XF extends i3{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=R0.get(this.auth._key());if(!e){try{const r=await KF(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}R0.set(this.auth._key(),e)}return this.bypassAuthState||R0.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function KF(t,e){const n=JF(e),r=ZF(t);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function QF(t,e){R0.set(t._key(),e)}function ZF(t){return ja(t._redirectPersistence)}function JF(t){return I0(YF,t.config.apiKey,t.name)}async function eV(t,e,n=!1){if(Ms(t.app))return Promise.reject($a(t));const r=nu(t),o=HF(r,e),d=await new XF(r,o,n).execute();return d&&!n&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,e)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tV=600*1e3;class nV{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!rV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!s3(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Xo(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=tV&&this.cachedEventUids.clear(),this.cachedEventUids.has(GS(e))}saveEventToCache(e){this.cachedEventUids.add(GS(e)),this.lastProcessedEventTime=Date.now()}}function GS(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function s3({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function rV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return s3(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iV(t,e={}){return nl(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,oV=/^https?/;async function aV(t){if(t.config.emulator)return;const{authorizedDomains:e}=await iV(t);for(const n of e)try{if(lV(n))return}catch{}wo(t,"unauthorized-domain")}function lV(t){const e=o2(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const d=new URL(t);return d.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===r}if(!oV.test(n))return!1;if(sV.test(t))return r===t;const o=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cV=new Oh(3e4,6e4);function $S(){const t=Ko().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function uV(t){return new Promise((e,n)=>{function r(){$S(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{$S(),n(Xo(t,"network-request-failed"))},timeout:cV.get()})}if(Ko().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ko().gapi?.load)r();else{const o=eF("iframefcb");return Ko()[o]=()=>{gapi.load?r():n(Xo(t,"network-request-failed"))},HI(`${JU()}?onload=${o}`).catch(l=>n(l))}}).catch(e=>{throw N0=null,e})}let N0=null;function fV(t){return N0=N0||uV(t),N0}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dV=new Oh(5e3,15e3),hV="__/auth/iframe",pV="emulator/auth/iframe",gV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},mV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function yV(t){const e=t.config;Bt(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?_x(e,pV):`https://${t.config.authDomain}/${hV}`,r={apiKey:e.apiKey,appName:t.name,v:tu},o=mV.get(t.config.apiHost);o&&(r.eid=o);const l=t._getFrameworks();return l.length&&(r.fw=l.join(",")),`${n}?${Mh(r).slice(1)}`}async function xV(t){const e=await fV(t),n=Ko().gapi;return Bt(n,t,"internal-error"),e.open({where:document.body,url:yV(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:gV,dontclear:!0},r=>new Promise(async(o,l)=>{await r.restyle({setHideOnLeave:!1});const d=Xo(t,"network-request-failed"),x=Ko().setTimeout(()=>{l(d)},dV.get());function E(){Ko().clearTimeout(x),o(r)}r.ping(E).then(E,()=>{l(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},vV=500,bV=600,wV="_blank",CV="http://localhost";class qS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function SV(t,e,n,r=vV,o=bV){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let x="";const E={...EV,width:r.toString(),height:o.toString(),top:l,left:d},m=Vi().toLowerCase();n&&(x=kI(m)?wV:n),LI(m)&&(e=e||CV,E.scrollbars="yes");const w=Object.entries(E).reduce((I,[N,M])=>`${I}${N}=${M},`,"");if(GU(m)&&x!=="_self")return AV(e||"",x),new qS(null);const A=window.open(e||"",x,w);Bt(A,t,"popup-blocked");try{A.focus()}catch{}return new qS(A)}function AV(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _V="__/auth/handler",TV="emulator/auth/handler",IV=encodeURIComponent("fac");async function WS(t,e,n,r,o,l){Bt(t.config.authDomain,t,"auth-domain-config-required"),Bt(t.config.apiKey,t,"invalid-api-key");const d={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:tu,eventId:o};if(e instanceof qI){e.setDefaultLanguage(t.languageCode),d.providerId=e.providerId||"",uB(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[w,A]of Object.entries({}))d[w]=A}if(e instanceof Lh){const w=e.getScopes().filter(A=>A!=="");w.length>0&&(d.scopes=w.join(","))}t.tenantId&&(d.tid=t.tenantId);const x=d;for(const w of Object.keys(x))x[w]===void 0&&delete x[w];const E=await t._getAppCheckToken(),m=E?`#${IV}=${encodeURIComponent(E)}`:"";return`${RV(t)}?${Mh(x).slice(1)}${m}`}function RV({config:t}){return t.emulator?_x(t,TV):`https://${t.authDomain}/${_V}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sy="webStorageSupport";class NV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=JI,this._completeRedirectFn=eV,this._overrideRedirectResult=QF}async _openPopup(e,n,r,o){Ja(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await WS(e,n,r,o2(),o);return SV(e,l,Mx())}async _openRedirect(e,n,r,o){await this._originValidation(e);const l=await WS(e,n,r,o2(),o);return DF(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:l}=this.eventManagers[n];return o?Promise.resolve(o):(Ja(l,"If manager is not set, promise should be"),l)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await xV(e),r=new nV(e);return n.register("authEvent",o=>(Bt(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Sy,{type:Sy},o=>{const l=o?.[0]?.[Sy];l!==void 0&&n(!!l),wo(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=aV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return zI()||PI()||Ix()}}const MV=NV;var YS="@firebase/auth",XS="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OV{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Bt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DV(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function LV(t){Gc(new Ql("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:d,authDomain:x}=r.options;Bt(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const E={apiKey:d,authDomain:x,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:jI(t)},m=new KU(r,o,l,E);return oF(m,n),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Gc(new Ql("auth-internal",e=>{const n=nu(e.getProvider("auth").getImmediate());return(r=>new OV(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Yo(YS,XS,DV(t)),Yo(YS,XS,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PV=300,kV=EI("authIdTokenMaxAge")||PV;let KS=null;const BV=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>kV)return;const o=n?.token;KS!==o&&(KS=o,await fetch(t,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function UV(t=Sx()){const e=j1(t,"auth");if(e.isInitialized())return e.getImmediate();const n=sF(t,{popupRedirectResolver:MV,persistence:[jF,NF,JI]}),r=EI("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(r,location.origin);if(location.origin===l.origin){const d=BV(l.toString());_F(n,d,()=>d(n.currentUser)),AF(n,x=>d(x))}}const o=mI("auth");return o&&aF(n,`http://${o}`),n}function FV(){return document.getElementsByTagName("head")?.[0]??document}QU({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=o=>{const l=Xo("internal-error");l.customData=o,n(l)},r.type="text/javascript",r.charset="UTF-8",FV().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});LV("Browser");var QS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $l,o3;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(z,j){function F(){}F.prototype=j.prototype,z.F=j.prototype,z.prototype=new F,z.prototype.constructor=z,z.D=function(J,Y,O){for(var q=Array(arguments.length-2),ue=2;ue<arguments.length;ue++)q[ue-2]=arguments[ue];return j.prototype[Y].apply(J,q)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(z,j,F){F||(F=0);const J=Array(16);if(typeof j=="string")for(var Y=0;Y<16;++Y)J[Y]=j.charCodeAt(F++)|j.charCodeAt(F++)<<8|j.charCodeAt(F++)<<16|j.charCodeAt(F++)<<24;else for(Y=0;Y<16;++Y)J[Y]=j[F++]|j[F++]<<8|j[F++]<<16|j[F++]<<24;j=z.g[0],F=z.g[1],Y=z.g[2];let O=z.g[3],q;q=j+(O^F&(Y^O))+J[0]+3614090360&4294967295,j=F+(q<<7&4294967295|q>>>25),q=O+(Y^j&(F^Y))+J[1]+3905402710&4294967295,O=j+(q<<12&4294967295|q>>>20),q=Y+(F^O&(j^F))+J[2]+606105819&4294967295,Y=O+(q<<17&4294967295|q>>>15),q=F+(j^Y&(O^j))+J[3]+3250441966&4294967295,F=Y+(q<<22&4294967295|q>>>10),q=j+(O^F&(Y^O))+J[4]+4118548399&4294967295,j=F+(q<<7&4294967295|q>>>25),q=O+(Y^j&(F^Y))+J[5]+1200080426&4294967295,O=j+(q<<12&4294967295|q>>>20),q=Y+(F^O&(j^F))+J[6]+2821735955&4294967295,Y=O+(q<<17&4294967295|q>>>15),q=F+(j^Y&(O^j))+J[7]+4249261313&4294967295,F=Y+(q<<22&4294967295|q>>>10),q=j+(O^F&(Y^O))+J[8]+1770035416&4294967295,j=F+(q<<7&4294967295|q>>>25),q=O+(Y^j&(F^Y))+J[9]+2336552879&4294967295,O=j+(q<<12&4294967295|q>>>20),q=Y+(F^O&(j^F))+J[10]+4294925233&4294967295,Y=O+(q<<17&4294967295|q>>>15),q=F+(j^Y&(O^j))+J[11]+2304563134&4294967295,F=Y+(q<<22&4294967295|q>>>10),q=j+(O^F&(Y^O))+J[12]+1804603682&4294967295,j=F+(q<<7&4294967295|q>>>25),q=O+(Y^j&(F^Y))+J[13]+4254626195&4294967295,O=j+(q<<12&4294967295|q>>>20),q=Y+(F^O&(j^F))+J[14]+2792965006&4294967295,Y=O+(q<<17&4294967295|q>>>15),q=F+(j^Y&(O^j))+J[15]+1236535329&4294967295,F=Y+(q<<22&4294967295|q>>>10),q=j+(Y^O&(F^Y))+J[1]+4129170786&4294967295,j=F+(q<<5&4294967295|q>>>27),q=O+(F^Y&(j^F))+J[6]+3225465664&4294967295,O=j+(q<<9&4294967295|q>>>23),q=Y+(j^F&(O^j))+J[11]+643717713&4294967295,Y=O+(q<<14&4294967295|q>>>18),q=F+(O^j&(Y^O))+J[0]+3921069994&4294967295,F=Y+(q<<20&4294967295|q>>>12),q=j+(Y^O&(F^Y))+J[5]+3593408605&4294967295,j=F+(q<<5&4294967295|q>>>27),q=O+(F^Y&(j^F))+J[10]+38016083&4294967295,O=j+(q<<9&4294967295|q>>>23),q=Y+(j^F&(O^j))+J[15]+3634488961&4294967295,Y=O+(q<<14&4294967295|q>>>18),q=F+(O^j&(Y^O))+J[4]+3889429448&4294967295,F=Y+(q<<20&4294967295|q>>>12),q=j+(Y^O&(F^Y))+J[9]+568446438&4294967295,j=F+(q<<5&4294967295|q>>>27),q=O+(F^Y&(j^F))+J[14]+3275163606&4294967295,O=j+(q<<9&4294967295|q>>>23),q=Y+(j^F&(O^j))+J[3]+4107603335&4294967295,Y=O+(q<<14&4294967295|q>>>18),q=F+(O^j&(Y^O))+J[8]+1163531501&4294967295,F=Y+(q<<20&4294967295|q>>>12),q=j+(Y^O&(F^Y))+J[13]+2850285829&4294967295,j=F+(q<<5&4294967295|q>>>27),q=O+(F^Y&(j^F))+J[2]+4243563512&4294967295,O=j+(q<<9&4294967295|q>>>23),q=Y+(j^F&(O^j))+J[7]+1735328473&4294967295,Y=O+(q<<14&4294967295|q>>>18),q=F+(O^j&(Y^O))+J[12]+2368359562&4294967295,F=Y+(q<<20&4294967295|q>>>12),q=j+(F^Y^O)+J[5]+4294588738&4294967295,j=F+(q<<4&4294967295|q>>>28),q=O+(j^F^Y)+J[8]+2272392833&4294967295,O=j+(q<<11&4294967295|q>>>21),q=Y+(O^j^F)+J[11]+1839030562&4294967295,Y=O+(q<<16&4294967295|q>>>16),q=F+(Y^O^j)+J[14]+4259657740&4294967295,F=Y+(q<<23&4294967295|q>>>9),q=j+(F^Y^O)+J[1]+2763975236&4294967295,j=F+(q<<4&4294967295|q>>>28),q=O+(j^F^Y)+J[4]+1272893353&4294967295,O=j+(q<<11&4294967295|q>>>21),q=Y+(O^j^F)+J[7]+4139469664&4294967295,Y=O+(q<<16&4294967295|q>>>16),q=F+(Y^O^j)+J[10]+3200236656&4294967295,F=Y+(q<<23&4294967295|q>>>9),q=j+(F^Y^O)+J[13]+681279174&4294967295,j=F+(q<<4&4294967295|q>>>28),q=O+(j^F^Y)+J[0]+3936430074&4294967295,O=j+(q<<11&4294967295|q>>>21),q=Y+(O^j^F)+J[3]+3572445317&4294967295,Y=O+(q<<16&4294967295|q>>>16),q=F+(Y^O^j)+J[6]+76029189&4294967295,F=Y+(q<<23&4294967295|q>>>9),q=j+(F^Y^O)+J[9]+3654602809&4294967295,j=F+(q<<4&4294967295|q>>>28),q=O+(j^F^Y)+J[12]+3873151461&4294967295,O=j+(q<<11&4294967295|q>>>21),q=Y+(O^j^F)+J[15]+530742520&4294967295,Y=O+(q<<16&4294967295|q>>>16),q=F+(Y^O^j)+J[2]+3299628645&4294967295,F=Y+(q<<23&4294967295|q>>>9),q=j+(Y^(F|~O))+J[0]+4096336452&4294967295,j=F+(q<<6&4294967295|q>>>26),q=O+(F^(j|~Y))+J[7]+1126891415&4294967295,O=j+(q<<10&4294967295|q>>>22),q=Y+(j^(O|~F))+J[14]+2878612391&4294967295,Y=O+(q<<15&4294967295|q>>>17),q=F+(O^(Y|~j))+J[5]+4237533241&4294967295,F=Y+(q<<21&4294967295|q>>>11),q=j+(Y^(F|~O))+J[12]+1700485571&4294967295,j=F+(q<<6&4294967295|q>>>26),q=O+(F^(j|~Y))+J[3]+2399980690&4294967295,O=j+(q<<10&4294967295|q>>>22),q=Y+(j^(O|~F))+J[10]+4293915773&4294967295,Y=O+(q<<15&4294967295|q>>>17),q=F+(O^(Y|~j))+J[1]+2240044497&4294967295,F=Y+(q<<21&4294967295|q>>>11),q=j+(Y^(F|~O))+J[8]+1873313359&4294967295,j=F+(q<<6&4294967295|q>>>26),q=O+(F^(j|~Y))+J[15]+4264355552&4294967295,O=j+(q<<10&4294967295|q>>>22),q=Y+(j^(O|~F))+J[6]+2734768916&4294967295,Y=O+(q<<15&4294967295|q>>>17),q=F+(O^(Y|~j))+J[13]+1309151649&4294967295,F=Y+(q<<21&4294967295|q>>>11),q=j+(Y^(F|~O))+J[4]+4149444226&4294967295,j=F+(q<<6&4294967295|q>>>26),q=O+(F^(j|~Y))+J[11]+3174756917&4294967295,O=j+(q<<10&4294967295|q>>>22),q=Y+(j^(O|~F))+J[2]+718787259&4294967295,Y=O+(q<<15&4294967295|q>>>17),q=F+(O^(Y|~j))+J[9]+3951481745&4294967295,z.g[0]=z.g[0]+j&4294967295,z.g[1]=z.g[1]+(Y+(q<<21&4294967295|q>>>11))&4294967295,z.g[2]=z.g[2]+Y&4294967295,z.g[3]=z.g[3]+O&4294967295}r.prototype.v=function(z,j){j===void 0&&(j=z.length);const F=j-this.blockSize,J=this.C;let Y=this.h,O=0;for(;O<j;){if(Y==0)for(;O<=F;)o(this,z,O),O+=this.blockSize;if(typeof z=="string"){for(;O<j;)if(J[Y++]=z.charCodeAt(O++),Y==this.blockSize){o(this,J),Y=0;break}}else for(;O<j;)if(J[Y++]=z[O++],Y==this.blockSize){o(this,J),Y=0;break}}this.h=Y,this.o+=j},r.prototype.A=function(){var z=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);z[0]=128;for(var j=1;j<z.length-8;++j)z[j]=0;j=this.o*8;for(var F=z.length-8;F<z.length;++F)z[F]=j&255,j/=256;for(this.v(z),z=Array(16),j=0,F=0;F<4;++F)for(let J=0;J<32;J+=8)z[j++]=this.g[F]>>>J&255;return z};function l(z,j){var F=x;return Object.prototype.hasOwnProperty.call(F,z)?F[z]:F[z]=j(z)}function d(z,j){this.h=j;const F=[];let J=!0;for(let Y=z.length-1;Y>=0;Y--){const O=z[Y]|0;J&&O==j||(F[Y]=O,J=!1)}this.g=F}var x={};function E(z){return-128<=z&&z<128?l(z,function(j){return new d([j|0],j<0?-1:0)}):new d([z|0],z<0?-1:0)}function m(z){if(isNaN(z)||!isFinite(z))return A;if(z<0)return V(m(-z));const j=[];let F=1;for(let J=0;z>=F;J++)j[J]=z/F|0,F*=4294967296;return new d(j,0)}function w(z,j){if(z.length==0)throw Error("number format error: empty string");if(j=j||10,j<2||36<j)throw Error("radix out of range: "+j);if(z.charAt(0)=="-")return V(w(z.substring(1),j));if(z.indexOf("-")>=0)throw Error('number format error: interior "-" character');const F=m(Math.pow(j,8));let J=A;for(let O=0;O<z.length;O+=8){var Y=Math.min(8,z.length-O);const q=parseInt(z.substring(O,O+Y),j);Y<8?(Y=m(Math.pow(j,Y)),J=J.j(Y).add(m(q))):(J=J.j(F),J=J.add(m(q)))}return J}var A=E(0),I=E(1),N=E(16777216);t=d.prototype,t.m=function(){if(k(this))return-V(this).m();let z=0,j=1;for(let F=0;F<this.g.length;F++){const J=this.i(F);z+=(J>=0?J:4294967296+J)*j,j*=4294967296}return z},t.toString=function(z){if(z=z||10,z<2||36<z)throw Error("radix out of range: "+z);if(M(this))return"0";if(k(this))return"-"+V(this).toString(z);const j=m(Math.pow(z,6));var F=this;let J="";for(;;){const Y=W(F,j).g;F=K(F,Y.j(j));let O=((F.g.length>0?F.g[0]:F.h)>>>0).toString(z);if(F=Y,M(F))return O+J;for(;O.length<6;)O="0"+O;J=O+J}},t.i=function(z){return z<0?0:z<this.g.length?this.g[z]:this.h};function M(z){if(z.h!=0)return!1;for(let j=0;j<z.g.length;j++)if(z.g[j]!=0)return!1;return!0}function k(z){return z.h==-1}t.l=function(z){return z=K(this,z),k(z)?-1:M(z)?0:1};function V(z){const j=z.g.length,F=[];for(let J=0;J<j;J++)F[J]=~z.g[J];return new d(F,~z.h).add(I)}t.abs=function(){return k(this)?V(this):this},t.add=function(z){const j=Math.max(this.g.length,z.g.length),F=[];let J=0;for(let Y=0;Y<=j;Y++){let O=J+(this.i(Y)&65535)+(z.i(Y)&65535),q=(O>>>16)+(this.i(Y)>>>16)+(z.i(Y)>>>16);J=q>>>16,O&=65535,q&=65535,F[Y]=q<<16|O}return new d(F,F[F.length-1]&-2147483648?-1:0)};function K(z,j){return z.add(V(j))}t.j=function(z){if(M(this)||M(z))return A;if(k(this))return k(z)?V(this).j(V(z)):V(V(this).j(z));if(k(z))return V(this.j(V(z)));if(this.l(N)<0&&z.l(N)<0)return m(this.m()*z.m());const j=this.g.length+z.g.length,F=[];for(var J=0;J<2*j;J++)F[J]=0;for(J=0;J<this.g.length;J++)for(let Y=0;Y<z.g.length;Y++){const O=this.i(J)>>>16,q=this.i(J)&65535,ue=z.i(Y)>>>16,re=z.i(Y)&65535;F[2*J+2*Y]+=q*re,Z(F,2*J+2*Y),F[2*J+2*Y+1]+=O*re,Z(F,2*J+2*Y+1),F[2*J+2*Y+1]+=q*ue,Z(F,2*J+2*Y+1),F[2*J+2*Y+2]+=O*ue,Z(F,2*J+2*Y+2)}for(z=0;z<j;z++)F[z]=F[2*z+1]<<16|F[2*z];for(z=j;z<2*j;z++)F[z]=0;return new d(F,0)};function Z(z,j){for(;(z[j]&65535)!=z[j];)z[j+1]+=z[j]>>>16,z[j]&=65535,j++}function H(z,j){this.g=z,this.h=j}function W(z,j){if(M(j))throw Error("division by zero");if(M(z))return new H(A,A);if(k(z))return j=W(V(z),j),new H(V(j.g),V(j.h));if(k(j))return j=W(z,V(j)),new H(V(j.g),j.h);if(z.g.length>30){if(k(z)||k(j))throw Error("slowDivide_ only works with positive integers.");for(var F=I,J=j;J.l(z)<=0;)F=te(F),J=te(J);var Y=se(F,1),O=se(J,1);for(J=se(J,2),F=se(F,2);!M(J);){var q=O.add(J);q.l(z)<=0&&(Y=Y.add(F),O=q),J=se(J,1),F=se(F,1)}return j=K(z,Y.j(j)),new H(Y,j)}for(Y=A;z.l(j)>=0;){for(F=Math.max(1,Math.floor(z.m()/j.m())),J=Math.ceil(Math.log(F)/Math.LN2),J=J<=48?1:Math.pow(2,J-48),O=m(F),q=O.j(j);k(q)||q.l(z)>0;)F-=J,O=m(F),q=O.j(j);M(O)&&(O=I),Y=Y.add(O),z=K(z,q)}return new H(Y,z)}t.B=function(z){return W(this,z).h},t.and=function(z){const j=Math.max(this.g.length,z.g.length),F=[];for(let J=0;J<j;J++)F[J]=this.i(J)&z.i(J);return new d(F,this.h&z.h)},t.or=function(z){const j=Math.max(this.g.length,z.g.length),F=[];for(let J=0;J<j;J++)F[J]=this.i(J)|z.i(J);return new d(F,this.h|z.h)},t.xor=function(z){const j=Math.max(this.g.length,z.g.length),F=[];for(let J=0;J<j;J++)F[J]=this.i(J)^z.i(J);return new d(F,this.h^z.h)};function te(z){const j=z.g.length+1,F=[];for(let J=0;J<j;J++)F[J]=z.i(J)<<1|z.i(J-1)>>>31;return new d(F,z.h)}function se(z,j){const F=j>>5;j%=32;const J=z.g.length-F,Y=[];for(let O=0;O<J;O++)Y[O]=j>0?z.i(O+F)>>>j|z.i(O+F+1)<<32-j:z.i(O+F);return new d(Y,z.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,o3=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=m,d.fromString=w,$l=d}).apply(typeof QS<"u"?QS:typeof self<"u"?self:typeof window<"u"?window:{});var c0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var a3,Dd,l3,M0,u2,c3,u3,f3;(function(){var t,e=Object.defineProperty;function n(v){v=[typeof globalThis=="object"&&globalThis,v,typeof window=="object"&&window,typeof self=="object"&&self,typeof c0=="object"&&c0];for(var R=0;R<v.length;++R){var B=v[R];if(B&&B.Math==Math)return B}throw Error("Cannot find global object")}var r=n(this);function o(v,R){if(R)e:{var B=r;v=v.split(".");for(var ee=0;ee<v.length-1;ee++){var ye=v[ee];if(!(ye in B))break e;B=B[ye]}v=v[v.length-1],ee=B[v],R=R(ee),R!=ee&&R!=null&&e(B,v,{configurable:!0,writable:!0,value:R})}}o("Symbol.dispose",function(v){return v||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(v){return v||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(v){return v||function(R){var B=[],ee;for(ee in R)Object.prototype.hasOwnProperty.call(R,ee)&&B.push([ee,R[ee]]);return B}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},d=this||self;function x(v){var R=typeof v;return R=="object"&&v!=null||R=="function"}function E(v,R,B){return v.call.apply(v.bind,arguments)}function m(v,R,B){return m=E,m.apply(null,arguments)}function w(v,R){var B=Array.prototype.slice.call(arguments,1);return function(){var ee=B.slice();return ee.push.apply(ee,arguments),v.apply(this,ee)}}function A(v,R){function B(){}B.prototype=R.prototype,v.Z=R.prototype,v.prototype=new B,v.prototype.constructor=v,v.Ob=function(ee,ye,_e){for(var qe=Array(arguments.length-2),Ft=2;Ft<arguments.length;Ft++)qe[Ft-2]=arguments[Ft];return R.prototype[ye].apply(ee,qe)}}var I=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?v=>v&&AsyncContext.Snapshot.wrap(v):v=>v;function N(v){const R=v.length;if(R>0){const B=Array(R);for(let ee=0;ee<R;ee++)B[ee]=v[ee];return B}return[]}function M(v,R){for(let ee=1;ee<arguments.length;ee++){const ye=arguments[ee];var B=typeof ye;if(B=B!="object"?B:ye?Array.isArray(ye)?"array":B:"null",B=="array"||B=="object"&&typeof ye.length=="number"){B=v.length||0;const _e=ye.length||0;v.length=B+_e;for(let qe=0;qe<_e;qe++)v[B+qe]=ye[qe]}else v.push(ye)}}class k{constructor(R,B){this.i=R,this.j=B,this.h=0,this.g=null}get(){let R;return this.h>0?(this.h--,R=this.g,this.g=R.next,R.next=null):R=this.i(),R}}function V(v){d.setTimeout(()=>{throw v},0)}function K(){var v=z;let R=null;return v.g&&(R=v.g,v.g=v.g.next,v.g||(v.h=null),R.next=null),R}class Z{constructor(){this.h=this.g=null}add(R,B){const ee=H.get();ee.set(R,B),this.h?this.h.next=ee:this.g=ee,this.h=ee}}var H=new k(()=>new W,v=>v.reset());class W{constructor(){this.next=this.g=this.h=null}set(R,B){this.h=R,this.g=B,this.next=null}reset(){this.next=this.g=this.h=null}}let te,se=!1,z=new Z,j=()=>{const v=Promise.resolve(void 0);te=()=>{v.then(F)}};function F(){for(var v;v=K();){try{v.h.call(v.g)}catch(B){V(B)}var R=H;R.j(v),R.h<100&&(R.h++,v.next=R.g,R.g=v)}se=!1}function J(){this.u=this.u,this.C=this.C}J.prototype.u=!1,J.prototype.dispose=function(){this.u||(this.u=!0,this.N())},J.prototype[Symbol.dispose]=function(){this.dispose()},J.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Y(v,R){this.type=v,this.g=this.target=R,this.defaultPrevented=!1}Y.prototype.h=function(){this.defaultPrevented=!0};var O=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var v=!1,R=Object.defineProperty({},"passive",{get:function(){v=!0}});try{const B=()=>{};d.addEventListener("test",B,R),d.removeEventListener("test",B,R)}catch{}return v})();function q(v){return/^[\s\xa0]*$/.test(v)}function ue(v,R){Y.call(this,v?v.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,v&&this.init(v,R)}A(ue,Y),ue.prototype.init=function(v,R){const B=this.type=v.type,ee=v.changedTouches&&v.changedTouches.length?v.changedTouches[0]:null;this.target=v.target||v.srcElement,this.g=R,R=v.relatedTarget,R||(B=="mouseover"?R=v.fromElement:B=="mouseout"&&(R=v.toElement)),this.relatedTarget=R,ee?(this.clientX=ee.clientX!==void 0?ee.clientX:ee.pageX,this.clientY=ee.clientY!==void 0?ee.clientY:ee.pageY,this.screenX=ee.screenX||0,this.screenY=ee.screenY||0):(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0),this.button=v.button,this.key=v.key||"",this.ctrlKey=v.ctrlKey,this.altKey=v.altKey,this.shiftKey=v.shiftKey,this.metaKey=v.metaKey,this.pointerId=v.pointerId||0,this.pointerType=v.pointerType,this.state=v.state,this.i=v,v.defaultPrevented&&ue.Z.h.call(this)},ue.prototype.h=function(){ue.Z.h.call(this);const v=this.i;v.preventDefault?v.preventDefault():v.returnValue=!1};var re="closure_listenable_"+(Math.random()*1e6|0),ie=0;function he(v,R,B,ee,ye){this.listener=v,this.proxy=null,this.src=R,this.type=B,this.capture=!!ee,this.ha=ye,this.key=++ie,this.da=this.fa=!1}function Ne(v){v.da=!0,v.listener=null,v.proxy=null,v.src=null,v.ha=null}function Te(v,R,B){for(const ee in v)R.call(B,v[ee],ee,v)}function We(v,R){for(const B in v)R.call(void 0,v[B],B,v)}function ae(v){const R={};for(const B in v)R[B]=v[B];return R}const ge="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function me(v,R){let B,ee;for(let ye=1;ye<arguments.length;ye++){ee=arguments[ye];for(B in ee)v[B]=ee[B];for(let _e=0;_e<ge.length;_e++)B=ge[_e],Object.prototype.hasOwnProperty.call(ee,B)&&(v[B]=ee[B])}}function Re(v){this.src=v,this.g={},this.h=0}Re.prototype.add=function(v,R,B,ee,ye){const _e=v.toString();v=this.g[_e],v||(v=this.g[_e]=[],this.h++);const qe=we(v,R,ee,ye);return qe>-1?(R=v[qe],B||(R.fa=!1)):(R=new he(R,this.src,_e,!!ee,ye),R.fa=B,v.push(R)),R};function ze(v,R){const B=R.type;if(B in v.g){var ee=v.g[B],ye=Array.prototype.indexOf.call(ee,R,void 0),_e;(_e=ye>=0)&&Array.prototype.splice.call(ee,ye,1),_e&&(Ne(R),v.g[B].length==0&&(delete v.g[B],v.h--))}}function we(v,R,B,ee){for(let ye=0;ye<v.length;++ye){const _e=v[ye];if(!_e.da&&_e.listener==R&&_e.capture==!!B&&_e.ha==ee)return ye}return-1}var Ke="closure_lm_"+(Math.random()*1e6|0),tt={};function nt(v,R,B,ee,ye){if(Array.isArray(R)){for(let _e=0;_e<R.length;_e++)nt(v,R[_e],B,ee,ye);return null}return B=mt(B),v&&v[re]?v.J(R,B,x(ee)?!!ee.capture:!1,ye):st(v,R,B,!1,ee,ye)}function st(v,R,B,ee,ye,_e){if(!R)throw Error("Invalid event type");const qe=x(ye)?!!ye.capture:!!ye;let Ft=wn(v);if(Ft||(v[Ke]=Ft=new Re(v)),B=Ft.add(R,B,ee,qe,_e),B.proxy)return B;if(ee=dt(),B.proxy=ee,ee.src=v,ee.listener=B,v.addEventListener)O||(ye=qe),ye===void 0&&(ye=!1),v.addEventListener(R.toString(),ee,ye);else if(v.attachEvent)v.attachEvent(ht(R.toString()),ee);else if(v.addListener&&v.removeListener)v.addListener(ee);else throw Error("addEventListener and attachEvent are unavailable.");return B}function dt(){function v(B){return R.call(v.src,v.listener,B)}const R=Mt;return v}function St(v,R,B,ee,ye){if(Array.isArray(R))for(var _e=0;_e<R.length;_e++)St(v,R[_e],B,ee,ye);else ee=x(ee)?!!ee.capture:!!ee,B=mt(B),v&&v[re]?(v=v.i,_e=String(R).toString(),_e in v.g&&(R=v.g[_e],B=we(R,B,ee,ye),B>-1&&(Ne(R[B]),Array.prototype.splice.call(R,B,1),R.length==0&&(delete v.g[_e],v.h--)))):v&&(v=wn(v))&&(R=v.g[R.toString()],v=-1,R&&(v=we(R,B,ee,ye)),(B=v>-1?R[v]:null)&&rt(B))}function rt(v){if(typeof v!="number"&&v&&!v.da){var R=v.src;if(R&&R[re])ze(R.i,v);else{var B=v.type,ee=v.proxy;R.removeEventListener?R.removeEventListener(B,ee,v.capture):R.detachEvent?R.detachEvent(ht(B),ee):R.addListener&&R.removeListener&&R.removeListener(ee),(B=wn(R))?(ze(B,v),B.h==0&&(B.src=null,R[Ke]=null)):Ne(v)}}}function ht(v){return v in tt?tt[v]:tt[v]="on"+v}function Mt(v,R){if(v.da)v=!0;else{R=new ue(R,this);const B=v.listener,ee=v.ha||v.src;v.fa&&rt(v),v=B.call(ee,R)}return v}function wn(v){return v=v[Ke],v instanceof Re?v:null}var vt="__closure_events_fn_"+(Math.random()*1e9>>>0);function mt(v){return typeof v=="function"?v:(v[vt]||(v[vt]=function(R){return v.handleEvent(R)}),v[vt])}function Qe(){J.call(this),this.i=new Re(this),this.M=this,this.G=null}A(Qe,J),Qe.prototype[re]=!0,Qe.prototype.removeEventListener=function(v,R,B,ee){St(this,v,R,B,ee)};function Ot(v,R){var B,ee=v.G;if(ee)for(B=[];ee;ee=ee.G)B.push(ee);if(v=v.M,ee=R.type||R,typeof R=="string")R=new Y(R,v);else if(R instanceof Y)R.target=R.target||v;else{var ye=R;R=new Y(ee,v),me(R,ye)}ye=!0;let _e,qe;if(B)for(qe=B.length-1;qe>=0;qe--)_e=R.g=B[qe],ye=je(_e,ee,!0,R)&&ye;if(_e=R.g=v,ye=je(_e,ee,!0,R)&&ye,ye=je(_e,ee,!1,R)&&ye,B)for(qe=0;qe<B.length;qe++)_e=R.g=B[qe],ye=je(_e,ee,!1,R)&&ye}Qe.prototype.N=function(){if(Qe.Z.N.call(this),this.i){var v=this.i;for(const R in v.g){const B=v.g[R];for(let ee=0;ee<B.length;ee++)Ne(B[ee]);delete v.g[R],v.h--}}this.G=null},Qe.prototype.J=function(v,R,B,ee){return this.i.add(String(v),R,!1,B,ee)},Qe.prototype.K=function(v,R,B,ee){return this.i.add(String(v),R,!0,B,ee)};function je(v,R,B,ee){if(R=v.i.g[String(R)],!R)return!0;R=R.concat();let ye=!0;for(let _e=0;_e<R.length;++_e){const qe=R[_e];if(qe&&!qe.da&&qe.capture==B){const Ft=qe.listener,pr=qe.ha||qe.src;qe.fa&&ze(v.i,qe),ye=Ft.call(pr,ee)!==!1&&ye}}return ye&&!ee.defaultPrevented}function lt(v,R){if(typeof v!="function")if(v&&typeof v.handleEvent=="function")v=m(v.handleEvent,v);else throw Error("Invalid listener argument");return Number(R)>2147483647?-1:d.setTimeout(v,R||0)}function rr(v){v.g=lt(()=>{v.g=null,v.i&&(v.i=!1,rr(v))},v.l);const R=v.h;v.h=null,v.m.apply(null,R)}class It extends J{constructor(R,B){super(),this.m=R,this.l=B,this.h=null,this.i=!1,this.g=null}j(R){this.h=arguments,this.g?this.i=!0:rr(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ye(v){J.call(this),this.h=v,this.g={}}A(Ye,J);var Ve=[];function it(v){Te(v.g,function(R,B){this.g.hasOwnProperty(B)&&rt(R)},v),v.g={}}Ye.prototype.N=function(){Ye.Z.N.call(this),it(this)},Ye.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ct=d.JSON.stringify,ot=d.JSON.parse,bt=class{stringify(v){return d.JSON.stringify(v,void 0)}parse(v){return d.JSON.parse(v,void 0)}};function Dt(){}function er(){}var wt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ke(){Y.call(this,"d")}A(ke,Y);function Xe(){Y.call(this,"c")}A(Xe,Y);var Je={},Pt=null;function Lr(){return Pt=Pt||new Qe}Je.Ia="serverreachability";function zi(v){Y.call(this,Je.Ia,v)}A(zi,Y);function ai(v){const R=Lr();Ot(R,new zi(R))}Je.STAT_EVENT="statevent";function Wt(v,R){Y.call(this,Je.STAT_EVENT,v),this.stat=R}A(Wt,Y);function kt(v){const R=Lr();Ot(R,new Wt(R,v))}Je.Ja="timingevent";function Nn(v,R){Y.call(this,Je.Ja,v),this.size=R}A(Nn,Y);function li(v,R){if(typeof v!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){v()},R)}function $n(){this.g=!0}$n.prototype.ua=function(){this.g=!1};function ci(v,R,B,ee,ye,_e){v.info(function(){if(v.g)if(_e){var qe="",Ft=_e.split("&");for(let vn=0;vn<Ft.length;vn++){var pr=Ft[vn].split("=");if(pr.length>1){const Qn=pr[0];pr=pr[1];const $i=Qn.split("_");qe=$i.length>=2&&$i[1]=="type"?qe+(Qn+"="+pr+"&"):qe+(Qn+"=redacted&")}}}else qe=null;else qe=_e;return"XMLHTTP REQ ("+ee+") [attempt "+ye+"]: "+R+`
`+B+`
`+qe})}function Pr(v,R,B,ee,ye,_e,qe){v.info(function(){return"XMLHTTP RESP ("+ee+") [ attempt "+ye+"]: "+R+`
`+B+`
`+_e+" "+qe})}function ui(v,R,B,ee){v.info(function(){return"XMLHTTP TEXT ("+R+"): "+Ji(v,B)+(ee?" "+ee:"")})}function ks(v,R){v.info(function(){return"TIMEOUT: "+R})}$n.prototype.info=function(){};function Ji(v,R){if(!v.g)return R;if(!R)return null;try{const _e=JSON.parse(R);if(_e){for(v=0;v<_e.length;v++)if(Array.isArray(_e[v])){var B=_e[v];if(!(B.length<2)){var ee=B[1];if(Array.isArray(ee)&&!(ee.length<1)){var ye=ee[0];if(ye!="noop"&&ye!="stop"&&ye!="close")for(let qe=1;qe<ee.length;qe++)ee[qe]=""}}}}return ct(_e)}catch{return R}}var aa={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ps={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},la;function wr(){}A(wr,Dt),wr.prototype.g=function(){return new XMLHttpRequest},la=new wr;function fi(v){return encodeURIComponent(String(v))}function di(v){var R=1;v=v.split(":");const B=[];for(;R>0&&v.length;)B.push(v.shift()),R--;return v.length&&B.push(v.join(":")),B}function Ze(v,R,B,ee){this.j=v,this.i=R,this.l=B,this.S=ee||1,this.V=new Ye(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ti}function ti(){this.i=null,this.g="",this.h=!1}var cr={},An={};function hi(v,R,B){v.M=1,v.A=Ii(fr(R)),v.u=B,v.R=!0,oo(v,null)}function oo(v,R){v.F=Date.now(),Bs(v),v.B=fr(v.A);var B=v.B,ee=v.S;Array.isArray(ee)||(ee=[String(ee)]),Ln(B.i,"t",ee),v.C=0,B=v.j.L,v.h=new ti,v.g=ll(v.j,B?R:null,!v.u),v.P>0&&(v.O=new It(m(v.Y,v,v.g),v.P)),R=v.V,B=v.g,ee=v.ba;var ye="readystatechange";Array.isArray(ye)||(ye&&(Ve[0]=ye.toString()),ye=Ve);for(let _e=0;_e<ye.length;_e++){const qe=nt(B,ye[_e],ee||R.handleEvent,!1,R.h||R);if(!qe)break;R.g[qe.key]=qe}R=v.J?ae(v.J):{},v.u?(v.v||(v.v="POST"),R["Content-Type"]="application/x-www-form-urlencoded",v.g.ea(v.B,v.v,v.u,R)):(v.v="GET",v.g.ea(v.B,v.v,null,R)),ai(),ci(v.i,v.v,v.B,v.l,v.S,v.u)}Ze.prototype.ba=function(v){v=v.target;const R=this.O;R&&ns(v)==3?R.j():this.Y(v)},Ze.prototype.Y=function(v){try{if(v==this.g)e:{const Ft=ns(this.g),pr=this.g.ya(),vn=this.g.ca();if(!(Ft<3)&&(Ft!=3||this.g&&(this.h.h||this.g.la()||vr(this.g)))){this.K||Ft!=4||pr==7||(pr==8||vn<=0?ai(3):ai(2)),tr(this);var R=this.g.ca();this.X=R;var B=rl(this);if(this.o=R==200,Pr(this.i,this.v,this.B,this.l,this.S,Ft,R),this.o){if(this.U&&!this.L){t:{if(this.g){var ee,ye=this.g;if((ee=ye.g?ye.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!q(ee)){var _e=ee;break t}}_e=null}if(v=_e)ui(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Qr(this,v);else{this.o=!1,this.m=3,kt(12),Ti(this),tn(this);break e}}if(this.R){v=!0;let Qn;for(;!this.K&&this.C<B.length;)if(Qn=su(this,B),Qn==An){Ft==4&&(this.m=4,kt(14),v=!1),ui(this.i,this.l,null,"[Incomplete Response]");break}else if(Qn==cr){this.m=4,kt(15),ui(this.i,this.l,B,"[Invalid Chunk]"),v=!1;break}else ui(this.i,this.l,Qn,null),Qr(this,Qn);if(ji(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ft!=4||B.length!=0||this.h.h||(this.m=1,kt(16),v=!1),this.o=this.o&&v,!v)ui(this.i,this.l,B,"[Invalid Chunked Response]"),Ti(this),tn(this);else if(B.length>0&&!this.W){this.W=!0;var qe=this.j;qe.g==this&&qe.aa&&!qe.P&&(qe.j.info("Great, no buffering proxy detected. Bytes received: "+B.length),Se(qe),qe.P=!0,kt(11))}}else ui(this.i,this.l,B,null),Qr(this,B);Ft==4&&Ti(this),this.o&&!this.K&&(Ft==4?pa(this.j,this):(this.o=!1,Bs(this)))}else Gi(this.g),R==400&&B.indexOf("Unknown SID")>0?(this.m=3,kt(12)):(this.m=0,kt(13)),Ti(this),tn(this)}}}catch{}finally{}};function rl(v){if(!ji(v))return v.g.la();const R=vr(v.g);if(R==="")return"";let B="";const ee=R.length,ye=ns(v.g)==4;if(!v.h.i){if(typeof TextDecoder>"u")return Ti(v),tn(v),"";v.h.i=new d.TextDecoder}for(let _e=0;_e<ee;_e++)v.h.h=!0,B+=v.h.i.decode(R[_e],{stream:!(ye&&_e==ee-1)});return R.length=0,v.h.g+=B,v.C=0,v.h.g}function ji(v){return v.g?v.v=="GET"&&v.M!=2&&v.j.Aa:!1}function su(v,R){var B=v.C,ee=R.indexOf(`
`,B);return ee==-1?An:(B=Number(R.substring(B,ee)),isNaN(B)?cr:(ee+=1,ee+B>R.length?An:(R=R.slice(ee,ee+B),v.C=ee+B,R)))}Ze.prototype.cancel=function(){this.K=!0,Ti(this)};function Bs(v){v.T=Date.now()+v.H,pi(v,v.H)}function pi(v,R){if(v.D!=null)throw Error("WatchDog timer not null");v.D=li(m(v.aa,v),R)}function tr(v){v.D&&(d.clearTimeout(v.D),v.D=null)}Ze.prototype.aa=function(){this.D=null;const v=Date.now();v-this.T>=0?(ks(this.i,this.B),this.M!=2&&(ai(),kt(17)),Ti(this),this.m=2,tn(this)):pi(this,this.T-v)};function tn(v){v.j.I==0||v.K||pa(v.j,v)}function Ti(v){tr(v);var R=v.O;R&&typeof R.dispose=="function"&&R.dispose(),v.O=null,it(v.V),v.g&&(R=v.g,v.g=null,R.abort(),R.dispose())}function Qr(v,R){try{var B=v.j;if(B.I!=0&&(B.g==v||gi(B.h,v))){if(!v.L&&gi(B.h,v)&&B.I==3){try{var ee=B.Ba.g.parse(R)}catch{ee=null}if(Array.isArray(ee)&&ee.length==3){var ye=ee;if(ye[0]==0){e:if(!B.v){if(B.g)if(B.g.F+3e3<v.F)dr(B),co(B);else break e;ha(B),kt(18)}}else B.xa=ye[1],0<B.xa-B.K&&ye[2]<37500&&B.F&&B.A==0&&!B.C&&(B.C=li(m(B.Va,B),6e3));_n(B.h)<=1&&B.ta&&(B.ta=void 0)}else Vs(B,11)}else if((v.L||B.g==v)&&dr(B),!q(R))for(ye=B.Ba.g.parse(R),R=0;R<ye.length;R++){let vn=ye[R];const Qn=vn[0];if(!(Qn<=B.K))if(B.K=Qn,vn=vn[1],B.I==2)if(vn[0]=="c"){B.M=vn[1],B.ba=vn[2];const $i=vn[3];$i!=null&&(B.ka=$i,B.j.info("VER="+B.ka));const Hs=vn[4];Hs!=null&&(B.za=Hs,B.j.info("SVER="+B.za));const ri=vn[5];ri!=null&&typeof ri=="number"&&ri>0&&(ee=1.5*ri,B.O=ee,B.j.info("backChannelRequestTimeoutMs_="+ee)),ee=B;const qi=v.g;if(qi){const ma=qi.g?qi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ma){var _e=ee.h;_e.g||ma.indexOf("spdy")==-1&&ma.indexOf("quic")==-1&&ma.indexOf("h2")==-1||(_e.j=_e.l,_e.g=new Set,_e.h&&(cc(_e,_e.h),_e.h=null))}if(ee.G){const Gs=qi.g?qi.g.getResponseHeader("X-HTTP-Session-Id"):null;Gs&&(ee.wa=Gs,Rt(ee.J,ee.G,Gs))}}B.I=3,B.l&&B.l.ra(),B.aa&&(B.T=Date.now()-v.F,B.j.info("Handshake RTT: "+B.T+"ms")),ee=B;var qe=v;if(ee.na=au(ee,ee.L?ee.ba:null,ee.W),qe.L){hn(ee.h,qe);var Ft=qe,pr=ee.O;pr&&(Ft.H=pr),Ft.D&&(tr(Ft),Bs(Ft)),ee.g=qe}else xs(ee);B.i.length>0&&Fs(B)}else vn[0]!="stop"&&vn[0]!="close"||Vs(B,7);else B.I==3&&(vn[0]=="stop"||vn[0]=="close"?vn[0]=="stop"?Vs(B,7):sl(B):vn[0]!="noop"&&B.l&&B.l.qa(vn),B.A=0)}}ai(4)}catch{}}var ur=class{constructor(v,R){this.g=v,this.map=R}};function Be(v){this.l=v||10,d.PerformanceNavigationTiming?(v=d.performance.getEntriesByType("navigation"),v=v.length>0&&(v[0].nextHopProtocol=="hq"||v[0].nextHopProtocol=="h2")):v=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=v?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function lc(v){return v.h?!0:v.g?v.g.size>=v.j:!1}function _n(v){return v.h?1:v.g?v.g.size:0}function gi(v,R){return v.h?v.h==R:v.g?v.g.has(R):!1}function cc(v,R){v.g?v.g.add(R):v.h=R}function hn(v,R){v.h&&v.h==R?v.h=null:v.g&&v.g.has(R)&&v.g.delete(R)}Be.prototype.cancel=function(){if(this.i=nn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const v of this.g.values())v.cancel();this.g.clear()}};function nn(v){if(v.h!=null)return v.i.concat(v.h.G);if(v.g!=null&&v.g.size!==0){let R=v.i;for(const B of v.g.values())R=R.concat(B.G);return R}return N(v.i)}var Kt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _o(v,R){if(v){v=v.split("&");for(let B=0;B<v.length;B++){const ee=v[B].indexOf("=");let ye,_e=null;ee>=0?(ye=v[B].substring(0,ee),_e=v[B].substring(ee+1)):ye=v[B],R(ye,_e?decodeURIComponent(_e.replace(/\+/g," ")):"")}}}function mi(v){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let R;v instanceof mi?(this.l=v.l,Jt(this,v.j),this.o=v.o,this.g=v.g,yi(this,v.u),this.h=v.h,uc(this,fc(v.i)),this.m=v.m):v&&(R=String(v).match(Kt))?(this.l=!1,Jt(this,R[1]||"",!0),this.o=Us(R[2]||""),this.g=Us(R[3]||"",!0),yi(this,R[4]),this.h=Us(R[5]||"",!0),uc(this,R[6]||"",!0),this.m=Us(R[7]||"")):(this.l=!1,this.i=new kr(null,this.l))}mi.prototype.toString=function(){const v=[];var R=this.j;R&&v.push(es(R,xr,!0),":");var B=this.g;return(B||R=="file")&&(v.push("//"),(R=this.o)&&v.push(es(R,xr,!0),"@"),v.push(fi(B).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),B=this.u,B!=null&&v.push(":",String(B))),(B=this.h)&&(this.g&&B.charAt(0)!="/"&&v.push("/"),v.push(es(B,B.charAt(0)=="/"?ne:Ee,!0))),(B=this.i.toString())&&v.push("?",B),(B=this.m)&&v.push("#",es(B,Er)),v.join("")},mi.prototype.resolve=function(v){const R=fr(this);let B=!!v.j;B?Jt(R,v.j):B=!!v.o,B?R.o=v.o:B=!!v.g,B?R.g=v.g:B=v.u!=null;var ee=v.h;if(B)yi(R,v.u);else if(B=!!v.h){if(ee.charAt(0)!="/")if(this.g&&!this.h)ee="/"+ee;else{var ye=R.h.lastIndexOf("/");ye!=-1&&(ee=R.h.slice(0,ye+1)+ee)}if(ye=ee,ye==".."||ye==".")ee="";else if(ye.indexOf("./")!=-1||ye.indexOf("/.")!=-1){ee=ye.lastIndexOf("/",0)==0,ye=ye.split("/");const _e=[];for(let qe=0;qe<ye.length;){const Ft=ye[qe++];Ft=="."?ee&&qe==ye.length&&_e.push(""):Ft==".."?((_e.length>1||_e.length==1&&_e[0]!="")&&_e.pop(),ee&&qe==ye.length&&_e.push("")):(_e.push(Ft),ee=!0)}ee=_e.join("/")}else ee=ye}return B?R.h=ee:B=v.i.toString()!=="",B?uc(R,fc(v.i)):B=!!v.m,B&&(R.m=v.m),R};function fr(v){return new mi(v)}function Jt(v,R,B){v.j=B?Us(R,!0):R,v.j&&(v.j=v.j.replace(/:$/,""))}function yi(v,R){if(R){if(R=Number(R),isNaN(R)||R<0)throw Error("Bad port number "+R);v.u=R}else v.u=null}function uc(v,R,B){R instanceof kr?(v.i=R,Io(v.i,v.l)):(B||(R=es(R,pt)),v.i=new kr(R,v.l))}function Rt(v,R,B){v.i.set(R,B)}function Ii(v){return Rt(v,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),v}function Us(v,R){return v?R?decodeURI(v.replace(/%25/g,"%2525")):decodeURIComponent(v):""}function es(v,R,B){return typeof v=="string"?(v=encodeURI(v).replace(R,Yt),B&&(v=v.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v):null}function Yt(v){return v=v.charCodeAt(0),"%"+(v>>4&15).toString(16)+(v&15).toString(16)}var xr=/[#\/\?@]/g,Ee=/[#\?:]/g,ne=/[#\?]/g,pt=/[#\?@]/g,Er=/#/g;function kr(v,R){this.h=this.g=null,this.i=v||null,this.j=!!R}function Ri(v){v.g||(v.g=new Map,v.h=0,v.i&&_o(v.i,function(R,B){v.add(decodeURIComponent(R.replace(/\+/g," ")),B)}))}t=kr.prototype,t.add=function(v,R){Ri(this),this.i=null,v=To(this,v);let B=this.g.get(v);return B||this.g.set(v,B=[]),B.push(R),this.h+=1,this};function il(v,R){Ri(v),R=To(v,R),v.g.has(R)&&(v.i=null,v.h-=v.g.get(R).length,v.g.delete(R))}function ni(v,R){return Ri(v),R=To(v,R),v.g.has(R)}t.forEach=function(v,R){Ri(this),this.g.forEach(function(B,ee){B.forEach(function(ye){v.call(R,ye,ee,this)},this)},this)};function Et(v,R){Ri(v);let B=[];if(typeof R=="string")ni(v,R)&&(B=B.concat(v.g.get(To(v,R))));else for(v=Array.from(v.g.values()),R=0;R<v.length;R++)B=B.concat(v[R]);return B}t.set=function(v,R){return Ri(this),this.i=null,v=To(this,v),ni(this,v)&&(this.h-=this.g.get(v).length),this.g.set(v,[R]),this.h+=1,this},t.get=function(v,R){return v?(v=Et(this,v),v.length>0?String(v[0]):R):R};function Ln(v,R,B){il(v,R),B.length>0&&(v.i=null,v.g.set(To(v,R),N(B)),v.h+=B.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const v=[],R=Array.from(this.g.keys());for(let ee=0;ee<R.length;ee++){var B=R[ee];const ye=fi(B);B=Et(this,B);for(let _e=0;_e<B.length;_e++){let qe=ye;B[_e]!==""&&(qe+="="+fi(B[_e])),v.push(qe)}}return this.i=v.join("&")};function fc(v){const R=new kr;return R.i=v.i,v.g&&(R.g=new Map(v.g),R.h=v.h),R}function To(v,R){return R=String(R),v.j&&(R=R.toLowerCase()),R}function Io(v,R){R&&!v.j&&(Ri(v),v.i=null,v.g.forEach(function(B,ee){const ye=ee.toLowerCase();ee!=ye&&(il(this,ee),Ln(this,ye,B))},v)),v.j=R}function Ni(v,R){const B=new $n;if(d.Image){const ee=new Image;ee.onload=w(ts,B,"TestLoadImage: loaded",!0,R,ee),ee.onerror=w(ts,B,"TestLoadImage: error",!1,R,ee),ee.onabort=w(ts,B,"TestLoadImage: abort",!1,R,ee),ee.ontimeout=w(ts,B,"TestLoadImage: timeout",!1,R,ee),d.setTimeout(function(){ee.ontimeout&&ee.ontimeout()},1e4),ee.src=v}else R(!1)}function ca(v,R){const B=new $n,ee=new AbortController,ye=setTimeout(()=>{ee.abort(),ts(B,"TestPingServer: timeout",!1,R)},1e4);fetch(v,{signal:ee.signal}).then(_e=>{clearTimeout(ye),_e.ok?ts(B,"TestPingServer: ok",!0,R):ts(B,"TestPingServer: server error",!1,R)}).catch(()=>{clearTimeout(ye),ts(B,"TestPingServer: error",!1,R)})}function ts(v,R,B,ee,ye){try{ye&&(ye.onload=null,ye.onerror=null,ye.onabort=null,ye.ontimeout=null),ee(B)}catch{}}function Kn(){this.g=new bt}function Mi(v){this.i=v.Sb||null,this.h=v.ab||!1}A(Mi,Dt),Mi.prototype.g=function(){return new Oi(this.i,this.h)};function Oi(v,R){Qe.call(this),this.H=v,this.o=R,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(Oi,Qe),t=Oi.prototype,t.open=function(v,R){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=v,this.D=R,this.readyState=1,Tt(this)},t.send=function(v){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const R={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};v&&(R.body=v),(this.H||d).fetch(new Request(this.D,R)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ro(this)),this.readyState=0},t.Pa=function(v){if(this.g&&(this.l=v,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=v.headers,this.readyState=2,Tt(this)),this.g&&(this.readyState=3,Tt(this),this.g)))if(this.responseType==="arraybuffer")v.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in v){if(this.j=v.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ct(this)}else v.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ct(v){v.j.read().then(v.Ma.bind(v)).catch(v.ga.bind(v))}t.Ma=function(v){if(this.g){if(this.o&&v.value)this.response.push(v.value);else if(!this.o){var R=v.value?v.value:new Uint8Array(0);(R=this.B.decode(R,{stream:!v.done}))&&(this.response=this.responseText+=R)}v.done?Ro(this):Tt(this),this.readyState==3&&Ct(this)}},t.Oa=function(v){this.g&&(this.response=this.responseText=v,Ro(this))},t.Na=function(v){this.g&&(this.response=v,Ro(this))},t.ga=function(){this.g&&Ro(this)};function Ro(v){v.readyState=4,v.l=null,v.j=null,v.B=null,Tt(v)}t.setRequestHeader=function(v,R){this.A.append(v,R)},t.getResponseHeader=function(v){return this.h&&this.h.get(v.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const v=[],R=this.h.entries();for(var B=R.next();!B.done;)B=B.value,v.push(B[0]+": "+B[1]),B=R.next();return v.join(`\r
`)};function Tt(v){v.onreadystatechange&&v.onreadystatechange.call(v)}Object.defineProperty(Oi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(v){this.m=v?"include":"same-origin"}});function Pn(v){let R="";return Te(v,function(B,ee){R+=ee,R+=":",R+=B,R+=`\r
`}),R}function ua(v,R,B){e:{for(ee in B){var ee=!1;break e}ee=!0}ee||(B=Pn(B),typeof v=="string"?B!=null&&fi(B):Rt(v,R,B))}function Tn(v){Qe.call(this),this.headers=new Map,this.L=v||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(Tn,Qe);var gs=/^https?$/i,ms=["POST","PUT"];t=Tn.prototype,t.Fa=function(v){this.H=v},t.ea=function(v,R,B,ee){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+v);R=R?R.toUpperCase():"GET",this.D=v,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():la.g(),this.g.onreadystatechange=I(m(this.Ca,this));try{this.B=!0,this.g.open(R,String(v),!0),this.B=!1}catch(_e){fa(this,_e);return}if(v=B||"",B=new Map(this.headers),ee)if(Object.getPrototypeOf(ee)===Object.prototype)for(var ye in ee)B.set(ye,ee[ye]);else if(typeof ee.keys=="function"&&typeof ee.get=="function")for(const _e of ee.keys())B.set(_e,ee.get(_e));else throw Error("Unknown input type for opt_headers: "+String(ee));ee=Array.from(B.keys()).find(_e=>_e.toLowerCase()=="content-type"),ye=d.FormData&&v instanceof d.FormData,!(Array.prototype.indexOf.call(ms,R,void 0)>=0)||ee||ye||B.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[_e,qe]of B)this.g.setRequestHeader(_e,qe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(v),this.v=!1}catch(_e){fa(this,_e)}};function fa(v,R){v.h=!1,v.g&&(v.j=!0,v.g.abort(),v.j=!1),v.l=R,v.o=5,ao(v),Hi(v)}function ao(v){v.A||(v.A=!0,Ot(v,"complete"),Ot(v,"error"))}t.abort=function(v){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=v||7,Ot(this,"complete"),Ot(this,"abort"),Hi(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hi(this,!0)),Tn.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?ys(this):this.Xa())},t.Xa=function(){ys(this)};function ys(v){if(v.h&&typeof l<"u"){if(v.v&&ns(v)==4)setTimeout(v.Ca.bind(v),0);else if(Ot(v,"readystatechange"),ns(v)==4){v.h=!1;try{const _e=v.ca();e:switch(_e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var R=!0;break e;default:R=!1}var B;if(!(B=R)){var ee;if(ee=_e===0){let qe=String(v.D).match(Kt)[1]||null;!qe&&d.self&&d.self.location&&(qe=d.self.location.protocol.slice(0,-1)),ee=!gs.test(qe?qe.toLowerCase():"")}B=ee}if(B)Ot(v,"complete"),Ot(v,"success");else{v.o=6;try{var ye=ns(v)>2?v.g.statusText:""}catch{ye=""}v.l=ye+" ["+v.ca()+"]",ao(v)}}finally{Hi(v)}}}}function Hi(v,R){if(v.g){v.m&&(clearTimeout(v.m),v.m=null);const B=v.g;v.g=null,R||Ot(v,"ready");try{B.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function ns(v){return v.g?v.g.readyState:0}t.ca=function(){try{return ns(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(v){if(this.g){var R=this.g.responseText;return v&&R.indexOf(v)==0&&(R=R.substring(v.length)),ot(R)}};function vr(v){try{if(!v.g)return null;if("response"in v.g)return v.g.response;switch(v.F){case"":case"text":return v.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in v.g)return v.g.mozResponseArrayBuffer}return null}catch{return null}}function Gi(v){const R={};v=(v.g&&ns(v)>=2&&v.g.getAllResponseHeaders()||"").split(`\r
`);for(let ee=0;ee<v.length;ee++){if(q(v[ee]))continue;var B=di(v[ee]);const ye=B[0];if(B=B[1],typeof B!="string")continue;B=B.trim();const _e=R[ye]||[];R[ye]=_e,_e.push(B)}We(R,function(ee){return ee.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ir(v,R,B){return B&&B.internalChannelParams&&B.internalChannelParams[v]||R}function lo(v){this.za=0,this.i=[],this.j=new $n,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ir("failFast",!1,v),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ir("baseRetryDelayMs",5e3,v),this.Za=ir("retryDelaySeedMs",1e4,v),this.Ta=ir("forwardChannelMaxRetries",2,v),this.va=ir("forwardChannelRequestTimeoutMs",2e4,v),this.ma=v&&v.xmlHttpFactory||void 0,this.Ua=v&&v.Rb||void 0,this.Aa=v&&v.useFetchStreams||!1,this.O=void 0,this.L=v&&v.supportsCrossDomainXhr||!1,this.M="",this.h=new Be(v&&v.concurrentRequestLimit),this.Ba=new Kn,this.S=v&&v.fastHandshake||!1,this.R=v&&v.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=v&&v.Pb||!1,v&&v.ua&&this.j.ua(),v&&v.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&v&&v.detectBufferingProxy||!1,this.ia=void 0,v&&v.longPollingTimeout&&v.longPollingTimeout>0&&(this.ia=v.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=lo.prototype,t.ka=8,t.I=1,t.connect=function(v,R,B,ee){kt(0),this.W=v,this.H=R||{},B&&ee!==void 0&&(this.H.OSID=B,this.H.OAID=ee),this.F=this.X,this.J=au(this,null,this.W),Fs(this)};function sl(v){if(ol(v),v.I==3){var R=v.V++,B=fr(v.J);if(Rt(B,"SID",v.M),Rt(B,"RID",R),Rt(B,"TYPE","terminate"),No(v,B),R=new Ze(v,v.j,R),R.M=2,R.A=Ii(fr(B)),B=!1,d.navigator&&d.navigator.sendBeacon)try{B=d.navigator.sendBeacon(R.A.toString(),"")}catch{}!B&&d.Image&&(new Image().src=R.A,B=!0),B||(R.g=ll(R.j,null),R.g.ea(R.A)),R.F=Date.now(),Bs(R)}ou(v)}function co(v){v.g&&(Se(v),v.g.cancel(),v.g=null)}function ol(v){co(v),v.v&&(d.clearTimeout(v.v),v.v=null),dr(v),v.h.cancel(),v.m&&(typeof v.m=="number"&&d.clearTimeout(v.m),v.m=null)}function Fs(v){if(!lc(v.h)&&!v.m){v.m=!0;var R=v.Ea;te||j(),se||(te(),se=!0),z.add(R,v),v.D=0}}function al(v,R){return _n(v.h)>=v.h.j-(v.m?1:0)?!1:v.m?(v.i=R.G.concat(v.i),!0):v.I==1||v.I==2||v.D>=(v.Sa?0:v.Ta)?!1:(v.m=li(m(v.Ea,v,R),dc(v,v.D)),v.D++,!0)}t.Ea=function(v){if(this.m)if(this.m=null,this.I==1){if(!v){this.V=Math.floor(Math.random()*1e5),v=this.V++;const ye=new Ze(this,this.j,v);let _e=this.o;if(this.U&&(_e?(_e=ae(_e),me(_e,this.U)):_e=this.U),this.u!==null||this.R||(ye.J=_e,_e=null),this.S)e:{for(var R=0,B=0;B<this.i.length;B++){t:{var ee=this.i[B];if("__data__"in ee.map&&(ee=ee.map.__data__,typeof ee=="string")){ee=ee.length;break t}ee=void 0}if(ee===void 0)break;if(R+=ee,R>4096){R=B;break e}if(R===4096||B===this.i.length-1){R=B+1;break e}}R=1e3}else R=1e3;R=da(this,ye,R),B=fr(this.J),Rt(B,"RID",v),Rt(B,"CVER",22),this.G&&Rt(B,"X-HTTP-Session-Id",this.G),No(this,B),_e&&(this.R?R="headers="+fi(Pn(_e))+"&"+R:this.u&&ua(B,this.u,_e)),cc(this.h,ye),this.Ra&&Rt(B,"TYPE","init"),this.S?(Rt(B,"$req",R),Rt(B,"SID","null"),ye.U=!0,hi(ye,B,null)):hi(ye,B,R),this.I=2}}else this.I==3&&(v?Cn(this,v):this.i.length==0||lc(this.h)||Cn(this))};function Cn(v,R){var B;R?B=R.l:B=v.V++;const ee=fr(v.J);Rt(ee,"SID",v.M),Rt(ee,"RID",B),Rt(ee,"AID",v.K),No(v,ee),v.u&&v.o&&ua(ee,v.u,v.o),B=new Ze(v,v.j,B,v.D+1),v.u===null&&(B.J=v.o),R&&(v.i=R.G.concat(v.i)),R=da(v,B,1e3),B.H=Math.round(v.va*.5)+Math.round(v.va*.5*Math.random()),cc(v.h,B),hi(B,ee,R)}function No(v,R){v.H&&Te(v.H,function(B,ee){Rt(R,ee,B)}),v.l&&Te({},function(B,ee){Rt(R,ee,B)})}function da(v,R,B){B=Math.min(v.i.length,B);const ee=v.l?m(v.l.Ka,v.l,v):null;e:{var ye=v.i;let Ft=-1;for(;;){const pr=["count="+B];Ft==-1?B>0?(Ft=ye[0].g,pr.push("ofs="+Ft)):Ft=0:pr.push("ofs="+Ft);let vn=!0;for(let Qn=0;Qn<B;Qn++){var _e=ye[Qn].g;const $i=ye[Qn].map;if(_e-=Ft,_e<0)Ft=Math.max(0,ye[Qn].g-100),vn=!1;else try{_e="req"+_e+"_"||"";try{var qe=$i instanceof Map?$i:Object.entries($i);for(const[Hs,ri]of qe){let qi=ri;x(ri)&&(qi=ct(ri)),pr.push(_e+Hs+"="+encodeURIComponent(qi))}}catch(Hs){throw pr.push(_e+"type="+encodeURIComponent("_badmap")),Hs}}catch{ee&&ee($i)}}if(vn){qe=pr.join("&");break e}}qe=void 0}return v=v.i.splice(0,B),R.G=v,qe}function xs(v){if(!v.g&&!v.v){v.Y=1;var R=v.Da;te||j(),se||(te(),se=!0),z.add(R,v),v.A=0}}function ha(v){return v.g||v.v||v.A>=3?!1:(v.Y++,v.v=li(m(v.Da,v),dc(v,v.A)),v.A++,!0)}t.Da=function(){if(this.v=null,Ht(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var v=4*this.T;this.j.info("BP detection timer enabled: "+v),this.B=li(m(this.Wa,this),v)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,kt(10),co(this),Ht(this))};function Se(v){v.B!=null&&(d.clearTimeout(v.B),v.B=null)}function Ht(v){v.g=new Ze(v,v.j,"rpc",v.Y),v.u===null&&(v.g.J=v.o),v.g.P=0;var R=fr(v.na);Rt(R,"RID","rpc"),Rt(R,"SID",v.M),Rt(R,"AID",v.K),Rt(R,"CI",v.F?"0":"1"),!v.F&&v.ia&&Rt(R,"TO",v.ia),Rt(R,"TYPE","xmlhttp"),No(v,R),v.u&&v.o&&ua(R,v.u,v.o),v.O&&(v.g.H=v.O);var B=v.g;v=v.ba,B.M=1,B.A=Ii(fr(R)),B.u=null,B.R=!0,oo(B,v)}t.Va=function(){this.C!=null&&(this.C=null,co(this),ha(this),kt(19))};function dr(v){v.C!=null&&(d.clearTimeout(v.C),v.C=null)}function pa(v,R){var B=null;if(v.g==R){dr(v),Se(v),v.g=null;var ee=2}else if(gi(v.h,R))B=R.G,hn(v.h,R),ee=1;else return;if(v.I!=0){if(R.o)if(ee==1){B=R.u?R.u.length:0,R=Date.now()-R.F;var ye=v.D;ee=Lr(),Ot(ee,new Nn(ee,B)),Fs(v)}else xs(v);else if(ye=R.m,ye==3||ye==0&&R.X>0||!(ee==1&&al(v,R)||ee==2&&ha(v)))switch(B&&B.length>0&&(R=v.h,R.i=R.i.concat(B)),ye){case 1:Vs(v,5);break;case 4:Vs(v,10);break;case 3:Vs(v,6);break;default:Vs(v,2)}}}function dc(v,R){let B=v.Qa+Math.floor(Math.random()*v.Za);return v.isActive()||(B*=2),B*R}function Vs(v,R){if(v.j.info("Error code "+R),R==2){var B=m(v.bb,v),ee=v.Ua;const ye=!ee;ee=new mi(ee||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Jt(ee,"https"),Ii(ee),ye?Ni(ee.toString(),B):ca(ee.toString(),B)}else kt(2);v.I=0,v.l&&v.l.pa(R),ou(v),ol(v)}t.bb=function(v){v?(this.j.info("Successfully pinged google.com"),kt(2)):(this.j.info("Failed to ping google.com"),kt(1))};function ou(v){if(v.I=0,v.ja=[],v.l){const R=nn(v.h);(R.length!=0||v.i.length!=0)&&(M(v.ja,R),M(v.ja,v.i),v.h.i.length=0,N(v.i),v.i.length=0),v.l.oa()}}function au(v,R,B){var ee=B instanceof mi?fr(B):new mi(B);if(ee.g!="")R&&(ee.g=R+"."+ee.g),yi(ee,ee.u);else{var ye=d.location;ee=ye.protocol,R=R?R+"."+ye.hostname:ye.hostname,ye=+ye.port;const _e=new mi(null);ee&&Jt(_e,ee),R&&(_e.g=R),ye&&yi(_e,ye),B&&(_e.h=B),ee=_e}return B=v.G,R=v.wa,B&&R&&Rt(ee,B,R),Rt(ee,"VER",v.ka),No(v,ee),ee}function ll(v,R,B){if(R&&!v.L)throw Error("Can't create secondary domain capable XhrIo object.");return R=v.Aa&&!v.ma?new Tn(new Mi({ab:B})):new Tn(v.ma),R.Fa(v.L),R}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function hr(){}t=hr.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function zs(){}zs.prototype.g=function(v,R){return new en(v,R)};function en(v,R){Qe.call(this),this.g=new lo(R),this.l=v,this.h=R&&R.messageUrlParams||null,v=R&&R.messageHeaders||null,R&&R.clientProtocolHeaderRequired&&(v?v["X-Client-Protocol"]="webchannel":v={"X-Client-Protocol":"webchannel"}),this.g.o=v,v=R&&R.initMessageHeaders||null,R&&R.messageContentType&&(v?v["X-WebChannel-Content-Type"]=R.messageContentType:v={"X-WebChannel-Content-Type":R.messageContentType}),R&&R.sa&&(v?v["X-WebChannel-Client-Profile"]=R.sa:v={"X-WebChannel-Client-Profile":R.sa}),this.g.U=v,(v=R&&R.Qb)&&!q(v)&&(this.g.u=v),this.A=R&&R.supportsCrossDomainXhr||!1,this.v=R&&R.sendRawJson||!1,(R=R&&R.httpSessionIdParam)&&!q(R)&&(this.g.G=R,v=this.h,v!==null&&R in v&&(v=this.h,R in v&&delete v[R])),this.j=new rn(this)}A(en,Qe),en.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){sl(this.g)},en.prototype.o=function(v){var R=this.g;if(typeof v=="string"){var B={};B.__data__=v,v=B}else this.v&&(B={},B.__data__=ct(v),v=B);R.i.push(new ur(R.Ya++,v)),R.I==3&&Fs(R)},en.prototype.N=function(){this.g.l=null,delete this.j,sl(this.g),delete this.g,en.Z.N.call(this)};function ga(v){ke.call(this),v.__headers__&&(this.headers=v.__headers__,this.statusCode=v.__status__,delete v.__headers__,delete v.__status__);var R=v.__sm__;if(R){e:{for(const B in R){v=B;break e}v=void 0}(this.i=v)&&(v=this.i,R=R!==null&&v in R?R[v]:void 0),this.data=R}else this.data=v}A(ga,ke);function js(){Xe.call(this),this.status=1}A(js,Xe);function rn(v){this.g=v}A(rn,hr),rn.prototype.ra=function(){Ot(this.g,"a")},rn.prototype.qa=function(v){Ot(this.g,new ga(v))},rn.prototype.pa=function(v){Ot(this.g,new js)},rn.prototype.oa=function(){Ot(this.g,"b")},zs.prototype.createWebChannel=zs.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,f3=function(){return new zs},u3=function(){return Lr()},c3=Je,u2={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},aa.NO_ERROR=0,aa.TIMEOUT=8,aa.HTTP_ERROR=6,M0=aa,ps.COMPLETE="complete",l3=ps,er.EventType=wt,wt.OPEN="a",wt.CLOSE="b",wt.ERROR="c",wt.MESSAGE="d",Qe.prototype.listen=Qe.prototype.J,Dd=er,Tn.prototype.listenOnce=Tn.prototype.K,Tn.prototype.getLastError=Tn.prototype.Ha,Tn.prototype.getLastErrorCode=Tn.prototype.ya,Tn.prototype.getStatus=Tn.prototype.ca,Tn.prototype.getResponseJson=Tn.prototype.La,Tn.prototype.getResponseText=Tn.prototype.la,Tn.prototype.send=Tn.prototype.ea,Tn.prototype.setWithCredentials=Tn.prototype.Fa,a3=Tn}).apply(typeof c0<"u"?c0:typeof self<"u"?self:typeof window<"u"?window:{});const ZS="@firebase/firestore",JS="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ki.UNAUTHENTICATED=new ki(null),ki.GOOGLE_CREDENTIALS=new ki("google-credentials-uid"),ki.FIRST_PARTY=new ki("first-party-uid"),ki.MOCK_USER=new ki("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let If="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wc=new wx("@firebase/firestore");function $u(){return Wc.logLevel}function ut(t,...e){if(Wc.logLevel<=yn.DEBUG){const n=e.map(Dx);Wc.debug(`Firestore (${If}): ${t}`,...n)}}function el(t,...e){if(Wc.logLevel<=yn.ERROR){const n=e.map(Dx);Wc.error(`Firestore (${If}): ${t}`,...n)}}function pf(t,...e){if(Wc.logLevel<=yn.WARN){const n=e.map(Dx);Wc.warn(`Firestore (${If}): ${t}`,...n)}}function Dx(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ut(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,d3(t,r,n)}function d3(t,e,n){let r=`FIRESTORE (${If}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw el(r),new Error(r)}function Un(t,e,n,r){let o="Unexpected state";typeof n=="string"?o=n:r=n,t||d3(e,o,r)}function $t(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class at extends oa{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h3{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class VV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(ki.UNAUTHENTICATED)))}shutdown(){}}class zV{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class jV{constructor(e){this.t=e,this.currentUser=ki.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Un(this.o===void 0,42304);let r=this.i;const o=E=>this.i!==r?(r=this.i,n(E)):Promise.resolve();let l=new qa;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new qa,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const E=l;e.enqueueRetryable((async()=>{await E.promise,await o(this.currentUser)}))},x=E=>{ut("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=E,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((E=>x(E))),setTimeout((()=>{if(!this.auth){const E=this.t.getImmediate({optional:!0});E?x(E):(ut("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new qa)}}),0),d()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(ut("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Un(typeof r.accessToken=="string",31837,{l:r}),new h3(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Un(e===null||typeof e=="string",2055,{h:e}),new ki(e)}}class HV{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=ki.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class GV{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new HV(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(ki.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class eA{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $V{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ms(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Un(this.o===void 0,3512);const r=l=>{l.error!=null&&ut("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const d=l.token!==this.m;return this.m=l.token,ut("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>r(l)))};const o=l=>{ut("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>o(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?o(l):ut("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new eA(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Un(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new eA(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qV(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=qV(40);for(let l=0;l<o.length;++l)r.length<20&&o[l]<n&&(r+=e.charAt(o[l]%62))}return r}}function xn(t,e){return t<e?-1:t>e?1:0}function f2(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const o=t.charAt(r),l=e.charAt(r);if(o!==l)return Ay(o)===Ay(l)?xn(o,l):Ay(o)?1:-1}return xn(t.length,e.length)}const WV=55296,YV=57343;function Ay(t){const e=t.charCodeAt(0);return e>=WV&&e<=YV}function gf(t,e,n){return t.length===e.length&&t.every(((r,o)=>n(r,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tA="__name__";class Fo{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ut(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ut(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Fo.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Fo?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let o=0;o<r;o++){const l=Fo.compareSegments(e.get(o),n.get(o));if(l!==0)return l}return xn(e.length,n.length)}static compareSegments(e,n){const r=Fo.isNumericId(e),o=Fo.isNumericId(n);return r&&!o?-1:!r&&o?1:r&&o?Fo.extractNumericId(e).compare(Fo.extractNumericId(n)):f2(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return $l.fromString(e.substring(4,e.length-2))}}class nr extends Fo{construct(e,n,r){return new nr(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new at(Pe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((o=>o.length>0)))}return new nr(n)}static emptyPath(){return new nr([])}}const XV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ai extends Fo{construct(e,n,r){return new Ai(e,n,r)}static isValidIdentifier(e){return XV.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ai.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===tA}static keyField(){return new Ai([tA])}static fromServerFormat(e){const n=[];let r="",o=0;const l=()=>{if(r.length===0)throw new at(Pe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let d=!1;for(;o<e.length;){const x=e[o];if(x==="\\"){if(o+1===e.length)throw new at(Pe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const E=e[o+1];if(E!=="\\"&&E!=="."&&E!=="`")throw new at(Pe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=E,o+=2}else x==="`"?(d=!d,o++):x!=="."||d?(r+=x,o++):(l(),o++)}if(l(),d)throw new at(Pe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ai(n)}static emptyPath(){return new Ai([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e){this.path=e}static fromPath(e){return new _t(nr.fromString(e))}static fromName(e){return new _t(nr.fromString(e).popFirst(5))}static empty(){return new _t(nr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return nr.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _t(new nr(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p3(t,e,n){if(!n)throw new at(Pe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function KV(t,e,n,r){if(e===!0&&r===!0)throw new at(Pe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function nA(t){if(!_t.isDocumentKey(t))throw new at(Pe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function rA(t){if(_t.isDocumentKey(t))throw new at(Pe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function g3(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function q1(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ut(12329,{type:typeof t})}function ta(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new at(Pe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=q1(t);throw new at(Pe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kr(t,e){const n={typeString:t};return e&&(n.value=e),n}function kh(t,e){if(!g3(t))throw new at(Pe.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const o=e[r].typeString,l="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const d=t[r];if(o&&typeof d!==o){n=`JSON field '${r}' must be a ${o}.`;break}if(l!==void 0&&d!==l.value){n=`Expected '${r}' field to equal '${l.value}'`;break}}if(n)throw new at(Pe.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iA=-62135596800,sA=1e6;class lr{static now(){return lr.fromMillis(Date.now())}static fromDate(e){return lr.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*sA);return new lr(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new at(Pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new at(Pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<iA)throw new at(Pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new at(Pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/sA}_compareTo(e){return this.seconds===e.seconds?xn(this.nanoseconds,e.nanoseconds):xn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:lr._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(kh(e,lr._jsonSchema))return new lr(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-iA;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}lr._jsonSchemaVersion="firestore/timestamp/1.0",lr._jsonSchema={type:Kr("string",lr._jsonSchemaVersion),seconds:Kr("number"),nanoseconds:Kr("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{static fromTimestamp(e){return new jt(e)}static min(){return new jt(new lr(0,0))}static max(){return new jt(new lr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oh=-1;function QV(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,o=jt.fromTimestamp(r===1e9?new lr(n+1,0):new lr(n,r));return new Zl(o,_t.empty(),e)}function ZV(t){return new Zl(t.readTime,t.key,oh)}class Zl{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Zl(jt.min(),_t.empty(),oh)}static max(){return new Zl(jt.max(),_t.empty(),oh)}}function JV(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=_t.comparator(t.documentKey,e.documentKey),n!==0?n:xn(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ez="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class tz{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rf(t){if(t.code!==Pe.FAILED_PRECONDITION||t.message!==ez)throw t;ut("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ut(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Ue(((r,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,o)},this.catchCallback=l=>{this.wrapFailure(n,l).next(r,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof Ue?n:Ue.resolve(n)}catch(n){return Ue.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):Ue.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):Ue.reject(n)}static resolve(e){return new Ue(((n,r)=>{n(e)}))}static reject(e){return new Ue(((n,r)=>{r(e)}))}static waitFor(e){return new Ue(((n,r)=>{let o=0,l=0,d=!1;e.forEach((x=>{++o,x.next((()=>{++l,d&&l===o&&n()}),(E=>r(E)))})),d=!0,l===o&&n()}))}static or(e){let n=Ue.resolve(!1);for(const r of e)n=n.next((o=>o?Ue.resolve(o):r()));return n}static forEach(e,n){const r=[];return e.forEach(((o,l)=>{r.push(n.call(this,o,l))})),this.waitFor(r)}static mapArray(e,n){return new Ue(((r,o)=>{const l=e.length,d=new Array(l);let x=0;for(let E=0;E<l;E++){const m=E;n(e[m]).next((w=>{d[m]=w,++x,x===l&&r(d)}),(w=>o(w)))}}))}static doWhile(e,n){return new Ue(((r,o)=>{const l=()=>{e()===!0?n().next((()=>{l()}),o):r()};l()}))}}function nz(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Nf(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}W1.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Px=-1;function Y1(t){return t==null}function s1(t){return t===0&&1/t==-1/0}function rz(t){return typeof t=="number"&&Number.isInteger(t)&&!s1(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m3="";function iz(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=oA(e)),e=sz(t.get(n),e);return oA(e)}function sz(t,e){let n=e;const r=t.length;for(let o=0;o<r;o++){const l=t.charAt(o);switch(l){case"\0":n+="";break;case m3:n+="";break;default:n+=l}}return n}function oA(t){return t+m3+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aA(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function oc(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function y3(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e,n){this.comparator=e,this.root=n||Ci.EMPTY}insert(e,n){return new br(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ci.BLACK,null,null))}remove(e){return new br(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ci.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new u0(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new u0(this.root,e,this.comparator,!1)}getReverseIterator(){return new u0(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new u0(this.root,e,this.comparator,!0)}}class u0{constructor(e,n,r,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?r(e.key,n):1,n&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ci{constructor(e,n,r,o,l){this.key=e,this.value=n,this.color=r??Ci.RED,this.left=o??Ci.EMPTY,this.right=l??Ci.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,o,l){return new Ci(e??this.key,n??this.value,r??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const l=r(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,n,r),null):l===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ci.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Ci.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ci.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ci.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ut(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ut(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ut(27949);return e+(this.isRed()?0:1)}}Ci.EMPTY=null,Ci.RED=!0,Ci.BLACK=!1;Ci.EMPTY=new class{constructor(){this.size=0}get key(){throw Ut(57766)}get value(){throw Ut(16141)}get color(){throw Ut(16727)}get left(){throw Ut(29726)}get right(){throw Ut(36894)}copy(e,n,r,o,l){return this}insert(e,n,r){return new Ci(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e){this.comparator=e,this.data=new br(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new lA(this.data.getIterator())}getIteratorFrom(e){return new lA(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof ei)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,l=r.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new ei(this.comparator);return n.data=e,n}}class lA{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e){this.fields=e,e.sort(Ai.comparator)}static empty(){return new Os([])}unionWith(e){let n=new ei(Ai.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Os(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return gf(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x3 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new x3("Invalid base64 string: "+l):l}})(e);return new _i(n)}static fromUint8Array(e){const n=(function(o){let l="";for(let d=0;d<o.length;++d)l+=String.fromCharCode(o[d]);return l})(e);return new _i(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}_i.EMPTY_BYTE_STRING=new _i("");const oz=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Jl(t){if(Un(!!t,39018),typeof t=="string"){let e=0;const n=oz.exec(t);if(Un(!!n,46558,{timestamp:t}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Fr(t.seconds),nanos:Fr(t.nanos)}}function Fr(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ec(t){return typeof t=="string"?_i.fromBase64String(t):_i.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E3="server_timestamp",v3="__type__",b3="__previous_value__",w3="__local_write_time__";function kx(t){return(t?.mapValue?.fields||{})[v3]?.stringValue===E3}function X1(t){const e=t.mapValue.fields[b3];return kx(e)?X1(e):e}function ah(t){const e=Jl(t.mapValue.fields[w3].timestampValue);return new lr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class az{constructor(e,n,r,o,l,d,x,E,m,w){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=l,this.forceLongPolling=d,this.autoDetectLongPolling=x,this.longPollingOptions=E,this.useFetchStreams=m,this.isUsingEmulator=w}}const o1="(default)";class lh{constructor(e,n){this.projectId=e,this.database=n||o1}static empty(){return new lh("","")}get isDefaultDatabase(){return this.database===o1}isEqual(e){return e instanceof lh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C3="__type__",lz="__max__",f0={mapValue:{}},S3="__vector__",a1="value";function tc(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?kx(t)?4:uz(t)?9007199254740991:cz(t)?10:11:Ut(28295,{value:t})}function na(t,e){if(t===e)return!0;const n=tc(t);if(n!==tc(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ah(t).isEqual(ah(e));case 3:return(function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const d=Jl(o.timestampValue),x=Jl(l.timestampValue);return d.seconds===x.seconds&&d.nanos===x.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(o,l){return ec(o.bytesValue).isEqual(ec(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(o,l){return Fr(o.geoPointValue.latitude)===Fr(l.geoPointValue.latitude)&&Fr(o.geoPointValue.longitude)===Fr(l.geoPointValue.longitude)})(t,e);case 2:return(function(o,l){if("integerValue"in o&&"integerValue"in l)return Fr(o.integerValue)===Fr(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const d=Fr(o.doubleValue),x=Fr(l.doubleValue);return d===x?s1(d)===s1(x):isNaN(d)&&isNaN(x)}return!1})(t,e);case 9:return gf(t.arrayValue.values||[],e.arrayValue.values||[],na);case 10:case 11:return(function(o,l){const d=o.mapValue.fields||{},x=l.mapValue.fields||{};if(aA(d)!==aA(x))return!1;for(const E in d)if(d.hasOwnProperty(E)&&(x[E]===void 0||!na(d[E],x[E])))return!1;return!0})(t,e);default:return Ut(52216,{left:t})}}function ch(t,e){return(t.values||[]).find((n=>na(n,e)))!==void 0}function mf(t,e){if(t===e)return 0;const n=tc(t),r=tc(e);if(n!==r)return xn(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return xn(t.booleanValue,e.booleanValue);case 2:return(function(l,d){const x=Fr(l.integerValue||l.doubleValue),E=Fr(d.integerValue||d.doubleValue);return x<E?-1:x>E?1:x===E?0:isNaN(x)?isNaN(E)?0:-1:1})(t,e);case 3:return cA(t.timestampValue,e.timestampValue);case 4:return cA(ah(t),ah(e));case 5:return f2(t.stringValue,e.stringValue);case 6:return(function(l,d){const x=ec(l),E=ec(d);return x.compareTo(E)})(t.bytesValue,e.bytesValue);case 7:return(function(l,d){const x=l.split("/"),E=d.split("/");for(let m=0;m<x.length&&m<E.length;m++){const w=xn(x[m],E[m]);if(w!==0)return w}return xn(x.length,E.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,d){const x=xn(Fr(l.latitude),Fr(d.latitude));return x!==0?x:xn(Fr(l.longitude),Fr(d.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return uA(t.arrayValue,e.arrayValue);case 10:return(function(l,d){const x=l.fields||{},E=d.fields||{},m=x[a1]?.arrayValue,w=E[a1]?.arrayValue,A=xn(m?.values?.length||0,w?.values?.length||0);return A!==0?A:uA(m,w)})(t.mapValue,e.mapValue);case 11:return(function(l,d){if(l===f0.mapValue&&d===f0.mapValue)return 0;if(l===f0.mapValue)return 1;if(d===f0.mapValue)return-1;const x=l.fields||{},E=Object.keys(x),m=d.fields||{},w=Object.keys(m);E.sort(),w.sort();for(let A=0;A<E.length&&A<w.length;++A){const I=f2(E[A],w[A]);if(I!==0)return I;const N=mf(x[E[A]],m[w[A]]);if(N!==0)return N}return xn(E.length,w.length)})(t.mapValue,e.mapValue);default:throw Ut(23264,{he:n})}}function cA(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return xn(t,e);const n=Jl(t),r=Jl(e),o=xn(n.seconds,r.seconds);return o!==0?o:xn(n.nanos,r.nanos)}function uA(t,e){const n=t.values||[],r=e.values||[];for(let o=0;o<n.length&&o<r.length;++o){const l=mf(n[o],r[o]);if(l)return l}return xn(n.length,r.length)}function yf(t){return d2(t)}function d2(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Jl(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return ec(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return _t.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",o=!0;for(const l of n.values||[])o?o=!1:r+=",",r+=d2(l);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let o="{",l=!0;for(const d of r)l?l=!1:o+=",",o+=`${d}:${d2(n.fields[d])}`;return o+"}"})(t.mapValue):Ut(61005,{value:t})}function O0(t){switch(tc(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=X1(t);return e?16+O0(e):16;case 5:return 2*t.stringValue.length;case 6:return ec(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,l)=>o+O0(l)),0)})(t.arrayValue);case 10:case 11:return(function(r){let o=0;return oc(r.fields,((l,d)=>{o+=l.length+O0(d)})),o})(t.mapValue);default:throw Ut(13486,{value:t})}}function fA(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function h2(t){return!!t&&"integerValue"in t}function Bx(t){return!!t&&"arrayValue"in t}function dA(t){return!!t&&"nullValue"in t}function hA(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function D0(t){return!!t&&"mapValue"in t}function cz(t){return(t?.mapValue?.fields||{})[C3]?.stringValue===S3}function $d(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return oc(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=$d(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=$d(t.arrayValue.values[n]);return e}return{...t}}function uz(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===lz}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(e){this.value=e}static empty(){return new ds({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!D0(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=$d(n)}setAll(e){let n=Ai.emptyPath(),r={},o=[];e.forEach(((d,x)=>{if(!n.isImmediateParentOf(x)){const E=this.getFieldsMap(n);this.applyChanges(E,r,o),r={},o=[],n=x.popLast()}d?r[x.lastSegment()]=$d(d):o.push(x.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,r,o)}delete(e){const n=this.field(e.popLast());D0(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return na(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=n.mapValue.fields[e.get(r)];D0(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,r){oc(n,((o,l)=>e[o]=l));for(const o of r)delete e[o]}clone(){return new ds($d(this.value))}}function A3(t){const e=[];return oc(t.fields,((n,r)=>{const o=new Ai([n]);if(D0(r)){const l=A3(r.mapValue).fields;if(l.length===0)e.push(o);else for(const d of l)e.push(o.child(d))}else e.push(o)})),new Os(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(e,n,r,o,l,d,x){this.key=e,this.documentType=n,this.version=r,this.readTime=o,this.createTime=l,this.data=d,this.documentState=x}static newInvalidDocument(e){return new Bi(e,0,jt.min(),jt.min(),jt.min(),ds.empty(),0)}static newFoundDocument(e,n,r,o){return new Bi(e,1,n,jt.min(),r,o,0)}static newNoDocument(e,n){return new Bi(e,2,n,jt.min(),jt.min(),ds.empty(),0)}static newUnknownDocument(e,n){return new Bi(e,3,n,jt.min(),jt.min(),ds.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(jt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ds.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ds.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=jt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Bi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Bi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(e,n){this.position=e,this.inclusive=n}}function pA(t,e,n){let r=0;for(let o=0;o<t.position.length;o++){const l=e[o],d=t.position[o];if(l.field.isKeyField()?r=_t.comparator(_t.fromName(d.referenceValue),n.key):r=mf(d,n.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function gA(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!na(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(e,n="asc"){this.field=e,this.dir=n}}function fz(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _3{}class Xr extends _3{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new hz(e,n,r):n==="array-contains"?new mz(e,r):n==="in"?new yz(e,r):n==="not-in"?new xz(e,r):n==="array-contains-any"?new Ez(e,r):new Xr(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new pz(e,r):new gz(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(mf(n,this.value)):n!==null&&tc(this.value)===tc(n)&&this.matchesComparison(mf(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ut(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Co extends _3{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Co(e,n)}matches(e){return T3(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function T3(t){return t.op==="and"}function I3(t){return dz(t)&&T3(t)}function dz(t){for(const e of t.filters)if(e instanceof Co)return!1;return!0}function p2(t){if(t instanceof Xr)return t.field.canonicalString()+t.op.toString()+yf(t.value);if(I3(t))return t.filters.map((e=>p2(e))).join(",");{const e=t.filters.map((n=>p2(n))).join(",");return`${t.op}(${e})`}}function R3(t,e){return t instanceof Xr?(function(r,o){return o instanceof Xr&&r.op===o.op&&r.field.isEqual(o.field)&&na(r.value,o.value)})(t,e):t instanceof Co?(function(r,o){return o instanceof Co&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((l,d,x)=>l&&R3(d,o.filters[x])),!0):!1})(t,e):void Ut(19439)}function N3(t){return t instanceof Xr?(function(n){return`${n.field.canonicalString()} ${n.op} ${yf(n.value)}`})(t):t instanceof Co?(function(n){return n.op.toString()+" {"+n.getFilters().map(N3).join(" ,")+"}"})(t):"Filter"}class hz extends Xr{constructor(e,n,r){super(e,n,r),this.key=_t.fromName(r.referenceValue)}matches(e){const n=_t.comparator(e.key,this.key);return this.matchesComparison(n)}}class pz extends Xr{constructor(e,n){super(e,"in",n),this.keys=M3("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class gz extends Xr{constructor(e,n){super(e,"not-in",n),this.keys=M3("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function M3(t,e){return(e.arrayValue?.values||[]).map((n=>_t.fromName(n.referenceValue)))}class mz extends Xr{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Bx(n)&&ch(n.arrayValue,this.value)}}class yz extends Xr{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ch(this.value.arrayValue,n)}}class xz extends Xr{constructor(e,n){super(e,"not-in",n)}matches(e){if(ch(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ch(this.value.arrayValue,n)}}class Ez extends Xr{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Bx(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>ch(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vz{constructor(e,n=null,r=[],o=[],l=null,d=null,x=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=l,this.startAt=d,this.endAt=x,this.Te=null}}function mA(t,e=null,n=[],r=[],o=null,l=null,d=null){return new vz(t,e,n,r,o,l,d)}function Ux(t){const e=$t(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>p2(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(l){return l.field.canonicalString()+l.dir})(r))).join(","),Y1(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>yf(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>yf(r))).join(",")),e.Te=n}return e.Te}function Fx(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!fz(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!R3(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!gA(t.startAt,e.startAt)&&gA(t.endAt,e.endAt)}function g2(t){return _t.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e,n=null,r=[],o=[],l=null,d="F",x=null,E=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=l,this.limitType=d,this.startAt=x,this.endAt=E,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function bz(t,e,n,r,o,l,d,x){return new Bh(t,e,n,r,o,l,d,x)}function Vx(t){return new Bh(t)}function yA(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function O3(t){return t.collectionGroup!==null}function qd(t){const e=$t(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let x=new ei(Ai.comparator);return d.filters.forEach((E=>{E.getFlattenedFilters().forEach((m=>{m.isInequality()&&(x=x.add(m.field))}))})),x})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new c1(l,r))})),n.has(Ai.keyField().canonicalString())||e.Ie.push(new c1(Ai.keyField(),r))}return e.Ie}function Qo(t){const e=$t(t);return e.Ee||(e.Ee=wz(e,qd(t))),e.Ee}function wz(t,e){if(t.limitType==="F")return mA(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((o=>{const l=o.dir==="desc"?"asc":"desc";return new c1(o.field,l)}));const n=t.endAt?new l1(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new l1(t.startAt.position,t.startAt.inclusive):null;return mA(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function m2(t,e){const n=t.filters.concat([e]);return new Bh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function y2(t,e,n){return new Bh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function K1(t,e){return Fx(Qo(t),Qo(e))&&t.limitType===e.limitType}function D3(t){return`${Ux(Qo(t))}|lt:${t.limitType}`}function qu(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((o=>N3(o))).join(", ")}]`),Y1(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((o=>yf(o))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((o=>yf(o))).join(",")),`Target(${r})`})(Qo(t))}; limitType=${t.limitType})`}function Q1(t,e){return e.isFoundDocument()&&(function(r,o){const l=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):_t.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)})(t,e)&&(function(r,o){for(const l of qd(r))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(r,o){for(const l of r.filters)if(!l.matches(o))return!1;return!0})(t,e)&&(function(r,o){return!(r.startAt&&!(function(d,x,E){const m=pA(d,x,E);return d.inclusive?m<=0:m<0})(r.startAt,qd(r),o)||r.endAt&&!(function(d,x,E){const m=pA(d,x,E);return d.inclusive?m>=0:m>0})(r.endAt,qd(r),o))})(t,e)}function Cz(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function L3(t){return(e,n)=>{let r=!1;for(const o of qd(t)){const l=Sz(o,e,n);if(l!==0)return l;r=r||o.field.isKeyField()}return 0}}function Sz(t,e,n){const r=t.field.isKeyField()?_t.comparator(e.key,n.key):(function(l,d,x){const E=d.data.field(l),m=x.data.field(l);return E!==null&&m!==null?mf(E,m):Ut(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ut(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[o,l]of r)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){oc(this.inner,((n,r)=>{for(const[o,l]of r)e(o,l)}))}isEmpty(){return y3(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Az=new br(_t.comparator);function tl(){return Az}const P3=new br(_t.comparator);function Ld(...t){let e=P3;for(const n of t)e=e.insert(n.key,n);return e}function k3(t){let e=P3;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Fc(){return Wd()}function B3(){return Wd()}function Wd(){return new ru((t=>t.toString()),((t,e)=>t.isEqual(e)))}const _z=new br(_t.comparator),Tz=new ei(_t.comparator);function En(...t){let e=Tz;for(const n of t)e=e.add(n);return e}const Iz=new ei(xn);function Rz(){return Iz}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zx(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:s1(e)?"-0":e}}function U3(t){return{integerValue:""+t}}function Nz(t,e){return rz(e)?U3(e):zx(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(){this._=void 0}}function Mz(t,e,n){return t instanceof uh?(function(o,l){const d={fields:{[v3]:{stringValue:E3},[w3]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&kx(l)&&(l=X1(l)),l&&(d.fields[b3]=l),{mapValue:d}})(n,e):t instanceof fh?V3(t,e):t instanceof dh?z3(t,e):(function(o,l){const d=F3(o,l),x=xA(d)+xA(o.Ae);return h2(d)&&h2(o.Ae)?U3(x):zx(o.serializer,x)})(t,e)}function Oz(t,e,n){return t instanceof fh?V3(t,e):t instanceof dh?z3(t,e):n}function F3(t,e){return t instanceof u1?(function(r){return h2(r)||(function(l){return!!l&&"doubleValue"in l})(r)})(e)?e:{integerValue:0}:null}class uh extends Z1{}class fh extends Z1{constructor(e){super(),this.elements=e}}function V3(t,e){const n=j3(e);for(const r of t.elements)n.some((o=>na(o,r)))||n.push(r);return{arrayValue:{values:n}}}class dh extends Z1{constructor(e){super(),this.elements=e}}function z3(t,e){let n=j3(e);for(const r of t.elements)n=n.filter((o=>!na(o,r)));return{arrayValue:{values:n}}}class u1 extends Z1{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function xA(t){return Fr(t.integerValue||t.doubleValue)}function j3(t){return Bx(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dz{constructor(e,n){this.field=e,this.transform=n}}function Lz(t,e){return t.field.isEqual(e.field)&&(function(r,o){return r instanceof fh&&o instanceof fh||r instanceof dh&&o instanceof dh?gf(r.elements,o.elements,na):r instanceof u1&&o instanceof u1?na(r.Ae,o.Ae):r instanceof uh&&o instanceof uh})(t.transform,e.transform)}class Pz{constructor(e,n){this.version=e,this.transformResults=n}}class xo{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new xo}static exists(e){return new xo(void 0,e)}static updateTime(e){return new xo(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function L0(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class J1{}function H3(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new $3(t.key,xo.none()):new Uh(t.key,t.data,xo.none());{const n=t.data,r=ds.empty();let o=new ei(Ai.comparator);for(let l of e.fields)if(!o.has(l)){let d=n.field(l);d===null&&l.length>1&&(l=l.popLast(),d=n.field(l)),d===null?r.delete(l):r.set(l,d),o=o.add(l)}return new ac(t.key,r,new Os(o.toArray()),xo.none())}}function kz(t,e,n){t instanceof Uh?(function(o,l,d){const x=o.value.clone(),E=vA(o.fieldTransforms,l,d.transformResults);x.setAll(E),l.convertToFoundDocument(d.version,x).setHasCommittedMutations()})(t,e,n):t instanceof ac?(function(o,l,d){if(!L0(o.precondition,l))return void l.convertToUnknownDocument(d.version);const x=vA(o.fieldTransforms,l,d.transformResults),E=l.data;E.setAll(G3(o)),E.setAll(x),l.convertToFoundDocument(d.version,E).setHasCommittedMutations()})(t,e,n):(function(o,l,d){l.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,n)}function Yd(t,e,n,r){return t instanceof Uh?(function(l,d,x,E){if(!L0(l.precondition,d))return x;const m=l.value.clone(),w=bA(l.fieldTransforms,E,d);return m.setAll(w),d.convertToFoundDocument(d.version,m).setHasLocalMutations(),null})(t,e,n,r):t instanceof ac?(function(l,d,x,E){if(!L0(l.precondition,d))return x;const m=bA(l.fieldTransforms,E,d),w=d.data;return w.setAll(G3(l)),w.setAll(m),d.convertToFoundDocument(d.version,w).setHasLocalMutations(),x===null?null:x.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((A=>A.field)))})(t,e,n,r):(function(l,d,x){return L0(l.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):x})(t,e,n)}function Bz(t,e){let n=null;for(const r of t.fieldTransforms){const o=e.data.field(r.field),l=F3(r.transform,o||null);l!=null&&(n===null&&(n=ds.empty()),n.set(r.field,l))}return n||null}function EA(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&gf(r,o,((l,d)=>Lz(l,d)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Uh extends J1{constructor(e,n,r,o=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ac extends J1{constructor(e,n,r,o,l=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function G3(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function vA(t,e,n){const r=new Map;Un(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let o=0;o<n.length;o++){const l=t[o],d=l.transform,x=e.data.field(l.field);r.set(l.field,Oz(d,x,n[o]))}return r}function bA(t,e,n){const r=new Map;for(const o of t){const l=o.transform,d=n.data.field(o.field);r.set(o.field,Mz(l,d,e))}return r}class $3 extends J1{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Uz extends J1{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fz{constructor(e,n,r,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&kz(l,e,r[o])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Yd(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Yd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=B3();return this.mutations.forEach((o=>{const l=e.get(o.key),d=l.overlayedDocument;let x=this.applyToLocalView(d,l.mutatedFields);x=n.has(o.key)?null:x;const E=H3(d,x);E!==null&&r.set(o.key,E),d.isValidDocument()||d.convertToNoDocument(jt.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),En())}isEqual(e){return this.batchId===e.batchId&&gf(this.mutations,e.mutations,((n,r)=>EA(n,r)))&&gf(this.baseMutations,e.baseMutations,((n,r)=>EA(n,r)))}}class jx{constructor(e,n,r,o){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(e,n,r){Un(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return _z})();const l=e.mutations;for(let d=0;d<l.length;d++)o=o.insert(l[d].key,r[d].version);return new jx(e,n,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vz{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zz{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wr,Sn;function jz(t){switch(t){case Pe.OK:return Ut(64938);case Pe.CANCELLED:case Pe.UNKNOWN:case Pe.DEADLINE_EXCEEDED:case Pe.RESOURCE_EXHAUSTED:case Pe.INTERNAL:case Pe.UNAVAILABLE:case Pe.UNAUTHENTICATED:return!1;case Pe.INVALID_ARGUMENT:case Pe.NOT_FOUND:case Pe.ALREADY_EXISTS:case Pe.PERMISSION_DENIED:case Pe.FAILED_PRECONDITION:case Pe.ABORTED:case Pe.OUT_OF_RANGE:case Pe.UNIMPLEMENTED:case Pe.DATA_LOSS:return!0;default:return Ut(15467,{code:t})}}function q3(t){if(t===void 0)return el("GRPC error has no .code"),Pe.UNKNOWN;switch(t){case Wr.OK:return Pe.OK;case Wr.CANCELLED:return Pe.CANCELLED;case Wr.UNKNOWN:return Pe.UNKNOWN;case Wr.DEADLINE_EXCEEDED:return Pe.DEADLINE_EXCEEDED;case Wr.RESOURCE_EXHAUSTED:return Pe.RESOURCE_EXHAUSTED;case Wr.INTERNAL:return Pe.INTERNAL;case Wr.UNAVAILABLE:return Pe.UNAVAILABLE;case Wr.UNAUTHENTICATED:return Pe.UNAUTHENTICATED;case Wr.INVALID_ARGUMENT:return Pe.INVALID_ARGUMENT;case Wr.NOT_FOUND:return Pe.NOT_FOUND;case Wr.ALREADY_EXISTS:return Pe.ALREADY_EXISTS;case Wr.PERMISSION_DENIED:return Pe.PERMISSION_DENIED;case Wr.FAILED_PRECONDITION:return Pe.FAILED_PRECONDITION;case Wr.ABORTED:return Pe.ABORTED;case Wr.OUT_OF_RANGE:return Pe.OUT_OF_RANGE;case Wr.UNIMPLEMENTED:return Pe.UNIMPLEMENTED;case Wr.DATA_LOSS:return Pe.DATA_LOSS;default:return Ut(39323,{code:t})}}(Sn=Wr||(Wr={}))[Sn.OK=0]="OK",Sn[Sn.CANCELLED=1]="CANCELLED",Sn[Sn.UNKNOWN=2]="UNKNOWN",Sn[Sn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Sn[Sn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Sn[Sn.NOT_FOUND=5]="NOT_FOUND",Sn[Sn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Sn[Sn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Sn[Sn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Sn[Sn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Sn[Sn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Sn[Sn.ABORTED=10]="ABORTED",Sn[Sn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Sn[Sn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Sn[Sn.INTERNAL=13]="INTERNAL",Sn[Sn.UNAVAILABLE=14]="UNAVAILABLE",Sn[Sn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hz(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gz=new $l([4294967295,4294967295],0);function wA(t){const e=Hz().encode(t),n=new o3;return n.update(e),new Uint8Array(n.digest())}function CA(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new $l([n,r],0),new $l([o,l],0)]}class Hx{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Pd(`Invalid padding: ${n}`);if(r<0)throw new Pd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Pd(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Pd(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=$l.fromNumber(this.ge)}ye(e,n,r){let o=e.add(n.multiply($l.fromNumber(r)));return o.compare(Gz)===1&&(o=new $l([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=wA(e),[r,o]=CA(n);for(let l=0;l<this.hashCount;l++){const d=this.ye(r,o,l);if(!this.we(d))return!1}return!0}static create(e,n,r){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),d=new Hx(l,o,n);return r.forEach((x=>d.insert(x))),d}insert(e){if(this.ge===0)return;const n=wA(e),[r,o]=CA(n);for(let l=0;l<this.hashCount;l++){const d=this.ye(r,o,l);this.Se(d)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Pd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(e,n,r,o,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const o=new Map;return o.set(e,Fh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new eg(jt.min(),o,new br(xn),tl(),En())}}class Fh{constructor(e,n,r,o,l){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Fh(r,n,En(),En(),En())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(e,n,r,o){this.be=e,this.removedTargetIds=n,this.key=r,this.De=o}}class W3{constructor(e,n){this.targetId=e,this.Ce=n}}class Y3{constructor(e,n,r=_i.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=o}}class SA{constructor(){this.ve=0,this.Fe=AA(),this.Me=_i.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=En(),n=En(),r=En();return this.Fe.forEach(((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:Ut(38017,{changeType:l})}})),new Fh(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=AA()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Un(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class $z{constructor(e){this.Ge=e,this.ze=new Map,this.je=tl(),this.Je=d0(),this.He=d0(),this.Ye=new br(xn)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ut(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,r=e.Ce.count,o=this.ot(n);if(o){const l=o.target;if(g2(l))if(r===0){const d=new _t(l.path);this.et(n,d,Bi.newNoDocument(d,jt.min()))}else Un(r===1,20013,{expectedCount:r});else{const d=this._t(n);if(d!==r){const x=this.ut(e),E=x?this.ct(x,e,d):1;if(E!==0){this.it(n);const m=E===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,m)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:l=0}=n;let d,x;try{d=ec(r).toUint8Array()}catch(E){if(E instanceof x3)return pf("Decoding the base64 bloom filter in existence filter failed ("+E.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw E}try{x=new Hx(d,o,l)}catch(E){return pf(E instanceof Pd?"BloomFilter error: ":"Applying bloom filter failed: ",E),null}return x.ge===0?null:x}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let o=0;return r.forEach((l=>{const d=this.Ge.ht(),x=`projects/${d.projectId}/databases/${d.database}/documents/${l.path.canonicalString()}`;e.mightContain(x)||(this.et(n,l,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((l,d)=>{const x=this.ot(d);if(x){if(l.current&&g2(x.target)){const E=new _t(x.target.path);this.It(E).has(d)||this.Et(d,E)||this.et(d,E,Bi.newNoDocument(E,e))}l.Be&&(n.set(d,l.ke()),l.qe())}}));let r=En();this.He.forEach(((l,d)=>{let x=!0;d.forEachWhile((E=>{const m=this.ot(E);return!m||m.purpose==="TargetPurposeLimboResolution"||(x=!1,!1)})),x&&(r=r.add(l))})),this.je.forEach(((l,d)=>d.setReadTime(e)));const o=new eg(e,n,this.Ye,this.je,r);return this.je=tl(),this.Je=d0(),this.He=d0(),this.Ye=new br(xn),o}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new SA,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new ei(xn),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new ei(xn),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ut("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new SA),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function d0(){return new br(_t.comparator)}function AA(){return new br(_t.comparator)}const qz={asc:"ASCENDING",desc:"DESCENDING"},Wz={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Yz={and:"AND",or:"OR"};class Xz{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function x2(t,e){return t.useProto3Json||Y1(e)?e:{value:e}}function f1(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function X3(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Kz(t,e){return f1(t,e.toTimestamp())}function Zo(t){return Un(!!t,49232),jt.fromTimestamp((function(n){const r=Jl(n);return new lr(r.seconds,r.nanos)})(t))}function Gx(t,e){return E2(t,e).canonicalString()}function E2(t,e){const n=(function(o){return new nr(["projects",o.projectId,"databases",o.database])})(t).child("documents");return e===void 0?n:n.child(e)}function K3(t){const e=nr.fromString(t);return Un(tR(e),10190,{key:e.toString()}),e}function v2(t,e){return Gx(t.databaseId,e.path)}function _y(t,e){const n=K3(e);if(n.get(1)!==t.databaseId.projectId)throw new at(Pe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new at(Pe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new _t(Z3(n))}function Q3(t,e){return Gx(t.databaseId,e)}function Qz(t){const e=K3(t);return e.length===4?nr.emptyPath():Z3(e)}function b2(t){return new nr(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Z3(t){return Un(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function _A(t,e,n){return{name:v2(t,e),fields:n.value.mapValue.fields}}function Zz(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Ut(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=(function(m,w){return m.useProto3Json?(Un(w===void 0||typeof w=="string",58123),_i.fromBase64String(w||"")):(Un(w===void 0||w instanceof Buffer||w instanceof Uint8Array,16193),_i.fromUint8Array(w||new Uint8Array))})(t,e.targetChange.resumeToken),d=e.targetChange.cause,x=d&&(function(m){const w=m.code===void 0?Pe.UNKNOWN:q3(m.code);return new at(w,m.message||"")})(d);n=new Y3(r,o,l,x||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=_y(t,r.document.name),l=Zo(r.document.updateTime),d=r.document.createTime?Zo(r.document.createTime):jt.min(),x=new ds({mapValue:{fields:r.document.fields}}),E=Bi.newFoundDocument(o,l,d,x),m=r.targetIds||[],w=r.removedTargetIds||[];n=new P0(m,w,E.key,E)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=_y(t,r.document),l=r.readTime?Zo(r.readTime):jt.min(),d=Bi.newNoDocument(o,l),x=r.removedTargetIds||[];n=new P0([],x,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=_y(t,r.document),l=r.removedTargetIds||[];n=new P0([],l,o,null)}else{if(!("filter"in e))return Ut(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:l}=r,d=new zz(o,l),x=r.targetId;n=new W3(x,d)}}return n}function Jz(t,e){let n;if(e instanceof Uh)n={update:_A(t,e.key,e.value)};else if(e instanceof $3)n={delete:v2(t,e.key)};else if(e instanceof ac)n={update:_A(t,e.key,e.data),updateMask:lj(e.fieldMask)};else{if(!(e instanceof Uz))return Ut(16599,{Vt:e.type});n={verify:v2(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(l,d){const x=d.transform;if(x instanceof uh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(x instanceof fh)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:x.elements}};if(x instanceof dh)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:x.elements}};if(x instanceof u1)return{fieldPath:d.field.canonicalString(),increment:x.Ae};throw Ut(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(o,l){return l.updateTime!==void 0?{updateTime:Kz(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ut(27497)})(t,e.precondition)),n}function ej(t,e){return t&&t.length>0?(Un(e!==void 0,14353),t.map((n=>(function(o,l){let d=o.updateTime?Zo(o.updateTime):Zo(l);return d.isEqual(jt.min())&&(d=Zo(l)),new Pz(d,o.transformResults||[])})(n,e)))):[]}function tj(t,e){return{documents:[Q3(t,e.path)]}}function nj(t,e){const n={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Q3(t,o);const l=(function(m){if(m.length!==0)return eR(Co.create(m,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const d=(function(m){if(m.length!==0)return m.map((w=>(function(I){return{field:Wu(I.field),direction:sj(I.dir)}})(w)))})(e.orderBy);d&&(n.structuredQuery.orderBy=d);const x=x2(t,e.limit);return x!==null&&(n.structuredQuery.limit=x),e.startAt&&(n.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{ft:n,parent:o}}function rj(t){let e=Qz(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){Un(r===1,65062);const w=n.from[0];w.allDescendants?o=w.collectionId:e=e.child(w.collectionId)}let l=[];n.where&&(l=(function(A){const I=J3(A);return I instanceof Co&&I3(I)?I.getFilters():[I]})(n.where));let d=[];n.orderBy&&(d=(function(A){return A.map((I=>(function(M){return new c1(Yu(M.field),(function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(M.direction))})(I)))})(n.orderBy));let x=null;n.limit&&(x=(function(A){let I;return I=typeof A=="object"?A.value:A,Y1(I)?null:I})(n.limit));let E=null;n.startAt&&(E=(function(A){const I=!!A.before,N=A.values||[];return new l1(N,I)})(n.startAt));let m=null;return n.endAt&&(m=(function(A){const I=!A.before,N=A.values||[];return new l1(N,I)})(n.endAt)),bz(e,o,d,l,x,"F",E,m)}function ij(t,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ut(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function J3(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Yu(n.unaryFilter.field);return Xr.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Yu(n.unaryFilter.field);return Xr.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Yu(n.unaryFilter.field);return Xr.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Yu(n.unaryFilter.field);return Xr.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ut(61313);default:return Ut(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Xr.create(Yu(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ut(58110);default:return Ut(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Co.create(n.compositeFilter.filters.map((r=>J3(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ut(1026)}})(n.compositeFilter.op))})(t):Ut(30097,{filter:t})}function sj(t){return qz[t]}function oj(t){return Wz[t]}function aj(t){return Yz[t]}function Wu(t){return{fieldPath:t.canonicalString()}}function Yu(t){return Ai.fromServerFormat(t.fieldPath)}function eR(t){return t instanceof Xr?(function(n){if(n.op==="=="){if(hA(n.value))return{unaryFilter:{field:Wu(n.field),op:"IS_NAN"}};if(dA(n.value))return{unaryFilter:{field:Wu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(hA(n.value))return{unaryFilter:{field:Wu(n.field),op:"IS_NOT_NAN"}};if(dA(n.value))return{unaryFilter:{field:Wu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wu(n.field),op:oj(n.op),value:n.value}}})(t):t instanceof Co?(function(n){const r=n.getFilters().map((o=>eR(o)));return r.length===1?r[0]:{compositeFilter:{op:aj(n.op),filters:r}}})(t):Ut(54877,{filter:t})}function lj(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function tR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(e,n,r,o,l=jt.min(),d=jt.min(),x=_i.EMPTY_BYTE_STRING,E=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=x,this.expectedCount=E}withSequenceNumber(e){return new Vl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Vl(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Vl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Vl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cj{constructor(e){this.yt=e}}function uj(t){const e=rj({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?y2(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fj{constructor(){this.Cn=new dj}addToCollectionParentIndex(e,n){return this.Cn.add(n),Ue.resolve()}getCollectionParents(e,n){return Ue.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Ue.resolve()}deleteFieldIndex(e,n){return Ue.resolve()}deleteAllFieldIndexes(e){return Ue.resolve()}createTargetIndexes(e,n){return Ue.resolve()}getDocumentsMatchingTarget(e,n){return Ue.resolve(null)}getIndexType(e,n){return Ue.resolve(0)}getFieldIndexes(e,n){return Ue.resolve([])}getNextCollectionGroupToUpdate(e){return Ue.resolve(null)}getMinOffset(e,n){return Ue.resolve(Zl.min())}getMinOffsetFromCollectionGroup(e,n){return Ue.resolve(Zl.min())}updateCollectionGroup(e,n,r){return Ue.resolve()}updateIndexEntries(e,n){return Ue.resolve()}}class dj{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n]||new ei(nr.comparator),l=!o.has(r);return this.index[n]=o.add(r),l}has(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(e){return(this.index[e]||new ei(nr.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},nR=41943040;class us{static withCacheSize(e){return new us(e,us.DEFAULT_COLLECTION_PERCENTILE,us.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */us.DEFAULT_COLLECTION_PERCENTILE=10,us.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,us.DEFAULT=new us(nR,us.DEFAULT_COLLECTION_PERCENTILE,us.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),us.DISABLED=new us(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new xf(0)}static cr(){return new xf(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IA="LruGarbageCollector",hj=1048576;function RA([t,e],[n,r]){const o=xn(t,n);return o===0?xn(e,r):o}class pj{constructor(e){this.Ir=e,this.buffer=new ei(RA),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();RA(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class gj{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ut(IA,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Nf(n)?ut(IA,"Ignoring IndexedDB error during garbage collection: ",n):await Rf(n)}await this.Vr(3e5)}))}}class mj{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return Ue.resolve(W1.ce);const r=new pj(n);return this.mr.forEachTarget(e,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ut("LruGarbageCollector","Garbage collection skipped; disabled"),Ue.resolve(TA)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ut("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),TA):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,o,l,d,x,E,m;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(ut("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,d=Date.now(),this.nthSequenceNumber(e,o)))).next((A=>(r=A,x=Date.now(),this.removeTargets(e,r,n)))).next((A=>(l=A,E=Date.now(),this.removeOrphanedDocuments(e,r)))).next((A=>(m=Date.now(),$u()<=yn.DEBUG&&ut("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-w}ms
	Determined least recently used ${o} in `+(x-d)+`ms
	Removed ${l} targets in `+(E-x)+`ms
	Removed ${A} documents in `+(m-E)+`ms
Total Duration: ${m-w}ms`),Ue.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:A}))))}}function yj(t,e){return new mj(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xj{constructor(){this.changes=new ru((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Bi.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Ue.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ej{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vj{constructor(e,n,r,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(r!==null&&Yd(r.mutation,o,Os.empty(),lr.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,En()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=En()){const o=Fc();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,r).next((l=>{let d=Ld();return l.forEach(((x,E)=>{d=d.insert(x,E.overlayedDocument)})),d}))))}getOverlayedDocuments(e,n){const r=Fc();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,En())))}populateOverlays(e,n,r){const o=[];return r.forEach((l=>{n.has(l)||o.push(l)})),this.documentOverlayCache.getOverlays(e,o).next((l=>{l.forEach(((d,x)=>{n.set(d,x)}))}))}computeViews(e,n,r,o){let l=tl();const d=Wd(),x=(function(){return Wd()})();return n.forEach(((E,m)=>{const w=r.get(m.key);o.has(m.key)&&(w===void 0||w.mutation instanceof ac)?l=l.insert(m.key,m):w!==void 0?(d.set(m.key,w.mutation.getFieldMask()),Yd(w.mutation,m,w.mutation.getFieldMask(),lr.now())):d.set(m.key,Os.empty())})),this.recalculateAndSaveOverlays(e,l).next((E=>(E.forEach(((m,w)=>d.set(m,w))),n.forEach(((m,w)=>x.set(m,new Ej(w,d.get(m)??null)))),x)))}recalculateAndSaveOverlays(e,n){const r=Wd();let o=new br(((d,x)=>d-x)),l=En();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((d=>{for(const x of d)x.keys().forEach((E=>{const m=n.get(E);if(m===null)return;let w=r.get(E)||Os.empty();w=x.applyToLocalView(m,w),r.set(E,w);const A=(o.get(x.batchId)||En()).add(E);o=o.insert(x.batchId,A)}))})).next((()=>{const d=[],x=o.getReverseIterator();for(;x.hasNext();){const E=x.getNext(),m=E.key,w=E.value,A=B3();w.forEach((I=>{if(!l.has(I)){const N=H3(n.get(I),r.get(I));N!==null&&A.set(I,N),l=l.add(I)}})),d.push(this.documentOverlayCache.saveOverlays(e,m,A))}return Ue.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,o){return(function(d){return _t.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):O3(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,o):this.getDocumentsMatchingCollectionQuery(e,n,r,o)}getNextDocuments(e,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,o).next((l=>{const d=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,o-l.size):Ue.resolve(Fc());let x=oh,E=l;return d.next((m=>Ue.forEach(m,((w,A)=>(x<A.largestBatchId&&(x=A.largestBatchId),l.get(w)?Ue.resolve():this.remoteDocumentCache.getEntry(e,w).next((I=>{E=E.insert(w,I)}))))).next((()=>this.populateOverlays(e,m,l))).next((()=>this.computeViews(e,E,m,En()))).next((w=>({batchId:x,changes:k3(w)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new _t(n)).next((r=>{let o=Ld();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,o){const l=n.collectionGroup;let d=Ld();return this.indexManager.getCollectionParents(e,l).next((x=>Ue.forEach(x,(E=>{const m=(function(A,I){return new Bh(I,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(n,E.child(l));return this.getDocumentsMatchingCollectionQuery(e,m,r,o).next((w=>{w.forEach(((A,I)=>{d=d.insert(A,I)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,n,r,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((d=>(l=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,l,o)))).next((d=>{l.forEach(((E,m)=>{const w=m.getKey();d.get(w)===null&&(d=d.insert(w,Bi.newInvalidDocument(w)))}));let x=Ld();return d.forEach(((E,m)=>{const w=l.get(E);w!==void 0&&Yd(w.mutation,m,Os.empty(),lr.now()),Q1(n,m)&&(x=x.insert(E,m))})),x}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bj{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return Ue.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Zo(o.createTime)}})(n)),Ue.resolve()}getNamedQuery(e,n){return Ue.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:uj(o.bundledQuery),readTime:Zo(o.readTime)}})(n)),Ue.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wj{constructor(){this.overlays=new br(_t.comparator),this.qr=new Map}getOverlay(e,n){return Ue.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Fc();return Ue.forEach(n,(o=>this.getOverlay(e,o).next((l=>{l!==null&&r.set(o,l)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((o,l)=>{this.St(e,n,l)})),Ue.resolve()}removeOverlaysForBatchId(e,n,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(r)),Ue.resolve()}getOverlaysForCollection(e,n,r){const o=Fc(),l=n.length+1,d=new _t(n.child("")),x=this.overlays.getIteratorFrom(d);for(;x.hasNext();){const E=x.getNext().value,m=E.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===l&&E.largestBatchId>r&&o.set(E.getKey(),E)}return Ue.resolve(o)}getOverlaysForCollectionGroup(e,n,r,o){let l=new br(((m,w)=>m-w));const d=this.overlays.getIterator();for(;d.hasNext();){const m=d.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>r){let w=l.get(m.largestBatchId);w===null&&(w=Fc(),l=l.insert(m.largestBatchId,w)),w.set(m.getKey(),m)}}const x=Fc(),E=l.getIterator();for(;E.hasNext()&&(E.getNext().value.forEach(((m,w)=>x.set(m,w))),!(x.size()>=o)););return Ue.resolve(x)}St(e,n,r){const o=this.overlays.get(r.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new Vz(n,r));let l=this.qr.get(n);l===void 0&&(l=En(),this.qr.set(n,l)),this.qr.set(n,l.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cj{constructor(){this.sessionToken=_i.EMPTY_BYTE_STRING}getSessionToken(e){return Ue.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Ue.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(){this.Qr=new ei(si.$r),this.Ur=new ei(si.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new si(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new si(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new _t(new nr([])),r=new si(n,e),o=new si(n,e+1),l=[];return this.Ur.forEachInRange([r,o],(d=>{this.Gr(d),l.push(d.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new _t(new nr([])),r=new si(n,e),o=new si(n,e+1);let l=En();return this.Ur.forEachInRange([r,o],(d=>{l=l.add(d.key)})),l}containsKey(e){const n=new si(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class si{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return _t.comparator(e.key,n.key)||xn(e.Yr,n.Yr)}static Kr(e,n){return xn(e.Yr,n.Yr)||_t.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sj{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new ei(si.$r)}checkEmpty(e){return Ue.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,o){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new Fz(l,n,r,o);this.mutationQueue.push(d);for(const x of o)this.Zr=this.Zr.add(new si(x.key,l)),this.indexManager.addToCollectionParentIndex(e,x.key.path.popLast());return Ue.resolve(d)}lookupMutationBatch(e,n){return Ue.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,o=this.ei(r),l=o<0?0:o;return Ue.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return Ue.resolve(this.mutationQueue.length===0?Px:this.tr-1)}getAllMutationBatches(e){return Ue.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new si(n,0),o=new si(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([r,o],(d=>{const x=this.Xr(d.Yr);l.push(x)})),Ue.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ei(xn);return n.forEach((o=>{const l=new si(o,0),d=new si(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,d],(x=>{r=r.add(x.Yr)}))})),Ue.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,o=r.length+1;let l=r;_t.isDocumentKey(l)||(l=l.child(""));const d=new si(new _t(l),0);let x=new ei(xn);return this.Zr.forEachWhile((E=>{const m=E.key.path;return!!r.isPrefixOf(m)&&(m.length===o&&(x=x.add(E.Yr)),!0)}),d),Ue.resolve(this.ti(x))}ti(e){const n=[];return e.forEach((r=>{const o=this.Xr(r);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Un(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Ue.forEach(n.mutations,(o=>{const l=new si(o.key,n.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new si(n,0),o=this.Zr.firstAfterOrEqual(r);return Ue.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ue.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aj{constructor(e){this.ri=e,this.docs=(function(){return new br(_t.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,o=this.docs.get(r),l=o?o.size:0,d=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:d}),this.size+=d-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Ue.resolve(r?r.document.mutableCopy():Bi.newInvalidDocument(n))}getEntries(e,n){let r=tl();return n.forEach((o=>{const l=this.docs.get(o);r=r.insert(o,l?l.document.mutableCopy():Bi.newInvalidDocument(o))})),Ue.resolve(r)}getDocumentsMatchingQuery(e,n,r,o){let l=tl();const d=n.path,x=new _t(d.child("__id-9223372036854775808__")),E=this.docs.getIteratorFrom(x);for(;E.hasNext();){const{key:m,value:{document:w}}=E.getNext();if(!d.isPrefixOf(m.path))break;m.path.length>d.length+1||JV(ZV(w),r)<=0||(o.has(w.key)||Q1(n,w))&&(l=l.insert(w.key,w.mutableCopy()))}return Ue.resolve(l)}getAllFromCollectionGroup(e,n,r,o){Ut(9500)}ii(e,n){return Ue.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new _j(this)}getSize(e){return Ue.resolve(this.size)}}class _j extends xj{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(r)})),Ue.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tj{constructor(e){this.persistence=e,this.si=new ru((n=>Ux(n)),Fx),this.lastRemoteSnapshotVersion=jt.min(),this.highestTargetId=0,this.oi=0,this._i=new $x,this.targetCount=0,this.ai=xf.ur()}forEachTarget(e,n){return this.si.forEach(((r,o)=>n(o))),Ue.resolve()}getLastRemoteSnapshotVersion(e){return Ue.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ue.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Ue.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),Ue.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new xf(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,Ue.resolve()}updateTargetData(e,n){return this.Pr(n),Ue.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Ue.resolve()}removeTargets(e,n,r){let o=0;const l=[];return this.si.forEach(((d,x)=>{x.sequenceNumber<=n&&r.get(x.targetId)===null&&(this.si.delete(d),l.push(this.removeMatchingKeysForTargetId(e,x.targetId)),o++)})),Ue.waitFor(l).next((()=>o))}getTargetCount(e){return Ue.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return Ue.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),Ue.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const o=this.persistence.referenceDelegate,l=[];return o&&n.forEach((d=>{l.push(o.markPotentiallyOrphaned(e,d))})),Ue.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),Ue.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return Ue.resolve(r)}containsKey(e,n){return Ue.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(e,n){this.ui={},this.overlays={},this.ci=new W1(0),this.li=!1,this.li=!0,this.hi=new Cj,this.referenceDelegate=e(this),this.Pi=new Tj(this),this.indexManager=new fj,this.remoteDocumentCache=(function(o){return new Aj(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new cj(n),this.Ii=new bj(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new wj,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new Sj(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){ut("MemoryPersistence","Starting transaction:",e);const o=new Ij(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((l=>this.referenceDelegate.di(o).next((()=>l)))).toPromise().then((l=>(o.raiseOnCommittedEvent(),l)))}Ai(e,n){return Ue.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class Ij extends tz{constructor(e){super(),this.currentSequenceNumber=e}}class qx{constructor(e){this.persistence=e,this.Ri=new $x,this.Vi=null}static mi(e){return new qx(e)}get fi(){if(this.Vi)return this.Vi;throw Ut(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),Ue.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),Ue.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),Ue.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((l=>this.fi.add(l.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ue.forEach(this.fi,(r=>{const o=_t.fromPath(r);return this.gi(e,o).next((l=>{l||n.removeEntry(o,jt.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return Ue.or([()=>Ue.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class d1{constructor(e,n){this.persistence=e,this.pi=new ru((r=>iz(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=yj(this,n)}static mi(e,n){return new d1(e,n)}Ei(){}di(e){return Ue.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((o=>r+o))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return Ue.forEach(this.pi,((r,o)=>this.br(e,r,o).next((l=>l?Ue.resolve():n(o)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,n).next((x=>{x||(r++,l.removeEntry(d,jt.min()))})))).next((()=>l.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),Ue.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Ue.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Ue.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),Ue.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=O0(e.data.value)),n}br(e,n,r){return Ue.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return Ue.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(e,n,r,o){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=o}static As(e,n){let r=En(),o=En();for(const l of n.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new Wx(e,n.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rj{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nj{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return iB()?8:nz(Vi())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,o){const l={result:null};return this.ys(e,n).next((d=>{l.result=d})).next((()=>{if(!l.result)return this.ws(e,n,o,r).next((d=>{l.result=d}))})).next((()=>{if(l.result)return;const d=new Rj;return this.Ss(e,n,d).next((x=>{if(l.result=x,this.Vs)return this.bs(e,n,d,x.size)}))})).next((()=>l.result))}bs(e,n,r,o){return r.documentReadCount<this.fs?($u()<=yn.DEBUG&&ut("QueryEngine","SDK will not create cache indexes for query:",qu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Ue.resolve()):($u()<=yn.DEBUG&&ut("QueryEngine","Query:",qu(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?($u()<=yn.DEBUG&&ut("QueryEngine","The SDK decides to create cache indexes for query:",qu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Qo(n))):Ue.resolve())}ys(e,n){if(yA(n))return Ue.resolve(null);let r=Qo(n);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=y2(n,null,"F"),r=Qo(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((l=>{const d=En(...l);return this.ps.getDocuments(e,d).next((x=>this.indexManager.getMinOffset(e,r).next((E=>{const m=this.Ds(n,x);return this.Cs(n,m,d,E.readTime)?this.ys(e,y2(n,null,"F")):this.vs(e,m,n,E)}))))})))))}ws(e,n,r,o){return yA(n)||o.isEqual(jt.min())?Ue.resolve(null):this.ps.getDocuments(e,r).next((l=>{const d=this.Ds(n,l);return this.Cs(n,d,r,o)?Ue.resolve(null):($u()<=yn.DEBUG&&ut("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),qu(n)),this.vs(e,d,n,QV(o,oh)).next((x=>x)))}))}Ds(e,n){let r=new ei(L3(e));return n.forEach(((o,l)=>{Q1(e,l)&&(r=r.add(l))})),r}Cs(e,n,r,o){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Ss(e,n,r){return $u()<=yn.DEBUG&&ut("QueryEngine","Using full collection scan to execute query:",qu(n)),this.ps.getDocumentsMatchingQuery(e,n,Zl.min(),r)}vs(e,n,r,o){return this.ps.getDocumentsMatchingQuery(e,r,o).next((l=>(n.forEach((d=>{l=l.insert(d.key,d)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yx="LocalStore",Mj=3e8;class Oj{constructor(e,n,r,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new br(xn),this.xs=new ru((l=>Ux(l)),Fx),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new vj(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function Dj(t,e,n,r){return new Oj(t,e,n,r)}async function iR(t,e){const n=$t(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next((l=>(o=l,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((l=>{const d=[],x=[];let E=En();for(const m of o){d.push(m.batchId);for(const w of m.mutations)E=E.add(w.key)}for(const m of l){x.push(m.batchId);for(const w of m.mutations)E=E.add(w.key)}return n.localDocuments.getDocuments(r,E).next((m=>({Ls:m,removedBatchIds:d,addedBatchIds:x})))}))}))}function Lj(t,e){const n=$t(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),l=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(x,E,m,w){const A=m.batch,I=A.keys();let N=Ue.resolve();return I.forEach((M=>{N=N.next((()=>w.getEntry(E,M))).next((k=>{const V=m.docVersions.get(M);Un(V!==null,48541),k.version.compareTo(V)<0&&(A.applyToRemoteDocument(k,m),k.isValidDocument()&&(k.setReadTime(m.commitVersion),w.addEntry(k)))}))})),N.next((()=>x.mutationQueue.removeMutationBatch(E,A)))})(n,r,e,l).next((()=>l.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(x){let E=En();for(let m=0;m<x.mutationResults.length;++m)x.mutationResults[m].transformResults.length>0&&(E=E.add(x.batch.mutations[m].key));return E})(e)))).next((()=>n.localDocuments.getDocuments(r,o)))}))}function sR(t){const e=$t(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function Pj(t,e){const n=$t(t),r=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const d=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const x=[];e.targetChanges.forEach(((w,A)=>{const I=o.get(A);if(!I)return;x.push(n.Pi.removeMatchingKeys(l,w.removedDocuments,A).next((()=>n.Pi.addMatchingKeys(l,w.addedDocuments,A))));let N=I.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(A)!==null?N=N.withResumeToken(_i.EMPTY_BYTE_STRING,jt.min()).withLastLimboFreeSnapshotVersion(jt.min()):w.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(w.resumeToken,r)),o=o.insert(A,N),(function(k,V,K){return k.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=Mj?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0})(I,N,w)&&x.push(n.Pi.updateTargetData(l,N))}));let E=tl(),m=En();if(e.documentUpdates.forEach((w=>{e.resolvedLimboDocuments.has(w)&&x.push(n.persistence.referenceDelegate.updateLimboDocument(l,w))})),x.push(kj(l,d,e.documentUpdates).next((w=>{E=w.ks,m=w.qs}))),!r.isEqual(jt.min())){const w=n.Pi.getLastRemoteSnapshotVersion(l).next((A=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,r)));x.push(w)}return Ue.waitFor(x).next((()=>d.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,E,m))).next((()=>E))})).then((l=>(n.Ms=o,l)))}function kj(t,e,n){let r=En(),o=En();return n.forEach((l=>r=r.add(l))),e.getEntries(t,r).next((l=>{let d=tl();return n.forEach(((x,E)=>{const m=l.get(x);E.isFoundDocument()!==m.isFoundDocument()&&(o=o.add(x)),E.isNoDocument()&&E.version.isEqual(jt.min())?(e.removeEntry(x,E.readTime),d=d.insert(x,E)):!m.isValidDocument()||E.version.compareTo(m.version)>0||E.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(E),d=d.insert(x,E)):ut(Yx,"Ignoring outdated watch update for ",x,". Current version:",m.version," Watch version:",E.version)})),{ks:d,qs:o}}))}function Bj(t,e){const n=$t(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Px),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function Uj(t,e){const n=$t(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return n.Pi.getTargetData(r,e).next((l=>l?(o=l,Ue.resolve(o)):n.Pi.allocateTargetId(r).next((d=>(o=new Vl(e,d,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=n.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function w2(t,e,n){const r=$t(t),o=r.Ms.get(e),l=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",l,(d=>r.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Nf(d))throw d;ut(Yx,`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ms=r.Ms.remove(e),r.xs.delete(o.target)}function NA(t,e,n){const r=$t(t);let o=jt.min(),l=En();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(E,m,w){const A=$t(E),I=A.xs.get(w);return I!==void 0?Ue.resolve(A.Ms.get(I)):A.Pi.getTargetData(m,w)})(r,d,Qo(e)).next((x=>{if(x)return o=x.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,x.targetId).next((E=>{l=E}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,e,n?o:jt.min(),n?l:En()))).next((x=>(Fj(r,Cz(e),x),{documents:x,Qs:l})))))}function Fj(t,e,n){let r=t.Os.get(e)||jt.min();n.forEach(((o,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)})),t.Os.set(e,r)}class MA{constructor(){this.activeTargetIds=Rz()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Vj{constructor(){this.Mo=new MA,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new MA,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zj{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OA="ConnectivityMonitor";class DA{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ut(OA,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ut(OA,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let h0=null;function C2(){return h0===null?h0=(function(){return 268435456+Math.round(2147483648*Math.random())})():h0++,"0x"+h0.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ty="RestConnection",jj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Hj{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===o1?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(e,n,r,o,l){const d=C2(),x=this.zo(e,n.toUriEncodedString());ut(Ty,`Sending RPC '${e}' ${d}:`,x,r);const E={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(E,o,l);const{host:m}=new URL(x),w=ic(m);return this.Jo(e,x,E,r,w).then((A=>(ut(Ty,`Received RPC '${e}' ${d}: `,A),A)),(A=>{throw pf(Ty,`RPC '${e}' ${d} failed with error: `,A,"url: ",x,"request:",r),A}))}Ho(e,n,r,o,l,d){return this.Go(e,n,r,o,l)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+If})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,l)=>e[l]=o)),r&&r.headers.forEach(((o,l)=>e[l]=o))}zo(e,n){const r=jj[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gj{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Li="WebChannelConnection";class $j extends Hj{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,o,l){const d=C2();return new Promise(((x,E)=>{const m=new a3;m.setWithCredentials(!0),m.listenOnce(l3.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case M0.NO_ERROR:const A=m.getResponseJson();ut(Li,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(A)),x(A);break;case M0.TIMEOUT:ut(Li,`RPC '${e}' ${d} timed out`),E(new at(Pe.DEADLINE_EXCEEDED,"Request time out"));break;case M0.HTTP_ERROR:const I=m.getStatus();if(ut(Li,`RPC '${e}' ${d} failed with status:`,I,"response text:",m.getResponseText()),I>0){let N=m.getResponseJson();Array.isArray(N)&&(N=N[0]);const M=N?.error;if(M&&M.status&&M.message){const k=(function(K){const Z=K.toLowerCase().replace(/_/g,"-");return Object.values(Pe).indexOf(Z)>=0?Z:Pe.UNKNOWN})(M.status);E(new at(k,M.message))}else E(new at(Pe.UNKNOWN,"Server responded with status "+m.getStatus()))}else E(new at(Pe.UNAVAILABLE,"Connection failed."));break;default:Ut(9055,{l_:e,streamId:d,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{ut(Li,`RPC '${e}' ${d} completed.`)}}));const w=JSON.stringify(o);ut(Li,`RPC '${e}' ${d} sending request:`,o),m.send(n,"POST",w,r,15)}))}T_(e,n,r){const o=C2(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=f3(),x=u3(),E={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(E.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(E.useFetchStreams=!0),this.jo(E.initMessageHeaders,n,r),E.encodeInitMessageHeaders=!0;const w=l.join("");ut(Li,`Creating RPC '${e}' stream ${o}: ${w}`,E);const A=d.createWebChannel(w,E);this.I_(A);let I=!1,N=!1;const M=new Gj({Yo:V=>{N?ut(Li,`Not sending because RPC '${e}' stream ${o} is closed:`,V):(I||(ut(Li,`Opening RPC '${e}' stream ${o} transport.`),A.open(),I=!0),ut(Li,`RPC '${e}' stream ${o} sending:`,V),A.send(V))},Zo:()=>A.close()}),k=(V,K,Z)=>{V.listen(K,(H=>{try{Z(H)}catch(W){setTimeout((()=>{throw W}),0)}}))};return k(A,Dd.EventType.OPEN,(()=>{N||(ut(Li,`RPC '${e}' stream ${o} transport opened.`),M.o_())})),k(A,Dd.EventType.CLOSE,(()=>{N||(N=!0,ut(Li,`RPC '${e}' stream ${o} transport closed`),M.a_(),this.E_(A))})),k(A,Dd.EventType.ERROR,(V=>{N||(N=!0,pf(Li,`RPC '${e}' stream ${o} transport errored. Name:`,V.name,"Message:",V.message),M.a_(new at(Pe.UNAVAILABLE,"The operation could not be completed")))})),k(A,Dd.EventType.MESSAGE,(V=>{if(!N){const K=V.data[0];Un(!!K,16349);const Z=K,H=Z?.error||Z[0]?.error;if(H){ut(Li,`RPC '${e}' stream ${o} received error:`,H);const W=H.status;let te=(function(j){const F=Wr[j];if(F!==void 0)return q3(F)})(W),se=H.message;te===void 0&&(te=Pe.INTERNAL,se="Unknown error status: "+W+" with message "+H.message),N=!0,M.a_(new at(te,se)),A.close()}else ut(Li,`RPC '${e}' stream ${o} received:`,K),M.u_(K)}})),k(x,c3.STAT_EVENT,(V=>{V.stat===u2.PROXY?ut(Li,`RPC '${e}' stream ${o} detected buffering proxy`):V.stat===u2.NOPROXY&&ut(Li,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{M.__()}),0),M}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Iy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tg(t){return new Xz(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(e,n,r=1e3,o=1.5,l=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=o,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-r);o>0&&ut("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LA="PersistentStream";class aR{constructor(e,n,r,o,l,d,x,E){this.Mi=e,this.S_=r,this.b_=o,this.connection=l,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=x,this.listener=E,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new oR(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Pe.RESOURCE_EXHAUSTED?(el(n.toString()),el("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Pe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===n&&this.G_(r,o)}),(r=>{e((()=>{const o=new at(Pe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ut(LA,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ut(LA,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class qj extends aR{constructor(e,n,r,o,l,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,d),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=Zz(this.serializer,e),r=(function(l){if(!("targetChange"in l))return jt.min();const d=l.targetChange;return d.targetIds&&d.targetIds.length?jt.min():d.readTime?Zo(d.readTime):jt.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=b2(this.serializer),n.addTarget=(function(l,d){let x;const E=d.target;if(x=g2(E)?{documents:tj(l,E)}:{query:nj(l,E).ft},x.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){x.resumeToken=X3(l,d.resumeToken);const m=x2(l,d.expectedCount);m!==null&&(x.expectedCount=m)}else if(d.snapshotVersion.compareTo(jt.min())>0){x.readTime=f1(l,d.snapshotVersion.toTimestamp());const m=x2(l,d.expectedCount);m!==null&&(x.expectedCount=m)}return x})(this.serializer,e);const r=ij(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=b2(this.serializer),n.removeTarget=e,this.q_(n)}}class Wj extends aR{constructor(e,n,r,o,l,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,d),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Un(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Un(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Un(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=ej(e.writeResults,e.commitTime),r=Zo(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=b2(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>Jz(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yj{}class Xj extends Yj{constructor(e,n,r,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new at(Pe.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,d])=>this.connection.Go(e,E2(n,r),o,l,d))).catch((l=>{throw l.name==="FirebaseError"?(l.code===Pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new at(Pe.UNKNOWN,l.toString())}))}Ho(e,n,r,o,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,x])=>this.connection.Ho(e,E2(n,r),o,d,x,l))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new at(Pe.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Kj{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(el(n),this.aa=!1):ut("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yc="RemoteStore";class Qj{constructor(e,n,r,o,l){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{iu(this)&&(ut(Yc,"Restarting streams for network reachability change."),await(async function(E){const m=$t(E);m.Ea.add(4),await Vh(m),m.Ra.set("Unknown"),m.Ea.delete(4),await ng(m)})(this))}))})),this.Ra=new Kj(r,o)}}async function ng(t){if(iu(t))for(const e of t.da)await e(!0)}async function Vh(t){for(const e of t.da)await e(!1)}function lR(t,e){const n=$t(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Zx(n)?Qx(n):Mf(n).O_()&&Kx(n,e))}function Xx(t,e){const n=$t(t),r=Mf(n);n.Ia.delete(e),r.O_()&&cR(n,e),n.Ia.size===0&&(r.O_()?r.L_():iu(n)&&n.Ra.set("Unknown"))}function Kx(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(jt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Mf(t).Y_(e)}function cR(t,e){t.Va.Ue(e),Mf(t).Z_(e)}function Qx(t){t.Va=new $z({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Mf(t).start(),t.Ra.ua()}function Zx(t){return iu(t)&&!Mf(t).x_()&&t.Ia.size>0}function iu(t){return $t(t).Ea.size===0}function uR(t){t.Va=void 0}async function Zj(t){t.Ra.set("Online")}async function Jj(t){t.Ia.forEach(((e,n)=>{Kx(t,e)}))}async function eH(t,e){uR(t),Zx(t)?(t.Ra.ha(e),Qx(t)):t.Ra.set("Unknown")}async function tH(t,e,n){if(t.Ra.set("Online"),e instanceof Y3&&e.state===2&&e.cause)try{await(async function(o,l){const d=l.cause;for(const x of l.targetIds)o.Ia.has(x)&&(await o.remoteSyncer.rejectListen(x,d),o.Ia.delete(x),o.Va.removeTarget(x))})(t,e)}catch(r){ut(Yc,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await h1(t,r)}else if(e instanceof P0?t.Va.Ze(e):e instanceof W3?t.Va.st(e):t.Va.tt(e),!n.isEqual(jt.min()))try{const r=await sR(t.localStore);n.compareTo(r)>=0&&await(function(l,d){const x=l.Va.Tt(d);return x.targetChanges.forEach(((E,m)=>{if(E.resumeToken.approximateByteSize()>0){const w=l.Ia.get(m);w&&l.Ia.set(m,w.withResumeToken(E.resumeToken,d))}})),x.targetMismatches.forEach(((E,m)=>{const w=l.Ia.get(E);if(!w)return;l.Ia.set(E,w.withResumeToken(_i.EMPTY_BYTE_STRING,w.snapshotVersion)),cR(l,E);const A=new Vl(w.target,E,m,w.sequenceNumber);Kx(l,A)})),l.remoteSyncer.applyRemoteEvent(x)})(t,n)}catch(r){ut(Yc,"Failed to raise snapshot:",r),await h1(t,r)}}async function h1(t,e,n){if(!Nf(e))throw e;t.Ea.add(1),await Vh(t),t.Ra.set("Offline"),n||(n=()=>sR(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{ut(Yc,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await ng(t)}))}function fR(t,e){return e().catch((n=>h1(t,n,e)))}async function rg(t){const e=$t(t),n=nc(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Px;for(;nH(e);)try{const o=await Bj(e.localStore,r);if(o===null){e.Ta.length===0&&n.L_();break}r=o.batchId,rH(e,o)}catch(o){await h1(e,o)}dR(e)&&hR(e)}function nH(t){return iu(t)&&t.Ta.length<10}function rH(t,e){t.Ta.push(e);const n=nc(t);n.O_()&&n.X_&&n.ea(e.mutations)}function dR(t){return iu(t)&&!nc(t).x_()&&t.Ta.length>0}function hR(t){nc(t).start()}async function iH(t){nc(t).ra()}async function sH(t){const e=nc(t);for(const n of t.Ta)e.ea(n.mutations)}async function oH(t,e,n){const r=t.Ta.shift(),o=jx.from(r,e,n);await fR(t,(()=>t.remoteSyncer.applySuccessfulWrite(o))),await rg(t)}async function aH(t,e){e&&nc(t).X_&&await(async function(r,o){if((function(d){return jz(d)&&d!==Pe.ABORTED})(o.code)){const l=r.Ta.shift();nc(r).B_(),await fR(r,(()=>r.remoteSyncer.rejectFailedWrite(l.batchId,o))),await rg(r)}})(t,e),dR(t)&&hR(t)}async function PA(t,e){const n=$t(t);n.asyncQueue.verifyOperationInProgress(),ut(Yc,"RemoteStore received new credentials");const r=iu(n);n.Ea.add(3),await Vh(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await ng(n)}async function lH(t,e){const n=$t(t);e?(n.Ea.delete(2),await ng(n)):e||(n.Ea.add(2),await Vh(n),n.Ra.set("Unknown"))}function Mf(t){return t.ma||(t.ma=(function(n,r,o){const l=$t(n);return l.sa(),new qj(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(t.datastore,t.asyncQueue,{Xo:Zj.bind(null,t),t_:Jj.bind(null,t),r_:eH.bind(null,t),H_:tH.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),Zx(t)?Qx(t):t.Ra.set("Unknown")):(await t.ma.stop(),uR(t))}))),t.ma}function nc(t){return t.fa||(t.fa=(function(n,r,o){const l=$t(n);return l.sa(),new Wj(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:iH.bind(null,t),r_:aH.bind(null,t),ta:sH.bind(null,t),na:oH.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await rg(t)):(await t.fa.stop(),t.Ta.length>0&&(ut(Yc,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(e,n,r,o,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=l,this.deferred=new qa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,o,l){const d=Date.now()+r,x=new Jx(e,n,d,o,l);return x.start(r),x}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new at(Pe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function eE(t,e){if(el("AsyncQueue",`${e}: ${t}`),Nf(t))return new at(Pe.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{static emptySet(e){return new of(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||_t.comparator(n.key,r.key):(n,r)=>_t.comparator(n.key,r.key),this.keyedMap=Ld(),this.sortedSet=new br(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof of)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,l=r.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new of;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(){this.ga=new br(_t.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ut(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Ef{constructor(e,n,r,o,l,d,x,E,m){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=l,this.fromCache=d,this.syncStateChanged=x,this.excludesMetadataChanges=E,this.hasCachedResults=m}static fromInitialDocuments(e,n,r,o,l){const d=[];return n.forEach((x=>{d.push({type:0,doc:x})})),new Ef(e,n,of.emptySet(n),d,r,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&K1(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cH{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class uH{constructor(){this.queries=BA(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const o=$t(n),l=o.queries;o.queries=BA(),l.forEach(((d,x)=>{for(const E of x.Sa)E.onError(r)}))})(this,new at(Pe.ABORTED,"Firestore shutting down"))}}function BA(){return new ru((t=>D3(t)),K1)}async function pR(t,e){const n=$t(t);let r=3;const o=e.query;let l=n.queries.get(o);l?!l.ba()&&e.Da()&&(r=2):(l=new cH,r=e.Da()?0:1);try{switch(r){case 0:l.wa=await n.onListen(o,!0);break;case 1:l.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(d){const x=eE(d,`Initialization of query '${qu(e.query)}' failed`);return void e.onError(x)}n.queries.set(o,l),l.Sa.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&tE(n)}async function gR(t,e){const n=$t(t),r=e.query;let o=3;const l=n.queries.get(r);if(l){const d=l.Sa.indexOf(e);d>=0&&(l.Sa.splice(d,1),l.Sa.length===0?o=e.Da()?0:1:!l.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function fH(t,e){const n=$t(t);let r=!1;for(const o of e){const l=o.query,d=n.queries.get(l);if(d){for(const x of d.Sa)x.Fa(o)&&(r=!0);d.wa=o}}r&&tE(n)}function dH(t,e,n){const r=$t(t),o=r.queries.get(e);if(o)for(const l of o.Sa)l.onError(n);r.queries.delete(e)}function tE(t){t.Ca.forEach((e=>{e.next()}))}var S2,UA;(UA=S2||(S2={})).Ma="default",UA.Cache="cache";class mR{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new Ef(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ef.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==S2.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(e){this.key=e}}class xR{constructor(e){this.key=e}}class hH{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=En(),this.mutatedKeys=En(),this.eu=L3(e),this.tu=new of(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new kA,o=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,d=o,x=!1;const E=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,m=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((w,A)=>{const I=o.get(w),N=Q1(this.query,A)?A:null,M=!!I&&this.mutatedKeys.has(I.key),k=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let V=!1;I&&N?I.data.isEqual(N.data)?M!==k&&(r.track({type:3,doc:N}),V=!0):this.su(I,N)||(r.track({type:2,doc:N}),V=!0,(E&&this.eu(N,E)>0||m&&this.eu(N,m)<0)&&(x=!0)):!I&&N?(r.track({type:0,doc:N}),V=!0):I&&!N&&(r.track({type:1,doc:I}),V=!0,(E||m)&&(x=!0)),V&&(N?(d=d.add(N),l=k?l.add(w):l.delete(w)):(d=d.delete(w),l=l.delete(w)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const w=this.query.limitType==="F"?d.last():d.first();d=d.delete(w.key),l=l.delete(w.key),r.track({type:1,doc:w})}return{tu:d,iu:r,Cs:x,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,o){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((w,A)=>(function(N,M){const k=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ut(20277,{Rt:V})}};return k(N)-k(M)})(w.type,A.type)||this.eu(w.doc,A.doc))),this.ou(r),o=o??!1;const x=n&&!o?this._u():[],E=this.Xa.size===0&&this.current&&!o?1:0,m=E!==this.Za;return this.Za=E,d.length!==0||m?{snapshot:new Ef(this.query,e.tu,l,d,e.mutatedKeys,E===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:x}:{au:x}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new kA,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=En(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new xR(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new yR(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=En();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ef.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const nE="SyncEngine";class pH{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class gH{constructor(e){this.key=e,this.hu=!1}}class mH{constructor(e,n,r,o,l,d){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ru((x=>D3(x)),K1),this.Iu=new Map,this.Eu=new Set,this.du=new br(_t.comparator),this.Au=new Map,this.Ru=new $x,this.Vu={},this.mu=new Map,this.fu=xf.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function yH(t,e,n=!0){const r=SR(t);let o;const l=r.Tu.get(e);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.lu()):o=await ER(r,e,n,!0),o}async function xH(t,e){const n=SR(t);await ER(n,e,!0,!1)}async function ER(t,e,n,r){const o=await Uj(t.localStore,Qo(e)),l=o.targetId,d=t.sharedClientState.addLocalQueryTarget(l,n);let x;return r&&(x=await EH(t,e,l,d==="current",o.resumeToken)),t.isPrimaryClient&&n&&lR(t.remoteStore,o),x}async function EH(t,e,n,r,o){t.pu=(A,I,N)=>(async function(k,V,K,Z){let H=V.view.ru(K);H.Cs&&(H=await NA(k.localStore,V.query,!1).then((({documents:z})=>V.view.ru(z,H))));const W=Z&&Z.targetChanges.get(V.targetId),te=Z&&Z.targetMismatches.get(V.targetId)!=null,se=V.view.applyChanges(H,k.isPrimaryClient,W,te);return VA(k,V.targetId,se.au),se.snapshot})(t,A,I,N);const l=await NA(t.localStore,e,!0),d=new hH(e,l.Qs),x=d.ru(l.documents),E=Fh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",o),m=d.applyChanges(x,t.isPrimaryClient,E);VA(t,n,m.au);const w=new pH(e,n,d);return t.Tu.set(e,w),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),m.snapshot}async function vH(t,e,n){const r=$t(t),o=r.Tu.get(e),l=r.Iu.get(o.targetId);if(l.length>1)return r.Iu.set(o.targetId,l.filter((d=>!K1(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await w2(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),n&&Xx(r.remoteStore,o.targetId),A2(r,o.targetId)})).catch(Rf)):(A2(r,o.targetId),await w2(r.localStore,o.targetId,!0))}async function bH(t,e){const n=$t(t),r=n.Tu.get(e),o=n.Iu.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Xx(n.remoteStore,r.targetId))}async function wH(t,e,n){const r=RH(t);try{const o=await(function(d,x){const E=$t(d),m=lr.now(),w=x.reduce(((N,M)=>N.add(M.key)),En());let A,I;return E.persistence.runTransaction("Locally write mutations","readwrite",(N=>{let M=tl(),k=En();return E.Ns.getEntries(N,w).next((V=>{M=V,M.forEach(((K,Z)=>{Z.isValidDocument()||(k=k.add(K))}))})).next((()=>E.localDocuments.getOverlayedDocuments(N,M))).next((V=>{A=V;const K=[];for(const Z of x){const H=Bz(Z,A.get(Z.key).overlayedDocument);H!=null&&K.push(new ac(Z.key,H,A3(H.value.mapValue),xo.exists(!0)))}return E.mutationQueue.addMutationBatch(N,m,K,x)})).next((V=>{I=V;const K=V.applyToLocalDocumentSet(A,k);return E.documentOverlayCache.saveOverlays(N,V.batchId,K)}))})).then((()=>({batchId:I.batchId,changes:k3(A)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(d,x,E){let m=d.Vu[d.currentUser.toKey()];m||(m=new br(xn)),m=m.insert(x,E),d.Vu[d.currentUser.toKey()]=m})(r,o.batchId,n),await zh(r,o.changes),await rg(r.remoteStore)}catch(o){const l=eE(o,"Failed to persist write");n.reject(l)}}async function vR(t,e){const n=$t(t);try{const r=await Pj(n.localStore,e);e.targetChanges.forEach(((o,l)=>{const d=n.Au.get(l);d&&(Un(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Un(d.hu,14607):o.removedDocuments.size>0&&(Un(d.hu,42227),d.hu=!1))})),await zh(n,r,e)}catch(r){await Rf(r)}}function FA(t,e,n){const r=$t(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.Tu.forEach(((l,d)=>{const x=d.view.va(e);x.snapshot&&o.push(x.snapshot)})),(function(d,x){const E=$t(d);E.onlineState=x;let m=!1;E.queries.forEach(((w,A)=>{for(const I of A.Sa)I.va(x)&&(m=!0)})),m&&tE(E)})(r.eventManager,e),o.length&&r.Pu.H_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function CH(t,e,n){const r=$t(t);r.sharedClientState.updateQueryState(e,"rejected",n);const o=r.Au.get(e),l=o&&o.key;if(l){let d=new br(_t.comparator);d=d.insert(l,Bi.newNoDocument(l,jt.min()));const x=En().add(l),E=new eg(jt.min(),new Map,new br(xn),d,x);await vR(r,E),r.du=r.du.remove(l),r.Au.delete(e),rE(r)}else await w2(r.localStore,e,!1).then((()=>A2(r,e,n))).catch(Rf)}async function SH(t,e){const n=$t(t),r=e.batch.batchId;try{const o=await Lj(n.localStore,e);wR(n,r,null),bR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await zh(n,o)}catch(o){await Rf(o)}}async function AH(t,e,n){const r=$t(t);try{const o=await(function(d,x){const E=$t(d);return E.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let w;return E.mutationQueue.lookupMutationBatch(m,x).next((A=>(Un(A!==null,37113),w=A.keys(),E.mutationQueue.removeMutationBatch(m,A)))).next((()=>E.mutationQueue.performConsistencyCheck(m))).next((()=>E.documentOverlayCache.removeOverlaysForBatchId(m,w,x))).next((()=>E.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,w))).next((()=>E.localDocuments.getDocuments(m,w)))}))})(r.localStore,e);wR(r,e,n),bR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await zh(r,o)}catch(o){await Rf(o)}}function bR(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function wR(t,e,n){const r=$t(t);let o=r.Vu[r.currentUser.toKey()];if(o){const l=o.get(e);l&&(n?l.reject(n):l.resolve(),o=o.remove(e)),r.Vu[r.currentUser.toKey()]=o}}function A2(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||CR(t,r)}))}function CR(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Xx(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),rE(t))}function VA(t,e,n){for(const r of n)r instanceof yR?(t.Ru.addReference(r.key,e),_H(t,r)):r instanceof xR?(ut(nE,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||CR(t,r.key)):Ut(19791,{wu:r})}function _H(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(ut(nE,"New document in limbo: "+n),t.Eu.add(r),rE(t))}function rE(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new _t(nr.fromString(e)),r=t.fu.next();t.Au.set(r,new gH(n)),t.du=t.du.insert(n,r),lR(t.remoteStore,new Vl(Qo(Vx(n.path)),r,"TargetPurposeLimboResolution",W1.ce))}}async function zh(t,e,n){const r=$t(t),o=[],l=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((x,E)=>{d.push(r.pu(E,e,n).then((m=>{if((m||n)&&r.isPrimaryClient){const w=m?!m.fromCache:n?.targetChanges.get(E.targetId)?.current;r.sharedClientState.updateQueryState(E.targetId,w?"current":"not-current")}if(m){o.push(m);const w=Wx.As(E.targetId,m);l.push(w)}})))})),await Promise.all(d),r.Pu.H_(o),await(async function(E,m){const w=$t(E);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>Ue.forEach(m,(I=>Ue.forEach(I.Es,(N=>w.persistence.referenceDelegate.addReference(A,I.targetId,N))).next((()=>Ue.forEach(I.ds,(N=>w.persistence.referenceDelegate.removeReference(A,I.targetId,N)))))))))}catch(A){if(!Nf(A))throw A;ut(Yx,"Failed to update sequence numbers: "+A)}for(const A of m){const I=A.targetId;if(!A.fromCache){const N=w.Ms.get(I),M=N.snapshotVersion,k=N.withLastLimboFreeSnapshotVersion(M);w.Ms=w.Ms.insert(I,k)}}})(r.localStore,l))}async function TH(t,e){const n=$t(t);if(!n.currentUser.isEqual(e)){ut(nE,"User change. New user:",e.toKey());const r=await iR(n.localStore,e);n.currentUser=e,(function(l,d){l.mu.forEach((x=>{x.forEach((E=>{E.reject(new at(Pe.CANCELLED,d))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await zh(n,r.Ls)}}function IH(t,e){const n=$t(t),r=n.Au.get(e);if(r&&r.hu)return En().add(r.key);{let o=En();const l=n.Iu.get(e);if(!l)return o;for(const d of l){const x=n.Tu.get(d);o=o.unionWith(x.view.nu)}return o}}function SR(t){const e=$t(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=vR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=IH.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=CH.bind(null,e),e.Pu.H_=fH.bind(null,e.eventManager),e.Pu.yu=dH.bind(null,e.eventManager),e}function RH(t){const e=$t(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=SH.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=AH.bind(null,e),e}class p1{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=tg(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return Dj(this.persistence,new Nj,e.initialUser,this.serializer)}Cu(e){return new rR(qx.mi,this.serializer)}Du(e){return new Vj}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}p1.provider={build:()=>new p1};class NH extends p1{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Un(this.persistence.referenceDelegate instanceof d1,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new gj(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?us.withCacheSize(this.cacheSizeBytes):us.DEFAULT;return new rR((r=>d1.mi(r,n)),this.serializer)}}class _2{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>FA(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=TH.bind(null,this.syncEngine),await lH(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new uH})()}createDatastore(e){const n=tg(e.databaseInfo.databaseId),r=(function(l){return new $j(l)})(e.databaseInfo);return(function(l,d,x,E){return new Xj(l,d,x,E)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,o,l,d,x){return new Qj(r,o,l,d,x)})(this.localStore,this.datastore,e.asyncQueue,(n=>FA(this.syncEngine,n,0)),(function(){return DA.v()?new DA:new zj})())}createSyncEngine(e,n){return(function(o,l,d,x,E,m,w){const A=new mH(o,l,d,x,E,m);return w&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=$t(n);ut(Yc,"RemoteStore shutting down."),r.Ea.add(5),await Vh(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}_2.provider={build:()=>new _2};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):el("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rc="FirestoreClient";class MH{constructor(e,n,r,o,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=o,this.user=ki.UNAUTHENTICATED,this.clientId=Lx.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,(async d=>{ut(rc,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(ut(rc,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new qa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=eE(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Ry(t,e){t.asyncQueue.verifyOperationInProgress(),ut(rc,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async o=>{r.isEqual(o)||(await iR(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function zA(t,e){t.asyncQueue.verifyOperationInProgress();const n=await OH(t);ut(rc,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>PA(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,o)=>PA(e.remoteStore,o))),t._onlineComponents=e}async function OH(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ut(rc,"Using user provided OfflineComponentProvider");try{await Ry(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Pe.FAILED_PRECONDITION||o.code===Pe.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;pf("Error using user provided cache. Falling back to memory cache: "+n),await Ry(t,new p1)}}else ut(rc,"Using default OfflineComponentProvider"),await Ry(t,new NH(void 0));return t._offlineComponents}async function _R(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ut(rc,"Using user provided OnlineComponentProvider"),await zA(t,t._uninitializedComponentsProvider._online)):(ut(rc,"Using default OnlineComponentProvider"),await zA(t,new _2))),t._onlineComponents}function DH(t){return _R(t).then((e=>e.syncEngine))}async function TR(t){const e=await _R(t),n=e.eventManager;return n.onListen=yH.bind(null,e.syncEngine),n.onUnlisten=vH.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=xH.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=bH.bind(null,e.syncEngine),n}function LH(t,e,n={}){const r=new qa;return t.asyncQueue.enqueueAndForget((async()=>(function(l,d,x,E,m){const w=new AR({next:I=>{w.Nu(),d.enqueueAndForget((()=>gR(l,A)));const N=I.docs.has(x);!N&&I.fromCache?m.reject(new at(Pe.UNAVAILABLE,"Failed to get document because the client is offline.")):N&&I.fromCache&&E&&E.source==="server"?m.reject(new at(Pe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(I)},error:I=>m.reject(I)}),A=new mR(Vx(x.path),w,{includeMetadataChanges:!0,qa:!0});return pR(l,A)})(await TR(t),t.asyncQueue,e,n,r))),r.promise}function PH(t,e,n={}){const r=new qa;return t.asyncQueue.enqueueAndForget((async()=>(function(l,d,x,E,m){const w=new AR({next:I=>{w.Nu(),d.enqueueAndForget((()=>gR(l,A))),I.fromCache&&E.source==="server"?m.reject(new at(Pe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(I)},error:I=>m.reject(I)}),A=new mR(x,w,{includeMetadataChanges:!0,qa:!0});return pR(l,A)})(await TR(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jA=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR="firestore.googleapis.com",HA=!0;class GA{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new at(Pe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=RR,this.ssl=HA}else this.host=e.host,this.ssl=e.ssl??HA;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=nR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<hj)throw new at(Pe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}KV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=IR(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new at(Pe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new at(Pe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new at(Pe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ig{constructor(e,n,r,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new GA({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new at(Pe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new at(Pe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new GA(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new VV;switch(r.type){case"firstParty":return new GV(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new at(Pe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=jA.get(n);r&&(ut("ComponentProvider","Removing Datastore"),jA.delete(n),r.terminate())})(this),Promise.resolve()}}function kH(t,e,n,r={}){t=ta(t,ig);const o=ic(e),l=t._getSettings(),d={...l,emulatorOptions:t._getEmulatorOptions()},x=`${e}:${n}`;o&&(vx(`https://${x}`),bx("Firestore",!0)),l.host!==RR&&l.host!==x&&pf("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const E={...l,host:x,ssl:o,emulatorOptions:r};if(!Hc(E,d)&&(t._setSettings(E),r.mockUserToken)){let m,w;if(typeof r.mockUserToken=="string")m=r.mockUserToken,w=ki.MOCK_USER;else{m=vI(r.mockUserToken,t._app?.options.projectId);const A=r.mockUserToken.sub||r.mockUserToken.user_id;if(!A)throw new at(Pe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new ki(A)}t._authCredentials=new zV(new h3(m,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Of(this.firestore,e,this._query)}}class zr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ql(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new zr(this.firestore,e,this._key)}toJSON(){return{type:zr._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(kh(n,zr._jsonSchema))return new zr(e,r||null,new _t(nr.fromString(n.referencePath)))}}zr._jsonSchemaVersion="firestore/documentReference/1.0",zr._jsonSchema={type:Kr("string",zr._jsonSchemaVersion),referencePath:Kr("string")};class ql extends Of{constructor(e,n,r){super(e,n,Vx(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new zr(this.firestore,null,new _t(e))}withConverter(e){return new ql(this.firestore,e,this._path)}}function sg(t,e,...n){if(t=Nr(t),p3("collection","path",e),t instanceof ig){const r=nr.fromString(e,...n);return rA(r),new ql(t,null,r)}{if(!(t instanceof zr||t instanceof ql))throw new at(Pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(nr.fromString(e,...n));return rA(r),new ql(t.firestore,null,r)}}function Xc(t,e,...n){if(t=Nr(t),arguments.length===1&&(e=Lx.newId()),p3("doc","path",e),t instanceof ig){const r=nr.fromString(e,...n);return nA(r),new zr(t,null,new _t(r))}{if(!(t instanceof zr||t instanceof ql))throw new at(Pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(nr.fromString(e,...n));return nA(r),new zr(t.firestore,t instanceof ql?t.converter:null,new _t(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $A="AsyncQueue";class qA{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new oR(this,"async_queue_retry"),this._c=()=>{const r=Iy();r&&ut($A,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Iy();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Iy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new qa;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Nf(e))throw e;ut($A,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,el("INTERNAL UNHANDLED ERROR: ",WA(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Jx.createAndSchedule(this,e,n,r,(l=>this.hc(l)));return this.tc.push(o),o}uc(){this.nc&&Ut(47125,{Pc:WA(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function WA(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Df extends ig{constructor(e,n,r,o){super(e,n,r,o),this.type="firestore",this._queue=new qA,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new qA(e),this._firestoreClient=void 0,await e}}}function BH(t,e){const n=typeof t=="object"?t:Sx(),r=typeof t=="string"?t:o1,o=j1(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const l=yI("firestore");l&&kH(o,...l)}return o}function iE(t){if(t._terminated)throw new at(Pe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||UH(t),t._firestoreClient}function UH(t){const e=t._freezeSettings(),n=(function(o,l,d,x){return new az(o,l,d,x.host,x.ssl,x.experimentalForceLongPolling,x.experimentalAutoDetectLongPolling,IR(x.experimentalLongPollingOptions),x.useFetchStreams,x.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new MH(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(o){const l=o?._online.build();return{_offline:o?._offline.build(l),_online:l}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(e){this._byteString=e}static fromBase64String(e){try{return new to(_i.fromBase64String(e))}catch(n){throw new at(Pe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new to(_i.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:to._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(kh(e,to._jsonSchema))return to.fromBase64String(e.bytes)}}to._jsonSchemaVersion="firestore/bytes/1.0",to._jsonSchema={type:Kr("string",to._jsonSchemaVersion),bytes:Kr("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new at(Pe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ai(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new at(Pe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new at(Pe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return xn(this._lat,e._lat)||xn(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Jo._jsonSchemaVersion}}static fromJSON(e){if(kh(e,Jo._jsonSchema))return new Jo(e.latitude,e.longitude)}}Jo._jsonSchemaVersion="firestore/geoPoint/1.0",Jo._jsonSchema={type:Kr("string",Jo._jsonSchemaVersion),latitude:Kr("number"),longitude:Kr("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==o[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ea._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(kh(e,ea._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ea(e.vectorValues);throw new at(Pe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ea._jsonSchemaVersion="firestore/vectorValue/1.0",ea._jsonSchema={type:Kr("string",ea._jsonSchemaVersion),vectorValues:Kr("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FH=/^__.*__$/;class VH{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ac(e,this.data,this.fieldMask,n,this.fieldTransforms):new Uh(e,this.data,n,this.fieldTransforms)}}class NR{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ac(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function MR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ut(40011,{Ac:t})}}class sE{constructor(e,n,r,o,l,d){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new sE({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return g1(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(MR(this.Ac)&&FH.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class zH{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||tg(e)}Cc(e,n,r,o=!1){return new sE({Ac:e,methodName:n,Dc:r,path:Ai.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function lg(t){const e=t._freezeSettings(),n=tg(t._databaseId);return new zH(t._databaseId,!!e.ignoreUndefinedProperties,n)}function OR(t,e,n,r,o,l={}){const d=t.Cc(l.merge||l.mergeFields?2:0,e,n,o);aE("Data must be an object, but it was:",d,r);const x=DR(r,d);let E,m;if(l.merge)E=new Os(d.fieldMask),m=d.fieldTransforms;else if(l.mergeFields){const w=[];for(const A of l.mergeFields){const I=T2(e,A,n);if(!d.contains(I))throw new at(Pe.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);PR(w,I)||w.push(I)}E=new Os(w),m=d.fieldTransforms.filter((A=>E.covers(A.field)))}else E=null,m=d.fieldTransforms;return new VH(new ds(x),E,m)}class cg extends ag{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof cg}}class oE extends ag{_toFieldTransform(e){return new Dz(e.path,new uh)}isEqual(e){return e instanceof oE}}function jH(t,e,n,r){const o=t.Cc(1,e,n);aE("Data must be an object, but it was:",o,r);const l=[],d=ds.empty();oc(r,((E,m)=>{const w=lE(e,E,n);m=Nr(m);const A=o.yc(w);if(m instanceof cg)l.push(w);else{const I=jh(m,A);I!=null&&(l.push(w),d.set(w,I))}}));const x=new Os(l);return new NR(d,x,o.fieldTransforms)}function HH(t,e,n,r,o,l){const d=t.Cc(1,e,n),x=[T2(e,r,n)],E=[o];if(l.length%2!=0)throw new at(Pe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let I=0;I<l.length;I+=2)x.push(T2(e,l[I])),E.push(l[I+1]);const m=[],w=ds.empty();for(let I=x.length-1;I>=0;--I)if(!PR(m,x[I])){const N=x[I];let M=E[I];M=Nr(M);const k=d.yc(N);if(M instanceof cg)m.push(N);else{const V=jh(M,k);V!=null&&(m.push(N),w.set(N,V))}}const A=new Os(m);return new NR(w,A,d.fieldTransforms)}function GH(t,e,n,r=!1){return jh(n,t.Cc(r?4:3,e))}function jh(t,e){if(LR(t=Nr(t)))return aE("Unsupported field value:",e,t),DR(t,e);if(t instanceof ag)return(function(r,o){if(!MR(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(o);l&&o.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,o){const l=[];let d=0;for(const x of r){let E=jh(x,o.wc(d));E==null&&(E={nullValue:"NULL_VALUE"}),l.push(E),d++}return{arrayValue:{values:l}}})(t,e)}return(function(r,o){if((r=Nr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Nz(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=lr.fromDate(r);return{timestampValue:f1(o.serializer,l)}}if(r instanceof lr){const l=new lr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:f1(o.serializer,l)}}if(r instanceof Jo)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof to)return{bytesValue:X3(o.serializer,r._byteString)};if(r instanceof zr){const l=o.databaseId,d=r.firestore._databaseId;if(!d.isEqual(l))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Gx(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof ea)return(function(d,x){return{mapValue:{fields:{[C3]:{stringValue:S3},[a1]:{arrayValue:{values:d.toArray().map((m=>{if(typeof m!="number")throw x.Sc("VectorValues must only contain numeric values.");return zx(x.serializer,m)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${q1(r)}`)})(t,e)}function DR(t,e){const n={};return y3(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):oc(t,((r,o)=>{const l=jh(o,e.mc(r));l!=null&&(n[r]=l)})),{mapValue:{fields:n}}}function LR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof lr||t instanceof Jo||t instanceof to||t instanceof zr||t instanceof ag||t instanceof ea)}function aE(t,e,n){if(!LR(n)||!g3(n)){const r=q1(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function T2(t,e,n){if((e=Nr(e))instanceof og)return e._internalPath;if(typeof e=="string")return lE(t,e);throw g1("Field path arguments must be of type string or ",t,!1,void 0,n)}const $H=new RegExp("[~\\*/\\[\\]]");function lE(t,e,n){if(e.search($H)>=0)throw g1(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new og(...e.split("."))._internalPath}catch{throw g1(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function g1(t,e,n,r,o){const l=r&&!r.isEmpty(),d=o!==void 0;let x=`Function ${e}() called with invalid data`;n&&(x+=" (via `toFirestore()`)"),x+=". ";let E="";return(l||d)&&(E+=" (found",l&&(E+=` in field ${r}`),d&&(E+=` in document ${o}`),E+=")"),new at(Pe.INVALID_ARGUMENT,x+t+E)}function PR(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(e,n,r,o,l){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new zr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new qH(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(cE("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class qH extends kR{data(){return super.data()}}function cE(t,e){return typeof e=="string"?lE(t,e):e instanceof og?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WH(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new at(Pe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class uE{}class YH extends uE{}function BR(t,e,...n){let r=[];e instanceof uE&&r.push(e),r=r.concat(n),(function(l){const d=l.filter((E=>E instanceof fE)).length,x=l.filter((E=>E instanceof ug)).length;if(d>1||d>0&&x>0)throw new at(Pe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)t=o._apply(t);return t}class ug extends YH{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new ug(e,n,r)}_apply(e){const n=this._parse(e);return FR(e._query,n),new Of(e.firestore,e.converter,m2(e._query,n))}_parse(e){const n=lg(e.firestore);return(function(l,d,x,E,m,w,A){let I;if(m.isKeyField()){if(w==="array-contains"||w==="array-contains-any")throw new at(Pe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if(w==="in"||w==="not-in"){XA(A,w);const M=[];for(const k of A)M.push(YA(E,l,k));I={arrayValue:{values:M}}}else I=YA(E,l,A)}else w!=="in"&&w!=="not-in"&&w!=="array-contains-any"||XA(A,w),I=GH(x,d,A,w==="in"||w==="not-in");return Xr.create(m,w,I)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function UR(t,e,n){const r=e,o=cE("where",t);return ug._create(o,r,n)}class fE extends uE{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new fE(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Co.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,l){let d=o;const x=l.getFlattenedFilters();for(const E of x)FR(d,E),d=m2(d,E)})(e._query,n),new Of(e.firestore,e.converter,m2(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function YA(t,e,n){if(typeof(n=Nr(n))=="string"){if(n==="")throw new at(Pe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!O3(e)&&n.indexOf("/")!==-1)throw new at(Pe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(nr.fromString(n));if(!_t.isDocumentKey(r))throw new at(Pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return fA(t,new _t(r))}if(n instanceof zr)return fA(t,n._key);throw new at(Pe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${q1(n)}.`)}function XA(t,e){if(!Array.isArray(t)||t.length===0)throw new at(Pe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function FR(t,e){const n=(function(o,l){for(const d of o)for(const x of d.getFlattenedFilters())if(l.indexOf(x.op)>=0)return x.op;return null})(t.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new at(Pe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new at(Pe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class XH{convertValue(e,n="none"){switch(tc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Fr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ec(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ut(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return oc(e,((o,l)=>{r[o]=this.convertValue(l,n)})),r}convertVectorValue(e){const n=e.fields?.[a1].arrayValue?.values?.map((r=>Fr(r.doubleValue)));return new ea(n)}convertGeoPoint(e){return new Jo(Fr(e.latitude),Fr(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=X1(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ah(e));default:return null}}convertTimestamp(e){const n=Jl(e);return new lr(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=nr.fromString(e);Un(tR(r),9688,{name:e});const o=new lh(r.get(1),r.get(3)),l=new _t(r.popFirst(5));return o.isEqual(n)||el(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VR(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class kd{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Vc extends kR{constructor(e,n,r,o,l,d){super(e,n,r,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new k0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(cE("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new at(Pe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Vc._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Vc._jsonSchemaVersion="firestore/documentSnapshot/1.0",Vc._jsonSchema={type:Kr("string",Vc._jsonSchemaVersion),bundleSource:Kr("string","DocumentSnapshot"),bundleName:Kr("string"),bundle:Kr("string")};class k0 extends Vc{data(e={}){return super.data(e)}}class af{constructor(e,n,r,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new kd(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new k0(this._firestore,this._userDataWriter,r.key,r,new kd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new at(Pe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,l){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((x=>{const E=new k0(o._firestore,o._userDataWriter,x.doc.key,x.doc,new kd(o._snapshot.mutatedKeys.has(x.doc.key),o._snapshot.fromCache),o.query.converter);return x.doc,{type:"added",doc:E,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((x=>l||x.type!==3)).map((x=>{const E=new k0(o._firestore,o._userDataWriter,x.doc.key,x.doc,new kd(o._snapshot.mutatedKeys.has(x.doc.key),o._snapshot.fromCache),o.query.converter);let m=-1,w=-1;return x.type!==0&&(m=d.indexOf(x.doc.key),d=d.delete(x.doc.key)),x.type!==1&&(d=d.add(x.doc),w=d.indexOf(x.doc.key)),{type:KH(x.type),doc:E,oldIndex:m,newIndex:w}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new at(Pe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=af._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Lx.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],o=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),r.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),o.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function KH(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ut(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dE(t){t=ta(t,zr);const e=ta(t.firestore,Df);return LH(iE(e),t._key).then((n=>ZH(e,t,n)))}af._jsonSchemaVersion="firestore/querySnapshot/1.0",af._jsonSchema={type:Kr("string",af._jsonSchemaVersion),bundleSource:Kr("string","QuerySnapshot"),bundleName:Kr("string"),bundle:Kr("string")};class zR extends XH{constructor(e){super(),this.firestore=e}convertBytes(e){return new to(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new zr(this.firestore,null,n)}}function jR(t){t=ta(t,Of);const e=ta(t.firestore,Df),n=iE(e),r=new zR(e);return WH(t._query),PH(n,t._query).then((o=>new af(e,r,t,o)))}function QH(t,e,n){t=ta(t,zr);const r=ta(t.firestore,Df),o=VR(t.converter,e);return hE(r,[OR(lg(r),"setDoc",t._key,o,t.converter!==null,n).toMutation(t._key,xo.none())])}function lf(t,e,n,...r){t=ta(t,zr);const o=ta(t.firestore,Df),l=lg(o);let d;return d=typeof(e=Nr(e))=="string"||e instanceof og?HH(l,"updateDoc",t._key,e,n,r):jH(l,"updateDoc",t._key,e),hE(o,[d.toMutation(t._key,xo.exists(!0))])}function HR(t,e){const n=ta(t.firestore,Df),r=Xc(t),o=VR(t.converter,e);return hE(n,[OR(lg(t.firestore),"addDoc",r._key,o,t.converter!==null,{}).toMutation(r._key,xo.exists(!1))]).then((()=>r))}function hE(t,e){return(function(r,o){const l=new qa;return r.asyncQueue.enqueueAndForget((async()=>wH(await DH(r),o,l))),l.promise})(iE(t),e)}function ZH(t,e,n){const r=n.docs.get(e._key),o=new zR(t);return new Vc(t,o,e._key,r,new kd(n.hasPendingWrites,n.fromCache),e.converter)}function JH(){return new oE("serverTimestamp")}(function(e,n=!0){(function(o){If=o})(tu),Gc(new Ql("firestore",((r,{instanceIdentifier:o,options:l})=>{const d=r.getProvider("app").getImmediate(),x=new Df(new jV(r.getProvider("auth-internal")),new $V(d,r.getProvider("app-check-internal")),(function(m,w){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new at(Pe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new lh(m.options.projectId,w)})(d,o),d);return l={useFetchStreams:n,...l},x._setSettings(l),x}),"PUBLIC").setMultipleInstances(!0)),Yo(ZS,JS,e),Yo(ZS,JS,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR="firebasestorage.googleapis.com",$R="storageBucket",eG=120*1e3,tG=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr extends oa{constructor(e,n,r=0){super(Ny(e),`Firebase Storage: ${n} (${Ny(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Dr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Ny(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Mr;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Mr||(Mr={}));function Ny(t){return"storage/"+t}function pE(){const t="An unknown error occurred, please check the error payload for server response.";return new Dr(Mr.UNKNOWN,t)}function nG(t){return new Dr(Mr.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function rG(t){return new Dr(Mr.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function iG(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Dr(Mr.UNAUTHENTICATED,t)}function sG(){return new Dr(Mr.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function oG(t){return new Dr(Mr.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function aG(){return new Dr(Mr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function lG(){return new Dr(Mr.CANCELED,"User canceled the upload/download.")}function cG(t){return new Dr(Mr.INVALID_URL,"Invalid URL '"+t+"'.")}function uG(t){return new Dr(Mr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function fG(){return new Dr(Mr.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+$R+"' property when initializing the app?")}function dG(){return new Dr(Mr.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function hG(){return new Dr(Mr.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function pG(t){return new Dr(Mr.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function I2(t){return new Dr(Mr.INVALID_ARGUMENT,t)}function qR(){return new Dr(Mr.APP_DELETED,"The Firebase app was deleted.")}function gG(t){return new Dr(Mr.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Xd(t,e){return new Dr(Mr.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Sd(t){throw new Dr(Mr.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Ds.makeFromUrl(e,n)}catch{return new Ds(e,"")}if(r.path==="")return r;throw uG(e)}static makeFromUrl(e,n){let r=null;const o="([A-Za-z0-9.\\-_]+)";function l(W){W.path.charAt(W.path.length-1)==="/"&&(W.path_=W.path_.slice(0,-1))}const d="(/(.*))?$",x=new RegExp("^gs://"+o+d,"i"),E={bucket:1,path:3};function m(W){W.path_=decodeURIComponent(W.path)}const w="v[A-Za-z0-9_]+",A=n.replace(/[.]/g,"\\."),I="(/([^?#]*).*)?$",N=new RegExp(`^https?://${A}/${w}/b/${o}/o${I}`,"i"),M={bucket:1,path:3},k=n===GR?"(?:storage.googleapis.com|storage.cloud.google.com)":n,V="([^?#]*)",K=new RegExp(`^https?://${k}/${o}/${V}`,"i"),H=[{regex:x,indices:E,postModify:l},{regex:N,indices:M,postModify:m},{regex:K,indices:{bucket:1,path:2},postModify:m}];for(let W=0;W<H.length;W++){const te=H[W],se=te.regex.exec(e);if(se){const z=se[te.indices.bucket];let j=se[te.indices.path];j||(j=""),r=new Ds(z,j),te.postModify(r);break}}if(r==null)throw cG(e);return r}}class mG{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yG(t,e,n){let r=1,o=null,l=null,d=!1,x=0;function E(){return x===2}let m=!1;function w(...V){m||(m=!0,e.apply(null,V))}function A(V){o=setTimeout(()=>{o=null,t(N,E())},V)}function I(){l&&clearTimeout(l)}function N(V,...K){if(m){I();return}if(V){I(),w.call(null,V,...K);return}if(E()||d){I(),w.call(null,V,...K);return}r<64&&(r*=2);let H;x===1?(x=2,H=0):H=(r+Math.random())*1e3,A(H)}let M=!1;function k(V){M||(M=!0,I(),!m&&(o!==null?(V||(x=2),clearTimeout(o),A(0)):V||(x=1)))}return A(0),l=setTimeout(()=>{d=!0,k(!0)},n),k}function xG(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EG(t){return t!==void 0}function vG(t){return typeof t=="object"&&!Array.isArray(t)}function gE(t){return typeof t=="string"||t instanceof String}function KA(t){return mE()&&t instanceof Blob}function mE(){return typeof Blob<"u"}function QA(t,e,n,r){if(r<e)throw I2(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw I2(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yE(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function WR(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const o=e(r)+"="+e(t[r]);n=n+o+"&"}return n=n.slice(0,-1),n}var zc;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(zc||(zc={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bG(t,e){const n=t>=500&&t<600,o=[408,429].indexOf(t)!==-1,l=e.indexOf(t)!==-1;return n||o||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wG{constructor(e,n,r,o,l,d,x,E,m,w,A,I=!0,N=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=o,this.successCodes_=l,this.additionalRetryCodes_=d,this.callback_=x,this.errorCallback_=E,this.timeout_=m,this.progressCallback_=w,this.connectionFactory_=A,this.retry=I,this.isUsingEmulator=N,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((M,k)=>{this.resolve_=M,this.reject_=k,this.start_()})}start_(){const e=(r,o)=>{if(o){r(!1,new p0(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const d=x=>{const E=x.loaded,m=x.lengthComputable?x.total:-1;this.progressCallback_!==null&&this.progressCallback_(E,m)};this.progressCallback_!==null&&l.addUploadProgressListener(d),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(d),this.pendingConnection_=null;const x=l.getErrorCode()===zc.NO_ERROR,E=l.getStatus();if(!x||bG(E,this.additionalRetryCodes_)&&this.retry){const w=l.getErrorCode()===zc.ABORT;r(!1,new p0(!1,null,w));return}const m=this.successCodes_.indexOf(E)!==-1;r(!0,new p0(m,l))})},n=(r,o)=>{const l=this.resolve_,d=this.reject_,x=o.connection;if(o.wasSuccessCode)try{const E=this.callback_(x,x.getResponse());EG(E)?l(E):l()}catch(E){d(E)}else if(x!==null){const E=pE();E.serverResponse=x.getErrorText(),this.errorCallback_?d(this.errorCallback_(x,E)):d(E)}else if(o.canceled){const E=this.appDelete_?qR():lG();d(E)}else{const E=aG();d(E)}};this.canceled_?n(!1,new p0(!1,null,!0)):this.backoffId_=yG(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&xG(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class p0{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function CG(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function SG(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function AG(t,e){e&&(t["X-Firebase-GMPID"]=e)}function _G(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function TG(t,e,n,r,o,l,d=!0,x=!1){const E=WR(t.urlParams),m=t.url+E,w=Object.assign({},t.headers);return AG(w,e),CG(w,n),SG(w,l),_G(w,r),new wG(m,t.method,w,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,o,d,x)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IG(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function RG(...t){const e=IG();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(mE())return new Blob(t);throw new Dr(Mr.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function NG(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MG(t){if(typeof atob>"u")throw pG("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yo={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class My{constructor(e,n){this.data=e,this.contentType=n||null}}function YR(t,e){switch(t){case yo.RAW:return new My(XR(e));case yo.BASE64:case yo.BASE64URL:return new My(KR(t,e));case yo.DATA_URL:return new My(DG(e),LG(e))}throw pE()}function XR(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const l=r,d=t.charCodeAt(++n);r=65536|(l&1023)<<10|d&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function OG(t){let e;try{e=decodeURIComponent(t)}catch{throw Xd(yo.DATA_URL,"Malformed data URL.")}return XR(e)}function KR(t,e){switch(t){case yo.BASE64:{const o=e.indexOf("-")!==-1,l=e.indexOf("_")!==-1;if(o||l)throw Xd(t,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case yo.BASE64URL:{const o=e.indexOf("+")!==-1,l=e.indexOf("/")!==-1;if(o||l)throw Xd(t,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=MG(e)}catch(o){throw o.message.includes("polyfill")?o:Xd(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r}class QR{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Xd(yo.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=PG(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function DG(t){const e=new QR(t);return e.base64?KR(yo.BASE64,e.rest):OG(e.rest)}function LG(t){return new QR(t).contentType}function PG(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(e,n){let r=0,o="";KA(e)?(this.data_=e,r=e.size,o=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,n){if(KA(this.data_)){const r=this.data_,o=NG(r,e,n);return o===null?null:new Fl(o)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Fl(r,!0)}}static getBlob(...e){if(mE()){const n=e.map(r=>r instanceof Fl?r.data_:r);return new Fl(RG.apply(null,n))}else{const n=e.map(d=>gE(d)?YR(yo.RAW,d).data:d.data_);let r=0;n.forEach(d=>{r+=d.byteLength});const o=new Uint8Array(r);let l=0;return n.forEach(d=>{for(let x=0;x<d.length;x++)o[l++]=d[x]}),new Fl(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZR(t){let e;try{e=JSON.parse(t)}catch{return null}return vG(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kG(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function BG(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function JR(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UG(t,e){return e}class Xi{constructor(e,n,r,o){this.server=e,this.local=n||e,this.writable=!!r,this.xform=o||UG}}let g0=null;function FG(t){return!gE(t)||t.length<2?t:JR(t)}function e4(){if(g0)return g0;const t=[];t.push(new Xi("bucket")),t.push(new Xi("generation")),t.push(new Xi("metageneration")),t.push(new Xi("name","fullPath",!0));function e(l,d){return FG(d)}const n=new Xi("name");n.xform=e,t.push(n);function r(l,d){return d!==void 0?Number(d):d}const o=new Xi("size");return o.xform=r,t.push(o),t.push(new Xi("timeCreated")),t.push(new Xi("updated")),t.push(new Xi("md5Hash",null,!0)),t.push(new Xi("cacheControl",null,!0)),t.push(new Xi("contentDisposition",null,!0)),t.push(new Xi("contentEncoding",null,!0)),t.push(new Xi("contentLanguage",null,!0)),t.push(new Xi("contentType",null,!0)),t.push(new Xi("metadata","customMetadata",!0)),g0=t,g0}function VG(t,e){function n(){const r=t.bucket,o=t.fullPath,l=new Ds(r,o);return e._makeStorageReference(l)}Object.defineProperty(t,"ref",{get:n})}function zG(t,e,n){const r={};r.type="file";const o=n.length;for(let l=0;l<o;l++){const d=n[l];r[d.local]=d.xform(r,e[d.server])}return VG(r,t),r}function t4(t,e,n){const r=ZR(e);return r===null?null:zG(t,r,n)}function jG(t,e,n,r){const o=ZR(e);if(o===null||!gE(o.downloadTokens))return null;const l=o.downloadTokens;if(l.length===0)return null;const d=encodeURIComponent;return l.split(",").map(m=>{const w=t.bucket,A=t.fullPath,I="/b/"+d(w)+"/o/"+d(A),N=yE(I,n,r),M=WR({alt:"media",token:m});return N+M})[0]}function HG(t,e){const n={},r=e.length;for(let o=0;o<r;o++){const l=e[o];l.writable&&(n[l.server]=t[l.local])}return JSON.stringify(n)}class n4{constructor(e,n,r,o){this.url=e,this.method=n,this.handler=r,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r4(t){if(!t)throw pE()}function GG(t,e){function n(r,o){const l=t4(t,o,e);return r4(l!==null),l}return n}function $G(t,e){function n(r,o){const l=t4(t,o,e);return r4(l!==null),jG(l,o,t.host,t._protocol)}return n}function i4(t){function e(n,r){let o;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?o=sG():o=iG():n.getStatus()===402?o=rG(t.bucket):n.getStatus()===403?o=oG(t.path):o=r,o.status=n.getStatus(),o.serverResponse=r.serverResponse,o}return e}function qG(t){const e=i4(t);function n(r,o){let l=e(r,o);return r.getStatus()===404&&(l=nG(t.path)),l.serverResponse=o.serverResponse,l}return n}function WG(t,e,n){const r=e.fullServerUrl(),o=yE(r,t.host,t._protocol),l="GET",d=t.maxOperationRetryTime,x=new n4(o,l,$G(t,n),d);return x.errorHandler=qG(e),x}function YG(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function XG(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=YG(null,e)),r}function KG(t,e,n,r,o){const l=e.bucketOnlyServerUrl(),d={"X-Goog-Upload-Protocol":"multipart"};function x(){let H="";for(let W=0;W<2;W++)H=H+Math.random().toString().slice(2);return H}const E=x();d["Content-Type"]="multipart/related; boundary="+E;const m=XG(e,r,o),w=HG(m,n),A="--"+E+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+w+`\r
--`+E+`\r
Content-Type: `+m.contentType+`\r
\r
`,I=`\r
--`+E+"--",N=Fl.getBlob(A,r,I);if(N===null)throw dG();const M={name:m.fullPath},k=yE(l,t.host,t._protocol),V="POST",K=t.maxUploadRetryTime,Z=new n4(k,V,GG(t,n),K);return Z.urlParams=M,Z.headers=d,Z.body=N.uploadData(),Z.errorHandler=i4(e),Z}class QG{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=zc.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=zc.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=zc.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,o,l){if(this.sent_)throw Sd("cannot .send() more than once");if(ic(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),l!==void 0)for(const d in l)l.hasOwnProperty(d)&&this.xhr_.setRequestHeader(d,l[d].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Sd("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Sd("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Sd("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Sd("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class ZG extends QG{initXhr(){this.xhr_.responseType="text"}}function s4(){return new ZG}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e,n){this._service=e,n instanceof Ds?this._location=n:this._location=Ds.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Kc(e,n)}get root(){const e=new Ds(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return JR(this._location.path)}get storage(){return this._service}get parent(){const e=kG(this._location.path);if(e===null)return null;const n=new Ds(this._location.bucket,e);return new Kc(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw gG(e)}}function JG(t,e,n){t._throwIfRoot("uploadBytes");const r=KG(t.storage,t._location,e4(),new Fl(e,!0),n);return t.storage.makeRequestWithTokens(r,s4).then(o=>({metadata:o,ref:t}))}function e$(t,e,n=yo.RAW,r){t._throwIfRoot("uploadString");const o=YR(n,e),l={...r};return l.contentType==null&&o.contentType!=null&&(l.contentType=o.contentType),JG(t,o.data,l)}function t$(t){t._throwIfRoot("getDownloadURL");const e=WG(t.storage,t._location,e4());return t.storage.makeRequestWithTokens(e,s4).then(n=>{if(n===null)throw hG();return n})}function n$(t,e){const n=BG(t._location.path,e),r=new Ds(t._location.bucket,n);return new Kc(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r$(t){return/^[A-Za-z]+:\/\//.test(t)}function i$(t,e){return new Kc(t,e)}function o4(t,e){if(t instanceof xE){const n=t;if(n._bucket==null)throw fG();const r=new Kc(n,n._bucket);return e!=null?o4(r,e):r}else return e!==void 0?n$(t,e):t}function s$(t,e){if(e&&r$(e)){if(t instanceof xE)return i$(t,e);throw I2("To use ref(service, url), the first argument must be a Storage instance.")}else return o4(t,e)}function ZA(t,e){const n=e?.[$R];return n==null?null:Ds.makeFromBucketSpec(n,t)}function o$(t,e,n,r={}){t.host=`${e}:${n}`;const o=ic(e);o&&(vx(`https://${t.host}/b`),bx("Storage",!0)),t._isUsingEmulator=!0,t._protocol=o?"https":"http";const{mockUserToken:l}=r;l&&(t._overrideAuthToken=typeof l=="string"?l:vI(l,t.app.options.projectId))}class xE{constructor(e,n,r,o,l,d=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=o,this._firebaseVersion=l,this._isUsingEmulator=d,this._bucket=null,this._host=GR,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=eG,this._maxUploadRetryTime=tG,this._requests=new Set,o!=null?this._bucket=Ds.makeFromBucketSpec(o,this._host):this._bucket=ZA(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ds.makeFromBucketSpec(this._url,e):this._bucket=ZA(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){QA("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){QA("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Ms(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Kc(this,e)}_makeRequest(e,n,r,o,l=!0){if(this._deleted)return new mG(qR());{const d=TG(e,this._appId,r,o,n,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(d),d.getPromise().then(()=>this._requests.delete(d),()=>this._requests.delete(d)),d}}async makeRequestWithTokens(e,n){const[r,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,o).getPromise()}}const JA="@firebase/storage",e_="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a4="storage";function a$(t,e,n,r){return t=Nr(t),e$(t,e,n,r)}function l$(t){return t=Nr(t),t$(t)}function c$(t,e){return t=Nr(t),s$(t,e)}function u$(t=Sx(),e){t=Nr(t);const r=j1(t,a4).getImmediate({identifier:e}),o=yI("storage");return o&&f$(r,...o),r}function f$(t,e,n,r={}){o$(t,e,n,r)}function d$(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return new xE(n,r,o,e,tu)}function h$(){Gc(new Ql(a4,d$,"PUBLIC").setMultipleInstances(!0)),Yo(JA,e_,""),Yo(JA,e_,"esm2020")}h$();const p$={apiKey:"AIzaSyDSBwjGlbAJ1QjDSRkf8GvLiBCsyb6GcTU",authDomain:"reviewraft-ac664.firebaseapp.com",projectId:"reviewraft-ac664",storageBucket:"reviewraft-ac664.firebasestorage.app",messagingSenderId:"419599188045",appId:"1:419599188045:web:f0e904938324b858a41c04"},EE=CI(p$),Lf=UV(EE),ra=BH(EE),g$=u$(EE);new Ua;var t_;(function(t){t.STRING="string",t.NUMBER="number",t.INTEGER="integer",t.BOOLEAN="boolean",t.ARRAY="array",t.OBJECT="object"})(t_||(t_={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var n_;(function(t){t.LANGUAGE_UNSPECIFIED="language_unspecified",t.PYTHON="python"})(n_||(n_={}));var r_;(function(t){t.OUTCOME_UNSPECIFIED="outcome_unspecified",t.OUTCOME_OK="outcome_ok",t.OUTCOME_FAILED="outcome_failed",t.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(r_||(r_={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i_=["user","model","function","system"];var s_;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(s_||(s_={}));var o_;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(o_||(o_={}));var a_;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(a_||(a_={}));var l_;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER"})(l_||(l_={}));var Kd;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.OTHER="OTHER"})(Kd||(Kd={}));var c_;(function(t){t.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",t.RETRIEVAL_QUERY="RETRIEVAL_QUERY",t.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",t.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",t.CLASSIFICATION="CLASSIFICATION",t.CLUSTERING="CLUSTERING"})(c_||(c_={}));var u_;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(u_||(u_={}));var f_;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(f_||(f_={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui extends Error{constructor(e){super(`[GoogleGenerativeAI Error]: ${e}`)}}class ju extends Ui{constructor(e,n){super(e),this.response=n}}class l4 extends Ui{constructor(e,n,r,o){super(e),this.status=n,this.statusText=r,this.errorDetails=o}}class Wl extends Ui{}class c4 extends Ui{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m$="https://generativelanguage.googleapis.com",y$="v1beta",x$="0.24.1",E$="genai-js";var Qc;(function(t){t.GENERATE_CONTENT="generateContent",t.STREAM_GENERATE_CONTENT="streamGenerateContent",t.COUNT_TOKENS="countTokens",t.EMBED_CONTENT="embedContent",t.BATCH_EMBED_CONTENTS="batchEmbedContents"})(Qc||(Qc={}));class v${constructor(e,n,r,o,l){this.model=e,this.task=n,this.apiKey=r,this.stream=o,this.requestOptions=l}toString(){var e,n;const r=((e=this.requestOptions)===null||e===void 0?void 0:e.apiVersion)||y$;let l=`${((n=this.requestOptions)===null||n===void 0?void 0:n.baseUrl)||m$}/${r}/${this.model}:${this.task}`;return this.stream&&(l+="?alt=sse"),l}}function b$(t){const e=[];return t?.apiClient&&e.push(t.apiClient),e.push(`${E$}/${x$}`),e.join(" ")}async function w$(t){var e;const n=new Headers;n.append("Content-Type","application/json"),n.append("x-goog-api-client",b$(t.requestOptions)),n.append("x-goog-api-key",t.apiKey);let r=(e=t.requestOptions)===null||e===void 0?void 0:e.customHeaders;if(r){if(!(r instanceof Headers))try{r=new Headers(r)}catch(o){throw new Wl(`unable to convert customHeaders value ${JSON.stringify(r)} to Headers: ${o.message}`)}for(const[o,l]of r.entries()){if(o==="x-goog-api-key")throw new Wl(`Cannot set reserved header name ${o}`);if(o==="x-goog-api-client")throw new Wl(`Header name ${o} can only be set using the apiClient field`);n.append(o,l)}}return n}async function C$(t,e,n,r,o,l){const d=new v$(t,e,n,r,l);return{url:d.toString(),fetchOptions:Object.assign(Object.assign({},T$(l)),{method:"POST",headers:await w$(d),body:o})}}async function Hh(t,e,n,r,o,l={},d=fetch){const{url:x,fetchOptions:E}=await C$(t,e,n,r,o,l);return S$(x,E,d)}async function S$(t,e,n=fetch){let r;try{r=await n(t,e)}catch(o){A$(o,t)}return r.ok||await _$(r,t),r}function A$(t,e){let n=t;throw n.name==="AbortError"?(n=new c4(`Request aborted when fetching ${e.toString()}: ${t.message}`),n.stack=t.stack):t instanceof l4||t instanceof Wl||(n=new Ui(`Error fetching from ${e.toString()}: ${t.message}`),n.stack=t.stack),n}async function _$(t,e){let n="",r;try{const o=await t.json();n=o.error.message,o.error.details&&(n+=` ${JSON.stringify(o.error.details)}`,r=o.error.details)}catch{}throw new l4(`Error fetching from ${e.toString()}: [${t.status} ${t.statusText}] ${n}`,t.status,t.statusText,r)}function T$(t){const e={};if(t?.signal!==void 0||t?.timeout>=0){const n=new AbortController;t?.timeout>=0&&setTimeout(()=>n.abort(),t.timeout),t?.signal&&t.signal.addEventListener("abort",()=>{n.abort()}),e.signal=n.signal}return e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vE(t){return t.text=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),B0(t.candidates[0]))throw new ju(`${Pl(t)}`,t);return I$(t)}else if(t.promptFeedback)throw new ju(`Text not available. ${Pl(t)}`,t);return""},t.functionCall=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),B0(t.candidates[0]))throw new ju(`${Pl(t)}`,t);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),d_(t)[0]}else if(t.promptFeedback)throw new ju(`Function call not available. ${Pl(t)}`,t)},t.functionCalls=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),B0(t.candidates[0]))throw new ju(`${Pl(t)}`,t);return d_(t)}else if(t.promptFeedback)throw new ju(`Function call not available. ${Pl(t)}`,t)},t}function I$(t){var e,n,r,o;const l=[];if(!((n=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const d of(o=(r=t.candidates)===null||r===void 0?void 0:r[0].content)===null||o===void 0?void 0:o.parts)d.text&&l.push(d.text),d.executableCode&&l.push("\n```"+d.executableCode.language+`
`+d.executableCode.code+"\n```\n"),d.codeExecutionResult&&l.push("\n```\n"+d.codeExecutionResult.output+"\n```\n");return l.length>0?l.join(""):""}function d_(t){var e,n,r,o;const l=[];if(!((n=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const d of(o=(r=t.candidates)===null||r===void 0?void 0:r[0].content)===null||o===void 0?void 0:o.parts)d.functionCall&&l.push(d.functionCall);if(l.length>0)return l}const R$=[Kd.RECITATION,Kd.SAFETY,Kd.LANGUAGE];function B0(t){return!!t.finishReason&&R$.includes(t.finishReason)}function Pl(t){var e,n,r;let o="";if((!t.candidates||t.candidates.length===0)&&t.promptFeedback)o+="Response was blocked",!((e=t.promptFeedback)===null||e===void 0)&&e.blockReason&&(o+=` due to ${t.promptFeedback.blockReason}`),!((n=t.promptFeedback)===null||n===void 0)&&n.blockReasonMessage&&(o+=`: ${t.promptFeedback.blockReasonMessage}`);else if(!((r=t.candidates)===null||r===void 0)&&r[0]){const l=t.candidates[0];B0(l)&&(o+=`Candidate was blocked due to ${l.finishReason}`,l.finishMessage&&(o+=`: ${l.finishMessage}`))}return o}function hh(t){return this instanceof hh?(this.v=t,this):new hh(t)}function N$(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),o,l=[];return o={},d("next"),d("throw"),d("return"),o[Symbol.asyncIterator]=function(){return this},o;function d(I){r[I]&&(o[I]=function(N){return new Promise(function(M,k){l.push([I,N,M,k])>1||x(I,N)})})}function x(I,N){try{E(r[I](N))}catch(M){A(l[0][3],M)}}function E(I){I.value instanceof hh?Promise.resolve(I.value.v).then(m,w):A(l[0][2],I)}function m(I){x("next",I)}function w(I){x("throw",I)}function A(I,N){I(N),l.shift(),l.length&&x(l[0][0],l[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h_=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function M$(t){const e=t.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),n=L$(e),[r,o]=n.tee();return{stream:D$(r),response:O$(o)}}async function O$(t){const e=[],n=t.getReader();for(;;){const{done:r,value:o}=await n.read();if(r)return vE(P$(e));e.push(o)}}function D$(t){return N$(this,arguments,function*(){const n=t.getReader();for(;;){const{value:r,done:o}=yield hh(n.read());if(o)break;yield yield hh(vE(r))}})}function L$(t){const e=t.getReader();return new ReadableStream({start(r){let o="";return l();function l(){return e.read().then(({value:d,done:x})=>{if(x){if(o.trim()){r.error(new Ui("Failed to parse stream"));return}r.close();return}o+=d;let E=o.match(h_),m;for(;E;){try{m=JSON.parse(E[1])}catch{r.error(new Ui(`Error parsing JSON response: "${E[1]}"`));return}r.enqueue(m),o=o.substring(E[0].length),E=o.match(h_)}return l()}).catch(d=>{let x=d;throw x.stack=d.stack,x.name==="AbortError"?x=new c4("Request aborted when reading from the stream"):x=new Ui("Error reading from the stream"),x})}}})}function P$(t){const e=t[t.length-1],n={promptFeedback:e?.promptFeedback};for(const r of t){if(r.candidates){let o=0;for(const l of r.candidates)if(n.candidates||(n.candidates=[]),n.candidates[o]||(n.candidates[o]={index:o}),n.candidates[o].citationMetadata=l.citationMetadata,n.candidates[o].groundingMetadata=l.groundingMetadata,n.candidates[o].finishReason=l.finishReason,n.candidates[o].finishMessage=l.finishMessage,n.candidates[o].safetyRatings=l.safetyRatings,l.content&&l.content.parts){n.candidates[o].content||(n.candidates[o].content={role:l.content.role||"user",parts:[]});const d={};for(const x of l.content.parts)x.text&&(d.text=x.text),x.functionCall&&(d.functionCall=x.functionCall),x.executableCode&&(d.executableCode=x.executableCode),x.codeExecutionResult&&(d.codeExecutionResult=x.codeExecutionResult),Object.keys(d).length===0&&(d.text=""),n.candidates[o].content.parts.push(d)}o++}r.usageMetadata&&(n.usageMetadata=r.usageMetadata)}return n}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u4(t,e,n,r){const o=await Hh(e,Qc.STREAM_GENERATE_CONTENT,t,!0,JSON.stringify(n),r);return M$(o)}async function f4(t,e,n,r){const l=await(await Hh(e,Qc.GENERATE_CONTENT,t,!1,JSON.stringify(n),r)).json();return{response:vE(l)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d4(t){if(t!=null){if(typeof t=="string")return{role:"system",parts:[{text:t}]};if(t.text)return{role:"system",parts:[t]};if(t.parts)return t.role?t:{role:"system",parts:t.parts}}}function ph(t){let e=[];if(typeof t=="string")e=[{text:t}];else for(const n of t)typeof n=="string"?e.push({text:n}):e.push(n);return k$(e)}function k$(t){const e={role:"user",parts:[]},n={role:"function",parts:[]};let r=!1,o=!1;for(const l of t)"functionResponse"in l?(n.parts.push(l),o=!0):(e.parts.push(l),r=!0);if(r&&o)throw new Ui("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!r&&!o)throw new Ui("No content is provided for sending chat message.");return r?e:n}function B$(t,e){var n;let r={model:e?.model,generationConfig:e?.generationConfig,safetySettings:e?.safetySettings,tools:e?.tools,toolConfig:e?.toolConfig,systemInstruction:e?.systemInstruction,cachedContent:(n=e?.cachedContent)===null||n===void 0?void 0:n.name,contents:[]};const o=t.generateContentRequest!=null;if(t.contents){if(o)throw new Wl("CountTokensRequest must have one of contents or generateContentRequest, not both.");r.contents=t.contents}else if(o)r=Object.assign(Object.assign({},r),t.generateContentRequest);else{const l=ph(t);r.contents=[l]}return{generateContentRequest:r}}function p_(t){let e;return t.contents?e=t:e={contents:[ph(t)]},t.systemInstruction&&(e.systemInstruction=d4(t.systemInstruction)),e}function U$(t){return typeof t=="string"||Array.isArray(t)?{content:ph(t)}:t}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g_=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],F$={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function V$(t){let e=!1;for(const n of t){const{role:r,parts:o}=n;if(!e&&r!=="user")throw new Ui(`First content should be with role 'user', got ${r}`);if(!i_.includes(r))throw new Ui(`Each item should include role field. Got ${r} but valid roles are: ${JSON.stringify(i_)}`);if(!Array.isArray(o))throw new Ui("Content should have 'parts' property with an array of Parts");if(o.length===0)throw new Ui("Each Content should have at least one part");const l={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const x of o)for(const E of g_)E in x&&(l[E]+=1);const d=F$[r];for(const x of g_)if(!d.includes(x)&&l[x]>0)throw new Ui(`Content with role '${r}' can't contain '${x}' part`);e=!0}}function m_(t){var e;if(t.candidates===void 0||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;if(n===void 0||n.parts===void 0||n.parts.length===0)return!1;for(const r of n.parts)if(r===void 0||Object.keys(r).length===0||r.text!==void 0&&r.text==="")return!1;return!0}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_="SILENT_ERROR";class z${constructor(e,n,r,o={}){this.model=n,this.params=r,this._requestOptions=o,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=e,r?.history&&(V$(r.history),this._history=r.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(e,n={}){var r,o,l,d,x,E;await this._sendPromise;const m=ph(e),w={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(o=this.params)===null||o===void 0?void 0:o.generationConfig,tools:(l=this.params)===null||l===void 0?void 0:l.tools,toolConfig:(d=this.params)===null||d===void 0?void 0:d.toolConfig,systemInstruction:(x=this.params)===null||x===void 0?void 0:x.systemInstruction,cachedContent:(E=this.params)===null||E===void 0?void 0:E.cachedContent,contents:[...this._history,m]},A=Object.assign(Object.assign({},this._requestOptions),n);let I;return this._sendPromise=this._sendPromise.then(()=>f4(this._apiKey,this.model,w,A)).then(N=>{var M;if(m_(N.response)){this._history.push(m);const k=Object.assign({parts:[],role:"model"},(M=N.response.candidates)===null||M===void 0?void 0:M[0].content);this._history.push(k)}else{const k=Pl(N.response);k&&console.warn(`sendMessage() was unsuccessful. ${k}. Inspect response object for details.`)}I=N}).catch(N=>{throw this._sendPromise=Promise.resolve(),N}),await this._sendPromise,I}async sendMessageStream(e,n={}){var r,o,l,d,x,E;await this._sendPromise;const m=ph(e),w={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(o=this.params)===null||o===void 0?void 0:o.generationConfig,tools:(l=this.params)===null||l===void 0?void 0:l.tools,toolConfig:(d=this.params)===null||d===void 0?void 0:d.toolConfig,systemInstruction:(x=this.params)===null||x===void 0?void 0:x.systemInstruction,cachedContent:(E=this.params)===null||E===void 0?void 0:E.cachedContent,contents:[...this._history,m]},A=Object.assign(Object.assign({},this._requestOptions),n),I=u4(this._apiKey,this.model,w,A);return this._sendPromise=this._sendPromise.then(()=>I).catch(N=>{throw new Error(y_)}).then(N=>N.response).then(N=>{if(m_(N)){this._history.push(m);const M=Object.assign({},N.candidates[0].content);M.role||(M.role="model"),this._history.push(M)}else{const M=Pl(N);M&&console.warn(`sendMessageStream() was unsuccessful. ${M}. Inspect response object for details.`)}}).catch(N=>{N.message!==y_&&console.error(N)}),I}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j$(t,e,n,r){return(await Hh(e,Qc.COUNT_TOKENS,t,!1,JSON.stringify(n),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H$(t,e,n,r){return(await Hh(e,Qc.EMBED_CONTENT,t,!1,JSON.stringify(n),r)).json()}async function G$(t,e,n,r){const o=n.requests.map(d=>Object.assign(Object.assign({},d),{model:e}));return(await Hh(e,Qc.BATCH_EMBED_CONTENTS,t,!1,JSON.stringify({requests:o}),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x_{constructor(e,n,r={}){this.apiKey=e,this._requestOptions=r,n.model.includes("/")?this.model=n.model:this.model=`models/${n.model}`,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.tools=n.tools,this.toolConfig=n.toolConfig,this.systemInstruction=d4(n.systemInstruction),this.cachedContent=n.cachedContent}async generateContent(e,n={}){var r;const o=p_(e),l=Object.assign(Object.assign({},this._requestOptions),n);return f4(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},o),l)}async generateContentStream(e,n={}){var r;const o=p_(e),l=Object.assign(Object.assign({},this._requestOptions),n);return u4(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},o),l)}startChat(e){var n;return new z$(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},e),this._requestOptions)}async countTokens(e,n={}){const r=B$(e,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),o=Object.assign(Object.assign({},this._requestOptions),n);return j$(this.apiKey,this.model,r,o)}async embedContent(e,n={}){const r=U$(e),o=Object.assign(Object.assign({},this._requestOptions),n);return H$(this.apiKey,this.model,r,o)}async batchEmbedContents(e,n={}){const r=Object.assign(Object.assign({},this._requestOptions),n);return G$(this.apiKey,this.model,e,r)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{constructor(e){this.apiKey=e}getGenerativeModel(e,n){if(!e.model)throw new Ui("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new x_(this.apiKey,e,n)}getGenerativeModelFromCachedContent(e,n,r){if(!e.name)throw new Wl("Cached content must contain a `name` field.");if(!e.model)throw new Wl("Cached content must contain a `model` field.");const o=["model","systemInstruction"];for(const d of o)if(n?.[d]&&e[d]&&n?.[d]!==e[d]){if(d==="model"){const x=n.model.startsWith("models/")?n.model.replace("models/",""):n.model,E=e.model.startsWith("models/")?e.model.replace("models/",""):e.model;if(x===E)continue}throw new Wl(`Different value for "${d}" specified in modelParams (${n[d]}) and cachedContent (${e[d]})`)}const l=Object.assign(Object.assign({},n),{model:e.model,tools:e.tools,toolConfig:e.toolConfig,systemInstruction:e.systemInstruction,cachedContent:e});return new x_(this.apiKey,l,r)}}const Ad=[{code:"en",name:"English"},{code:"es",name:"Espaol"},{code:"fr",name:"Franais"},{code:"de",name:"Deutsch"},{code:"hi",name:""},{code:"pt",name:"Portugus"},{code:"ru",name:""},{code:"ja",name:""},{code:"zh",name:""},{code:"bn",name:""},{code:"te",name:""},{code:"mr",name:""},{code:"ta",name:""},{code:"gu",name:""},{code:"kn",name:""},{code:"ml",name:""},{code:"it",name:"Italiano"}],$$={IN:"hi"},q$={Gujarat:"GJ",Maharashtra:"MH","Andhra Pradesh":"AP",Telangana:"TS","West Bengal":"WB","Tamil Nadu":"TN",Karnataka:"KA",Kerala:"KL"},_d={IN:{default:["en","hi"],AP:["te","en"],TS:["te","en"],WB:["bn","en"],MH:["mr","en","hi"],TN:["ta","en"],KA:["kn","en"],GJ:["gu","en","hi"],KL:["ml","en"]},US:{default:["en","es","zh"]},GB:{default:["en"]},CA:{default:["en","fr"]},AU:{default:["en"]},DE:{default:["de"]},FR:{default:["fr"]},ES:{default:["es"]},MX:{default:["es"]},BR:{default:["pt"]}},W$=[{value:0,emoji:"",label:"Terrible"},{value:25,emoji:"",label:"Bad"},{value:50,emoji:"",label:"Okay"},{value:75,emoji:"",label:"Good"},{value:100,emoji:"",label:"Excellent"}],Y$=()=>{const[t,e]=L.useState(75),[n,r]=L.useState([]),[o,l]=L.useState(""),[d,x]=L.useState([]),[E,m]=L.useState({}),[w,A]=L.useState((navigator.language||navigator.userLanguage).split("-")[0]),[I,N]=L.useState([]),[M,k]=L.useState(""),[V,K]=L.useState(!1),[Z,H]=L.useState(""),[W,te]=L.useState(""),[se,z]=L.useState(null),[j,F]=L.useState(null),[J,Y]=L.useState(!1),O=ro(),ue=new URLSearchParams(O.search).get("business_id"),re=L.useCallback(async()=>{K(!0),H("");const Re=new h4("AIzaSyCgf2P0k8og0ENk5XaBjZhvTe4XSwxPNvg").getGenerativeModel({model:"gemini-2.5-flash"}),ze=t>75?"an excellent":t>50?"a good":t>25?"an average":"a poor",we=Object.entries(E).map(([tt,nt])=>`- ${tt}: ${nt>75?"great":nt>50?"good":nt>25?"okay":"bad"}`).join(`
`),Ke=`Generate a casual, friendly customer review in ${w} for a business named "${W}".

Please adhere to the following:
- The review must be based on the customer's feedback provided below.
- NEVER use placeholders like "[Business Name]". The review must be ready to publish.

Customer's Feedback:
- Overall experience: ${ze}
- Specific feedback:
${we}

Review:`;try{let st=(await(await Re.generateContent(Ke)).response).text();st=st.replace(/^"|"$/g,"").replace(/\*/g,""),k(st)}catch(tt){H("Failed to generate review. Please try again."),console.error("Error generating review:",tt)}finally{K(!1)}},[t,E,w,W]);L.useEffect(()=>{(async()=>{if(ue){K(!0),H("");try{const Re=Xc(ra,"business_links",ue),ze=await dE(Re);if(ze.exists()){const we=ze.data();if(z(we.url),te(we.businessName||""),we.highlightTabs&&we.highlightTabs.length>0){r(we.highlightTabs);const Ke=we.highlightTabs.slice(0,3);x(Ke);const tt={};Ke.forEach(nt=>{tt[nt]=75}),m(tt)}}}catch(Re){H("Failed to load business data. Please try again."),console.error("Error fetching business data:",Re)}finally{K(!1)}}})()},[ue]),L.useEffect(()=>{(async()=>{try{const ze=await(await fetch("https://ipinfo.io/json")).json(),we=ze.country,Ke=ze.region,tt=q$[Ke],nt=(navigator.language||navigator.userLanguage).split("-")[0];let st=null;_d[we]&&tt&&_d[we][tt]&&(st=_d[we][tt][0]);const dt=$$[we]||(_d[we]?_d[we].default[1]:null),rt=[...new Set([nt,st,dt].filter(Boolean))].map(ht=>Ad.find(Mt=>Mt.code===ht)).filter(Boolean);N(rt),A(nt)}catch(Re){console.error("Failed to fetch regional languages:",Re);const ze=Ad.find(we=>we.code===(navigator.language||navigator.userLanguage).split("-")[0])||Ad[0];N([ze].filter(Boolean)),A(ze.code)}})()},[]);const ie=()=>{o&&!n.includes(o)&&(r([...n,o]),x([...d,o]),m({...E,[o]:50}),l(""))},he=me=>{if(d.includes(me)){x(d.filter(ze=>ze!==me));const Re={...E};delete Re[me],m(Re)}else x([...d,me]),m({...E,[me]:75})},Ne=()=>{!M||!se||(window.open(se,"_blank"),navigator.clipboard.writeText(M),Y(!0),HR(sg(ra,"reviews"),{businessId:ue,reviewText:M,language:w,overallExperience:t,keywordRatings:E,createdAt:JH()}).then(()=>{}).catch(me=>{console.error("Error saving review: ",me)}).finally(()=>{Y(!1)}))},Te=W$.find(me=>me.value===t),We=me=>F(me.currentTarget),ae=()=>F(null),ge=me=>{if(A(me),!I.find(Re=>Re.code===me)){const Re=Ad.find(ze=>ze.code===me);Re&&N([...I,Re])}ae()};return U.jsxs(Gn,{sx:{flexGrow:1,backgroundColor:"#f5f5f5",minHeight:"100vh",pb:10},children:[U.jsx($T,{position:"static",sx:{backgroundColor:"white",color:"black"},elevation:1,children:U.jsxs(aI,{children:[U.jsx(Rh,{sx:{fontSize:28,mr:1,color:"#1A73E8"}}),U.jsx(Lt,{variant:"h6",component:"div",sx:{flexGrow:1,fontWeight:"bold"},children:W||"Leave a Review"})]})}),U.jsxs(Gn,{sx:{p:2},children:[U.jsxs(Qi,{sx:{p:2,mb:2},children:[U.jsx(Lt,{variant:"h6",sx:{mb:1},children:"Review Language"}),U.jsxs(Ga,{container:!0,spacing:1,children:[I.map(me=>U.jsx(Ga,{item:!0,children:U.jsx(A0,{label:me.name,clickable:!0,onClick:()=>A(me.code),color:w===me.code?"primary":"default"})},me.code)),U.jsxs(Ga,{item:!0,children:[U.jsx(A0,{label:"Other...",onClick:We}),U.jsx(tI,{anchorEl:j,open:!!j,onClose:ae,children:Ad.map(me=>U.jsx(L9,{onClick:()=>ge(me.code),children:me.name},me.code))})]})]})]}),U.jsxs(Qi,{sx:{p:2,mb:2,textAlign:"center"},children:[U.jsx(Lt,{variant:"h6",sx:{mb:1},children:"How was your experience?"}),U.jsx(Lt,{variant:"h2",sx:{mb:1},children:Te.emoji}),U.jsx(vS,{value:t,onChange:(me,Re)=>e(Re),step:25,marks:!0,sx:{"& .MuiSlider-rail":{height:8},"& .MuiSlider-track":{height:8}}}),U.jsxs(Gn,{sx:{display:"flex",justifyContent:"space-between"},children:[U.jsx(Lt,{variant:"caption",children:"Negative"}),U.jsx(Lt,{variant:"caption",children:"Positive"})]})]}),U.jsxs(Qi,{sx:{p:2,mb:2,minHeight:"150px"},children:[U.jsx(Lt,{variant:"h6",sx:{mb:1},children:"Select highlights of your experience"}),U.jsx(Gn,{sx:{display:"flex",flexWrap:"wrap",gap:1,mb:2},children:n.map(me=>U.jsx(A0,{label:me,clickable:!0,onClick:()=>he(me),color:d.includes(me)?"primary":"default"},me))}),U.jsxs(Gn,{sx:{display:"flex",gap:1,alignItems:"center"},children:[U.jsx(fs,{fullWidth:!0,size:"small",variant:"outlined",placeholder:"Add custom highlight...",value:o,onChange:me=>l(me.target.value),onKeyPress:me=>me.key==="Enter"&&ie()}),U.jsx(bo,{onClick:ie,children:U.jsx(lI,{})})]})]}),d.map(me=>U.jsxs(Qi,{sx:{p:2,mb:2},children:[U.jsx(Lt,{variant:"h6",children:me}),U.jsxs(Gn,{sx:{display:"flex",alignItems:"center",gap:2,px:1},children:[U.jsx(Lt,{variant:"h5",children:""}),U.jsx(vS,{value:E[me]??50,onChange:(Re,ze)=>m({...E,[me]:ze}),step:25,marks:!0,min:0,max:100}),U.jsx(Lt,{variant:"h5",children:""})]})]},me)),U.jsxs(Qi,{sx:{p:2},children:[U.jsx(Lt,{variant:"h6",sx:{mb:1},children:"AI Generated Review"}),U.jsx(Lt,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Based on your feedback, here's a draft. Feel free to edit it."}),Z&&U.jsx(jc,{severity:"error",sx:{mb:2},children:Z}),U.jsx(Qa,{fullWidth:!0,variant:"contained",onClick:re,disabled:V||d.length===0,sx:{mb:2},children:V?U.jsx(Ps,{size:24}):"Generate"}),U.jsx(fs,{fullWidth:!0,multiline:!0,rows:6,variant:"outlined",value:M,onChange:me=>k(me.target.value),placeholder:!M&&!V?"Click 'Generate' to create a review.":""})]}),U.jsx(Lt,{variant:"caption",sx:{display:"block",textAlign:"center",color:"grey.600",mt:2},children:"Powered by ReviewRaft"})]}),U.jsx(Gn,{sx:{p:2,position:"fixed",bottom:0,left:0,right:0,backgroundColor:"#fff",boxShadow:"0 -2px 5px rgba(0,0,0,0.1)"},children:U.jsx(Qa,{fullWidth:!0,variant:"contained",color:"primary",onClick:Ne,disabled:!M||J,children:J?U.jsx(Ps,{size:24}):"Copy & Add Review"})})]})};function X$(){return U.jsx("nav",{className:"navbar",children:U.jsxs("div",{className:"navbar-container",children:[U.jsxs(Bd,{to:"/",className:"navbar-logo",children:[U.jsx(Rh,{sx:{fontSize:40,mr:1,color:"#1A73E8"}}),"ReviewQR"]}),U.jsxs("ul",{className:"nav-menu",children:[U.jsx("li",{className:"nav-item",children:U.jsx(Bd,{to:"/",className:"nav-links",children:U.jsx(bo,{children:U.jsx(cI,{})})})}),U.jsx("li",{className:"nav-item",children:U.jsx(Bd,{to:"/scan-qr",className:"nav-links",children:U.jsx(bo,{children:U.jsx(V7,{})})})})]})]})})}const K$=()=>{const t=ia(),e=()=>{Lf.signOut(),t("/business/login")},n=()=>{t("/business/dashboard")};return U.jsx($T,{position:"static",sx:{backgroundColor:"#1976d2"},children:U.jsxs(aI,{children:[U.jsx(Lt,{variant:"h4",component:"div",sx:{flexGrow:1,fontFamily:"'Italianno', cursive",fontWeight:"bold"},children:"ReviewRaft"}),U.jsxs(Gn,{children:[U.jsx(bo,{color:"inherit",onClick:n,children:U.jsx(cI,{})}),U.jsx(bo,{color:"inherit",onClick:e,children:U.jsx(U7,{})})]})]})})},Dc=({children:t})=>{const[e,n]=L.useState(null),[r,o]=L.useState(!0);return L.useEffect(()=>{const l=TF(Lf,d=>{n(d),o(!1)});return()=>l()},[]),r?U.jsx(Gn,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:U.jsx(Ps,{})}):e?t:U.jsx(P_,{to:"/business/login",replace:!0})};function Q$(){const t=ia(),[e,n]=L.useState(""),[r,o]=L.useState(""),[l,d]=L.useState(!1),[x,E]=L.useState(""),[m,w]=L.useState(!1),A=async I=>{I.preventDefault(),w(!0),E("");try{await wF(Lf,e,r),t("/business/dashboard")}catch(N){E(N.message)}w(!1)};return U.jsxs(eu,{component:"main",maxWidth:"sm",sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",minHeight:"100vh"},children:[U.jsxs(Gn,{sx:{display:"flex",alignItems:"center",justifyContent:"center",mb:4},children:[U.jsx(Rh,{sx:{fontSize:40,mr:1,color:"#1A73E8"}}),U.jsx(Lt,{variant:"h4",component:"div",sx:{fontFamily:"'Italianno', cursive",fontWeight:"bold"},children:"ReviewRaft"})]}),U.jsxs(Gn,{sx:{display:"flex",flexDirection:"column",alignItems:"center",mt:2,width:"100%"},children:[U.jsx(Lt,{component:"h1",variant:"h4",sx:{mb:1,fontWeight:"bold"},children:"Login to your account"}),U.jsx(Lt,{variant:"body1",color:"text.secondary",sx:{mb:3},children:"Welcome back! Please enter your details."}),x&&U.jsx(jc,{severity:"error",sx:{width:"100%",mb:2},children:x}),U.jsxs(Gn,{component:"form",onSubmit:A,noValidate:!0,sx:{width:"100%"},children:[U.jsx(fs,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,value:e,onChange:I=>n(I.target.value),InputProps:{sx:{borderRadius:"8px",fontSize:"1.1rem"}}}),U.jsx(fs,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:l?"text":"password",id:"password",autoComplete:"current-password",value:r,onChange:I=>o(I.target.value),InputProps:{sx:{borderRadius:"8px",fontSize:"1.1rem"},endAdornment:U.jsx(XT,{position:"end",children:U.jsx(bo,{"aria-label":"toggle password visibility",onClick:()=>d(!l),edge:"end",children:l?U.jsx(dI,{}):U.jsx(fI,{})})})}}),U.jsx(Qa,{type:"submit",fullWidth:!0,variant:"contained",disabled:m,sx:{mt:3,mb:2,py:1.5,textTransform:"none",fontSize:"1.1rem",borderRadius:"8px",backgroundColor:"#4285F4"},children:m?U.jsx(Ps,{size:24}):"Login"}),U.jsx(Ga,{container:!0,justifyContent:"center",children:U.jsx(Ga,{item:!0,children:U.jsxs(Lt,{variant:"body2",children:["New to our service?"," ",U.jsx(KT,{href:"/business/signup",variant:"body2",sx:{color:"#1A73E8",textDecoration:"none"},children:"Register here"})]})})})]})]})]})}const Z$=new h4("AIzaSyCgf2P0k8og0ENk5XaBjZhvTe4XSwxPNvg"),p4=async t=>{if(!t)return console.log("No description provided, returning default tabs."),["Service","Quality","Price","Ambiance"];try{const e=Z$.getGenerativeModel({model:"gemini-2.5-flash"}),n=`Based on the following business description, generate between 4 and 8 concise, one or two-word highlight tabs for customer reviews. The output MUST be a valid JSON array of strings.
    Description: "${t}"
    
    Example output for a coffee shop: ["Coffee", "Pastries", "Ambiance", "Service", "Price"]
    Example output for a hair salon: ["Haircut", "Color", "Styling", "Service", "Price"]

    JSON Array:`,l=(await(await e.generateContent(n)).response).text(),d=l.replace(/```json/g,"").replace(/```/g,"").trim(),x=JSON.parse(d);return Array.isArray(x)?x:(console.error("AI did not return a valid array. Fallback response:",l),["Service","Quality","Price","Ambiance"])}catch(e){return console.error("Error generating highlight tabs:",e),["Service","Quality","Price","Ambiance"]}};function J$(){const t=ia(),[e,n]=L.useState(""),[r,o]=L.useState(""),[l,d]=L.useState(""),[x,E]=L.useState(""),[m,w]=L.useState(""),[A,I]=L.useState(!1),[N,M]=L.useState(""),[k,V]=L.useState(!1),K=async Z=>{Z.preventDefault(),V(!0),M("");try{const W=(await bF(Lf,x,m)).user;await SF(W,{displayName:e}),await QH(Xc(ra,"users",W.uid),{email:W.email,fullName:e,createdAt:new Date});const te=await HR(sg(ra,"business_links"),{userId:W.uid,businessName:r,description:l,createdAt:new Date}),se=await p4(l);await lf(te,{highlightTabs:se}),t("/business/dashboard")}catch(H){M(H.message)}V(!1)};return U.jsxs(eu,{component:"main",maxWidth:"sm",sx:{mt:4},children:[U.jsxs(Gn,{sx:{display:"flex",alignItems:"center",mb:4},children:[U.jsx(Rh,{sx:{fontSize:40,mr:1,color:"#1A73E8"}}),U.jsx(Lt,{variant:"h4",component:"div",sx:{fontFamily:"'Italianno', cursive",fontWeight:"bold"},children:"ReviewRaft"})]}),U.jsxs(Gn,{sx:{display:"flex",flexDirection:"column",alignItems:"center",mt:2},children:[U.jsx(Lt,{component:"h1",variant:"h4",sx:{mb:1,fontWeight:"bold"},children:"Create an account"}),U.jsx(Lt,{variant:"body1",color:"text.secondary",sx:{mb:3},children:"Get started by creating your user profile and business page."}),N&&U.jsx(jc,{severity:"error",sx:{width:"100%",mb:2},children:N}),U.jsxs(Gn,{component:"form",onSubmit:K,noValidate:!0,sx:{width:"100%"},children:[U.jsx(fs,{margin:"normal",required:!0,fullWidth:!0,id:"fullName",label:"Your Full Name",name:"fullName",autoComplete:"name",autoFocus:!0,value:e,onChange:Z=>n(Z.target.value),InputProps:{sx:{borderRadius:"8px",fontSize:"1.1rem"}}}),U.jsx(fs,{margin:"normal",required:!0,fullWidth:!0,id:"businessName",label:"Business Name",name:"businessName",value:r,onChange:Z=>o(Z.target.value),InputProps:{sx:{borderRadius:"8px",fontSize:"1.1rem"}}}),U.jsx(fs,{margin:"normal",required:!0,fullWidth:!0,id:"businessDescription",label:"Business Description",name:"businessDescription",multiline:!0,rows:3,placeholder:"e.g., A cozy cafe serving artisanal coffee and pastries.",value:l,onChange:Z=>d(Z.target.value),InputProps:{sx:{borderRadius:"8px",fontSize:"1.1rem"}}}),U.jsx(fs,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",value:x,onChange:Z=>E(Z.target.value),InputProps:{sx:{borderRadius:"8px",fontSize:"1.1rem"}}}),U.jsx(fs,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:A?"text":"password",id:"password",autoComplete:"new-password",value:m,onChange:Z=>w(Z.target.value),InputProps:{sx:{borderRadius:"8px",fontSize:"1.1rem"},endAdornment:U.jsx(XT,{position:"end",children:U.jsx(bo,{"aria-label":"toggle password visibility",onClick:()=>I(!A),edge:"end",children:A?U.jsx(dI,{}):U.jsx(fI,{})})})}}),U.jsx(Qa,{type:"submit",fullWidth:!0,variant:"contained",disabled:k,sx:{mt:3,mb:2,py:1.5,textTransform:"none",fontSize:"1.1rem",borderRadius:"8px",backgroundColor:"#4285F4"},children:k?U.jsx(Ps,{size:24}):"Create Account & Continue"}),U.jsx(Ga,{container:!0,justifyContent:"center",children:U.jsx(Ga,{item:!0,children:U.jsxs(Lt,{variant:"body2",children:["Already have an account?"," ",U.jsx(KT,{href:"/business/login",variant:"body2",sx:{color:"#1A73E8",textDecoration:"none"},children:"Login here"})]})})})]})]})]})}const m0=({icon:t,title:e,path:n})=>{const r=ia(),o=t;return U.jsx(Ga,{item:!0,xs:6,children:U.jsx(ff,{onClick:()=>r(n),sx:{width:"100%",height:"100%",borderRadius:"12px","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.04)"}},children:U.jsxs(Qi,{elevation:2,sx:{p:3,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%",height:"100%",aspectRatio:"1 / 1",borderRadius:"12px"},children:[U.jsx(o,{sx:{fontSize:48,color:"primary.main",mb:1}}),U.jsx(Lt,{variant:"h6",component:"div",sx:{fontWeight:"medium",textAlign:"center"},children:e})]})})})};function eq(){return U.jsxs(eu,{component:"main",maxWidth:"sm",sx:{mt:4,display:"flex",flexDirection:"column",alignItems:"center"},children:[U.jsxs(Gn,{sx:{textAlign:"center",mb:4},children:[U.jsx(Lt,{variant:"h4",component:"h1",sx:{fontWeight:"bold"},children:"Dashboard"}),U.jsx(Lt,{variant:"body1",color:"text.secondary",children:"Manage your business reviews and settings."})]}),U.jsxs(Ga,{container:!0,spacing:3,sx:{maxWidth:"500px",width:"100%"},children:[U.jsx(m0,{icon:Rh,title:"QR Code",path:"/business/your-qr-code"}),U.jsx(m0,{icon:D7,title:"Analytics",path:"/business/analytics"}),U.jsx(m0,{icon:O7,title:"Profile",path:"/business/profile-settings"}),U.jsx(m0,{icon:P7,title:"Subscription & Billing",path:"/business/billing"})]})]})}var Oy,E_;function tq(){return E_||(E_=1,Oy=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,o,l;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(o=r;o--!==0;)if(!t(e[o],n[o]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(l=Object.keys(e),r=l.length,r!==Object.keys(n).length)return!1;for(o=r;o--!==0;)if(!Object.prototype.hasOwnProperty.call(n,l[o]))return!1;for(o=r;o--!==0;){var d=l[o];if(!t(e[d],n[d]))return!1}return!0}return e!==e&&n!==n}),Oy}var nq=tq();const rq=x1(nq),iq="1.7.0";function vf(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n}function R2(t,e,n,r){function o(l){return l instanceof n?l:new n(function(d){d(l)})}return new(n||(n=Promise))(function(l,d){function x(w){try{m(r.next(w))}catch(A){d(A)}}function E(w){try{m(r.throw(w))}catch(A){d(A)}}function m(w){w.done?l(w.value):o(w.value).then(x,E)}m((r=r.apply(t,[])).next())})}const Fa={NOT_LOADED:"NOT_LOADED",LOADING:"LOADING",LOADED:"LOADED",FAILED:"FAILED",AUTH_FAILURE:"AUTH_FAILURE"},sq="https://maps.googleapis.com/maps/api/js";class m1{static load(e,n){return R2(this,void 0,void 0,function*(){var r,o;const l=e.libraries?e.libraries.split(","):[],d=this.serializeParams(e);this.listeners.push(n),!((o=(r=window.google)===null||r===void 0?void 0:r.maps)===null||o===void 0)&&o.importLibrary?(this.serializedApiParams||(this.loadingStatus=Fa.LOADED),this.notifyLoadingStatusListeners()):(this.serializedApiParams=d,this.initImportLibrary(e)),this.serializedApiParams&&this.serializedApiParams!==d&&console.warn("[google-maps-api-loader] The maps API has already been loaded with different parameters and will not be loaded again. Refresh the page for new values to have effect.");const x=["maps",...l];yield Promise.all(x.map(E=>google.maps.importLibrary(E)))})}static serializeParams(e){return[e.v,e.key,e.language,e.region,e.authReferrerPolicy,e.solutionChannel].join("/")}static initImportLibrary(e){if(window.google||(window.google={}),window.google.maps||(window.google.maps={}),window.google.maps.importLibrary){console.error("[google-maps-api-loader-internal]: initImportLibrary must only be called once");return}let n=null;const r=()=>n||(n=new Promise((o,l)=>{var d;const x=document.createElement("script"),E=new URLSearchParams;for(const[m,w]of Object.entries(e)){const A=m.replace(/[A-Z]/g,I=>"_"+I[0].toLowerCase());E.set(A,String(w))}E.set("loading","async"),E.set("callback","__googleMapsCallback__"),x.async=!0,x.src=sq+"?"+E.toString(),x.nonce=((d=document.querySelector("script[nonce]"))===null||d===void 0?void 0:d.nonce)||"",x.onerror=()=>{this.loadingStatus=Fa.FAILED,this.notifyLoadingStatusListeners(),l(new Error("The Google Maps JavaScript API could not load."))},window.__googleMapsCallback__=()=>{this.loadingStatus=Fa.LOADED,this.notifyLoadingStatusListeners(),o()},window.gm_authFailure=()=>{this.loadingStatus=Fa.AUTH_FAILURE,this.notifyLoadingStatusListeners()},this.loadingStatus=Fa.LOADING,this.notifyLoadingStatusListeners(),document.head.append(x)}),n);google.maps.importLibrary=o=>r().then(()=>google.maps.importLibrary(o))}static notifyLoadingStatusListeners(){for(const e of this.listeners)e(this.loadingStatus)}}m1.loadingStatus=Fa.NOT_LOADED;m1.listeners=[];const oq="GMP_visgl_rgmlibrary_v1_default",aq=[`gmp_visgl_reactgooglemaps_v${iq}`],Gh=Vt.createContext(null);function lq(){const[t,e]=L.useState({});return{mapInstances:t,addMapInstance:(l,d="default")=>{e(x=>Object.assign(Object.assign({},x),{[d]:l}))},removeMapInstance:(l="default")=>{e(d=>{var x=l;d[x];var E=vf(d,[typeof x=="symbol"?x:x+""]);return E})},clearMapInstances:()=>{e({})}}}function cq(t){const{onLoad:e,onError:n,apiKey:r,version:o,libraries:l=[]}=t,d=vf(t,["onLoad","onError","apiKey","version","libraries"]),[x,E]=L.useState(m1.loadingStatus),[m,w]=L.useReducer((M,k)=>M[k.name]?M:Object.assign(Object.assign({},M),{[k.name]:k.value}),{}),A=L.useMemo(()=>l?.join(","),[l]),I=L.useMemo(()=>JSON.stringify(Object.assign({apiKey:r,version:o},d)),[r,o,d]),N=L.useCallback(M=>R2(this,void 0,void 0,function*(){var k;if(m[M])return m[M];if(!(!((k=google==null?void 0:google.maps)===null||k===void 0)&&k.importLibrary))throw new Error("[api-provider-internal] importLibrary was called before google.maps.importLibrary was defined.");const V=yield window.google.maps.importLibrary(M);return w({name:M,value:V}),V}),[m]);return L.useEffect(()=>{R2(this,void 0,void 0,function*(){try{const M=Object.assign({key:r},d);o&&(M.v=o),A?.length>0&&(M.libraries=A),(M.channel===void 0||M.channel<0||M.channel>999)&&delete M.channel,M.solutionChannel===void 0?M.solutionChannel=oq:M.solutionChannel===""&&delete M.solutionChannel,yield m1.load(M,k=>E(k));for(const k of["core","maps",...l])yield N(k);e&&e()}catch(M){n?n(M):console.error("<ApiProvider> failed to load the Google Maps JavaScript API",M)}})},[r,A,I]),{status:x,loadedLibraries:m,importLibrary:N}}function uq(t){return L.useMemo(()=>t.disableUsageAttribution?null:aq,[t.disableUsageAttribution])}const fq=t=>{const{children:e}=t,n=vf(t,["children"]),{mapInstances:r,addMapInstance:o,removeMapInstance:l,clearMapInstances:d}=lq(),{status:x,loadedLibraries:E,importLibrary:m}=cq(n),w=uq(n),A=L.useMemo(()=>({mapInstances:r,addMapInstance:o,removeMapInstance:l,clearMapInstances:d,status:x,loadedLibraries:E,importLibrary:m,internalUsageAttributionIds:w}),[r,o,l,d,x,E,m,w]);return Vt.createElement(Gh.Provider,{value:A},e)};function dq(t,e){for(const n of mq){const r=e[n],o=g4[n];L.useEffect(()=>{if(!t||!r)return;const l=google.maps.event.addListener(t,o,d=>{r(hq(o,t,d))});return()=>l.remove()},[t,o,r])}}function hq(t,e,n){var r;const o={type:t,map:e,detail:{},stoppable:!1,stop:()=>{}};if(pq.includes(t)){const l=o,d=e.getCenter(),x=e.getZoom(),E=e.getHeading()||0,m=e.getTilt()||0,w=e.getBounds();return(!d||!w||!Number.isFinite(x))&&console.warn("[createEvent] at least one of the values from the map returned undefined. This is not expected to happen. Please report an issue at https://github.com/visgl/react-google-maps/issues/new"),l.detail={center:d?.toJSON()||{lat:0,lng:0},zoom:x||0,heading:E,tilt:m,bounds:w?.toJSON()||{north:90,east:180,south:-90,west:-180}},l}else if(gq.includes(t)){if(!n)throw new Error("[createEvent] mouse events must provide a srcEvent");const l=o;return l.domEvent=n.domEvent,l.stoppable=!0,l.stop=()=>n.stop(),l.detail={latLng:((r=n.latLng)===null||r===void 0?void 0:r.toJSON())||null,placeId:n.placeId},l}return o}const g4={onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onContextmenu:"contextmenu",onDblclick:"dblclick",onDrag:"drag",onDragend:"dragend",onDragstart:"dragstart",onHeadingChanged:"heading_changed",onIdle:"idle",onIsFractionalZoomEnabledChanged:"isfractionalzoomenabled_changed",onMapCapabilitiesChanged:"mapcapabilities_changed",onMapTypeIdChanged:"maptypeid_changed",onMousemove:"mousemove",onMouseout:"mouseout",onMouseover:"mouseover",onProjectionChanged:"projection_changed",onRenderingTypeChanged:"renderingtype_changed",onTilesLoaded:"tilesloaded",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed",onCameraChanged:"bounds_changed"},pq=["bounds_changed","center_changed","heading_changed","tilt_changed","zoom_changed"],gq=["click","contextmenu","dblclick","mousemove","mouseout","mouseover"],mq=Object.keys(g4);function yq(t){const e=L.useRef(void 0);return L.useEffect(()=>{e.current=t}),e.current}function xq(t,e){const n=yq(t);return L.useMemo(()=>n&&e(n,t)?n:t,[t,n,e])}function Eq(t,e,n){L.useEffect(t,[xq(e,n)])}function vq(t,e){Eq(t,e,rq)}const bq=new Set(["backgroundColor","clickableIcons","controlSize","disableDefaultUI","disableDoubleClickZoom","draggable","draggableCursor","draggingCursor","fullscreenControl","fullscreenControlOptions","gestureHandling","headingInteractionEnabled","isFractionalZoomEnabled","keyboardShortcuts","mapTypeControl","mapTypeControlOptions","mapTypeId","maxZoom","minZoom","noClear","panControl","panControlOptions","restriction","rotateControl","rotateControlOptions","scaleControl","scaleControlOptions","scrollwheel","streetView","streetViewControl","streetViewControlOptions","styles","tiltInteractionEnabled","zoomControl","zoomControlOptions"]);function wq(t,e){const n={},r=Object.keys(e);for(const o of r)bq.has(o)&&(n[o]=e[o]);vq(()=>{t&&t.setOptions(n)},[n])}function m4(){var t;return((t=L.useContext(Gh))===null||t===void 0?void 0:t.status)||Fa.NOT_LOADED}function Cq(t,e){const{viewport:n,viewState:r}=e,o=!!n;return L.useLayoutEffect(()=>{if(!t||!r)return;const{latitude:l,longitude:d,bearing:x,pitch:E,zoom:m}=r;t.moveCamera({center:{lat:l,lng:d},heading:x,tilt:E,zoom:m+1})},[t,r]),o}function Sq(t){return!t||typeof t!="object"||!("lat"in t&&"lng"in t)?!1:Number.isFinite(t.lat)&&Number.isFinite(t.lng)}function y4(t){return Sq(t)?t:t.toJSON()}function Aq(t,e,n){const r=n.center?y4(n.center):null;let o=null,l=null;r&&Number.isFinite(r.lat)&&Number.isFinite(r.lng)&&(o=r.lat,l=r.lng);const d=Number.isFinite(n.zoom)?n.zoom:null,x=Number.isFinite(n.heading)?n.heading:null,E=Number.isFinite(n.tilt)?n.tilt:null;L.useLayoutEffect(()=>{if(!t)return;const m={};let w=!1;o!==null&&l!==null&&(e.current.center.lat!==o||e.current.center.lng!==l)&&(m.center={lat:o,lng:l},w=!0),d!==null&&e.current.zoom!==d&&(m.zoom=d,w=!0),x!==null&&e.current.heading!==x&&(m.heading=x,w=!0),E!==null&&e.current.tilt!==E&&(m.tilt=E,w=!0),w&&t.moveCamera(m)})}const _q=()=>{const t={position:"absolute",top:0,left:0,bottom:0,right:0,zIndex:999,display:"flex",flexFlow:"column nowrap",textAlign:"center",justifyContent:"center",fontSize:".8rem",color:"rgba(0,0,0,0.6)",background:"#dddddd",padding:"1rem 1.5rem"};return Vt.createElement("div",{style:t},Vt.createElement("h2",null,"Error: AuthFailure"),Vt.createElement("p",null,"A problem with your API key prevents the map from rendering correctly. Please make sure the value of the ",Vt.createElement("code",null,"APIProvider.apiKey")," prop is correct. Check the error-message in the console for further details."))};function Tq(){const[t,e]=L.useState(null),n=L.useCallback(r=>e(r),[e]);return[t,n]}function x4(){return m4()===Fa.LOADED}function Iq(){const[,t]=L.useReducer(e=>e+1,0);return t}function Rq(t,e){const n=t.getCenter(),r=t.getZoom(),o=t.getHeading()||0,l=t.getTilt()||0,d=t.getBounds();(!n||!d||!Number.isFinite(r))&&console.warn("[useTrackedCameraState] at least one of the values from the map returned undefined. This is not expected to happen. Please report an issue at https://github.com/visgl/react-google-maps/issues/new"),Object.assign(e.current,{center:n?.toJSON()||{lat:0,lng:0},zoom:r||0,heading:o,tilt:l})}function Nq(t){const e=Iq(),n=L.useRef({center:{lat:0,lng:0},heading:0,tilt:0,zoom:0});return L.useEffect(()=>{if(!t)return;const r=google.maps.event.addListener(t,"bounds_changed",()=>{Rq(t,n),e()});return()=>r.remove()},[t,e]),n}class U0{static has(e){return this.entries[e]&&this.entries[e].length>0}static pop(e){return this.entries[e]&&this.entries[e].pop()||null}static push(e,n){this.entries[e]||(this.entries[e]=[]),this.entries[e].push(n)}}U0.entries={};function Mq(t,e){const n=x4(),[r,o]=L.useState(null),[l,d]=Tq(),x=Nq(r),{id:E,defaultBounds:m,defaultCenter:w,defaultZoom:A,defaultHeading:I,defaultTilt:N,reuseMaps:M,renderingType:k,colorScheme:V}=t,K=vf(t,["id","defaultBounds","defaultCenter","defaultZoom","defaultHeading","defaultTilt","reuseMaps","renderingType","colorScheme"]),Z=t.zoom!==void 0||t.defaultZoom!==void 0,H=t.center!==void 0||t.defaultCenter!==void 0;!m&&(!Z||!H)&&console.warn("<Map> component is missing configuration. You have to provide zoom and center (via the `zoom`/`defaultZoom` and `center`/`defaultCenter` props) or specify the region to show using `defaultBounds`. See https://visgl.github.io/react-google-maps/docs/api-reference/components/map#required"),!K.center&&w&&(K.center=w),!K.zoom&&Number.isFinite(A)&&(K.zoom=A),!K.heading&&Number.isFinite(I)&&(K.heading=I),!K.tilt&&Number.isFinite(N)&&(K.tilt=N);const W=K.internalUsageAttributionIds;W==null?K.internalUsageAttributionIds=e.internalUsageAttributionIds:K.internalUsageAttributionIds=[...e.internalUsageAttributionIds||[],...W];for(const se of Object.keys(K))K[se]===void 0&&delete K[se];const te=L.useRef(void 0);return L.useEffect(()=>{if(!l||!n)return;const{addMapInstance:se,removeMapInstance:z}=e,{mapId:j}=t,F=`${j||"default"}:${k||"default"}:${V||"LIGHT"}`;let J,Y;if(M&&U0.has(F)?(Y=U0.pop(F),J=Y.getDiv(),l.appendChild(J),Y.setOptions(K),setTimeout(()=>Y.setCenter(Y.getCenter()),0)):(J=document.createElement("div"),J.style.height="100%",l.appendChild(J),Y=new google.maps.Map(J,Object.assign(Object.assign(Object.assign({},K),k?{renderingType:k}:{}),V?{colorScheme:V}:{}))),o(Y),se(Y,E),m){const{padding:O}=m,q=vf(m,["padding"]);Y.fitBounds(q,O)}else(!Z||!H)&&Y.fitBounds({east:180,west:-180,south:-90,north:90});if(te.current){const{mapId:O,cameraState:q}=te.current;O!==j&&Y.setOptions(q)}return()=>{te.current={mapId:j,cameraState:x.current},J.remove(),M?U0.push(F,Y):google.maps.event.clearInstanceListeners(Y),o(null),z(E)}},[l,n,E,t.mapId,t.renderingType,t.colorScheme]),[r,d,x]}const E4=Vt.createContext(null),v4=t=>{const{children:e,id:n,className:r,style:o}=t,l=L.useContext(Gh),d=m4();if(!l)throw new Error("<Map> can only be used inside an <ApiProvider> component.");const[x,E,m]=Mq(t,l);Aq(x,m,t),dq(x,t),wq(x,t);const w=Cq(x,t),A=!!t.controlled;L.useEffect(()=>{if(x)return w&&x.setOptions({disableDefaultUI:!0}),(w||A)&&x.setOptions({gestureHandling:"none",keyboardShortcuts:!1}),()=>{x.setOptions({gestureHandling:t.gestureHandling,keyboardShortcuts:t.keyboardShortcuts})}},[x,w,A,t.gestureHandling,t.keyboardShortcuts]);const I=t.center?y4(t.center):null;let N=null,M=null;I&&Number.isFinite(I.lat)&&Number.isFinite(I.lng)&&(N=I.lat,M=I.lng);const k=L.useMemo(()=>{var Z,H,W;return{center:{lat:N??0,lng:M??0},zoom:(Z=t.zoom)!==null&&Z!==void 0?Z:0,heading:(H=t.heading)!==null&&H!==void 0?H:0,tilt:(W=t.tilt)!==null&&W!==void 0?W:0}},[N,M,t.zoom,t.heading,t.tilt]);L.useLayoutEffect(()=>{if(!x||!A)return;x.moveCamera(k);const Z=x.addListener("bounds_changed",()=>{x.moveCamera(k)});return()=>Z.remove()},[x,A,k]);const V=L.useMemo(()=>Object.assign({width:"100%",height:"100%",position:"relative",zIndex:w?-1:0},o),[o,w]),K=L.useMemo(()=>({map:x}),[x]);return d===Fa.AUTH_FAILURE?Vt.createElement("div",{style:Object.assign({position:"relative"},r?{}:V),className:r},Vt.createElement(_q,null)):Vt.createElement("div",Object.assign({ref:E,"data-testid":"map",style:r?void 0:V,className:r},n?{id:n}:{}),x?Vt.createElement(E4.Provider,{value:K},e):null)};v4.deckGLViewProps=!0;const v_=new Set;function Oq(...t){const e=JSON.stringify(t);v_.has(e)||(v_.add(e),console.error(...t))}const b4=(t=null)=>{const e=L.useContext(Gh),{map:n}=L.useContext(E4)||{};if(e===null)return Oq("useMap(): failed to retrieve APIProviderContext. Make sure that the <APIProvider> component exists and that the component you are calling `useMap()` from is a sibling of the <APIProvider>."),null;const{mapInstances:r}=e;return t!==null?r[t]||null:n||r.default||null};function Dq(t){const e=x4(),n=L.useContext(Gh);return L.useEffect(()=>{!e||!n||n.importLibrary(t)},[e,n,t]),n?.loadedLibraries[t]||null}function y0(t,e,n){L.useEffect(()=>{if(!t||!e||!n)return;const r=google.maps.event.addListener(t,e,n);return()=>r.remove()},[t,e,n])}function x0(t,e,n){L.useEffect(()=>{t&&(t[e]=n)},[t,e,n])}function b_(t,e,n){L.useEffect(()=>{if(!(!t||!e||!n))return t.addEventListener(e,n),()=>t.removeEventListener(e,n)},[t,e,n])}class Lq{constructor(){this.renderedStyles=new Set,this.styleElement=null}getStyleElement(){return this.styleElement||(this.styleElement=document.createElement("style"),this.styleElement.setAttribute("data-rgm-anchor-styles",""),document.head.appendChild(this.styleElement)),this.styleElement}addAdvancedMarkerPointerEventsOverwrite(){if(this.renderedStyles.has("marker-pointer-events"))return;const e=this.getStyleElement();e.textContent+=`
      gmp-advanced-marker[data-origin='rgm'] {
        pointer-events: none !important;
      }
    `,this.renderedStyles.add("marker-pointer-events")}cleanup(){this.styleElement&&(this.styleElement.remove(),this.styleElement=null,this.renderedStyles.clear())}}const Pq=new Lq;function kq(t,e){var n;if(!(!((n=google==null?void 0:google.maps)===null||n===void 0)&&n.version))return;const r=google.maps.version.split("."),o=parseInt(r[0],10),l=parseInt(r[1],10);return o>t||o===t&&l>=e}const Bq=Vt.createContext(null),Uq={BOTTOM:["50%","100%"]},Fq=L.forwardRef((t,e)=>{const{children:n,style:r,className:o,anchorPoint:l}=t,[d,x]=zq(t),E=L.useMemo(()=>d?{marker:d}:null,[d]);return L.useImperativeHandle(e,()=>d,[d]),x?Vt.createElement(Bq.Provider,{value:E},z2.createPortal(Vt.createElement(Vq,{anchorPoint:l,styles:r,className:o},n),x)):null});Fq.displayName="AdvancedMarker";function N2(t){return t.nodeType===Node.ELEMENT_NODE}const Vq=({children:t,styles:e,className:n})=>Vt.createElement("div",{className:n,style:e},t);function zq(t){const[e,n]=L.useState(null),[r,o]=L.useState(null),l=b4(),d=Dq("marker"),{children:x,onClick:E,className:m,onMouseEnter:w,onMouseLeave:A,onDrag:I,onDragStart:N,onDragEnd:M,collisionBehavior:k,clickable:V,draggable:K,position:Z,title:H,zIndex:W,anchorPoint:te,anchorLeft:se,anchorTop:z}=t,j=L.Children.count(x);return L.useEffect(()=>{if(!l||!d)return;const F=new d.AdvancedMarkerElement;F.map=l,n(F);let J=null;return j>0&&(J=document.createElement("div"),F.content=J,o(J)),()=>{F.map=null,J?.remove(),n(null),o(null)}},[l,d,j]),L.useEffect(()=>{!e?.content||!N2(e.content)||j>0||(e.content.className=m??"")},[e,m,j]),jq(e,te,se,z,j>0),x0(e,"position",Z),x0(e,"title",H??""),x0(e,"zIndex",W),x0(e,"collisionBehavior",k),L.useEffect(()=>{e&&(K!==void 0?e.gmpDraggable=K:I||N||M?e.gmpDraggable=!0:e.gmpDraggable=!1)},[e,K,I,M,N]),L.useEffect(()=>{if(!e)return;const F=V!==void 0||!!E||!!w||!!A;e.gmpClickable=F,F&&e?.content&&N2(e.content)&&(e.content.style.pointerEvents="all",E&&(e.content.style.cursor="pointer"))},[e,V,E,w,A]),y0(e,"click",E),y0(e,"drag",I),y0(e,"dragstart",N),y0(e,"dragend",M),b_(e?.element,"mouseenter",w),b_(e?.element,"mouseleave",A),[e,r]}function jq(t,e,n,r,o){L.useEffect(()=>{if(!t||!o)return;const l=kq(3,62),d=t.content;if(!(!d||!N2(d))){if(n!==void 0||r!==void 0){l||console.warn(`AdvancedMarker: The anchorLeft and anchorTop props are only supported in Google Maps API version 3.62 and above. The current version is ${google.maps.version}.`),t.anchorLeft=n,t.anchorTop=r,e!==void 0&&console.warn("AdvancedMarker: the anchorPoint prop is ignored when anchorLeft and/or anchorTop are set.");return}if(e!==void 0){const[x,E]=e??Uq.BOTTOM,m=`calc(-1 * ${x})`,w=`calc(-1 * ${E})`;l?(t.anchorLeft=m,t.anchorTop=w,d.style.transform=""):(d.style.transform=`translate(50%, 100%) translate(${m}, ${w})`,t.dataset.origin="rgm",Pq.addAdvancedMarkerPointerEventsOverwrite())}}},[t,e,n,r,o])}function Hq(t){const[e,n]=L.useState(null),r=b4(),{onClick:o,onDrag:l,onDragStart:d,onDragEnd:x,onMouseOver:E,onMouseOut:m}=t,w=vf(t,["onClick","onDrag","onDragStart","onDragEnd","onMouseOver","onMouseOut"]),{position:A,draggable:I}=w;return L.useEffect(()=>{if(!r){r===void 0&&console.error("<Marker> has to be inside a Map component.");return}const N=new google.maps.Marker(w);return N.setMap(r),n(N),()=>{N.setMap(null),n(null)}},[r]),L.useEffect(()=>{if(!e)return;const N=e,M=google.maps.event;return o&&M.addListener(N,"click",o),l&&M.addListener(N,"drag",l),d&&M.addListener(N,"dragstart",d),x&&M.addListener(N,"dragend",x),E&&M.addListener(N,"mouseover",E),m&&M.addListener(N,"mouseout",m),e.setDraggable(!!I),()=>{M.clearInstanceListeners(N)}},[e,I,o,l,d,x,E,m]),L.useEffect(()=>{e&&w&&e.setOptions(w)},[e,w]),L.useEffect(()=>{I||!A||!e||e.setPosition(A)},[I,A,e]),e}const w4=L.forwardRef((t,e)=>{const n=Hq(t);return L.useImperativeHandle(e,()=>n,[n]),Vt.createElement(Vt.Fragment,null)});w4.displayName="Marker";function Gq(t,e){const[n,r]=L.useState(t);return L.useEffect(()=>{const o=setTimeout(()=>{r(t)},e);return()=>{clearTimeout(o)}},[t,e]),n}const $q=({onPlaceSelect:t,apiKey:e})=>{const[n,r]=L.useState(""),[o,l]=L.useState([]),d=Gq(n,300),[x,E]=L.useState(!1);L.useEffect(()=>{(async()=>{if(d.length<3){l([]);return}const A={input:d};try{const I=await fetch("https://places.googleapis.com/v1/places:autocomplete",{method:"POST",headers:{"Content-Type":"application/json","X-Goog-Api-Key":e},body:JSON.stringify(A)});if(!I.ok){console.error("Failed to fetch autocomplete suggestions:",I.statusText),l([]);return}const N=await I.json();l(N.suggestions||[])}catch(I){console.error("Error fetching autocomplete suggestions:",I),l([])}})()},[d,e]);const m=async w=>{E(!0),r(w.placePrediction.text.text),l([]);const A=w.placePrediction.placeId;try{const I=await fetch(`https://places.googleapis.com/v1/places/${A}`,{headers:{"Content-Type":"application/json","X-Goog-Api-Key":e,"X-Goog-FieldMask":"id,displayName,formattedAddress,location"}});if(!I.ok){console.error("Failed to fetch place details:",I.statusText),E(!1);return}const N=await I.json();t(N)}catch(I){console.error("Error fetching place details:",I)}E(!1)};return U.jsxs("div",{children:[U.jsx(fs,{value:n,onChange:w=>r(w.target.value),fullWidth:!0,placeholder:"Search for your business"}),o.length>0&&U.jsx(QT,{component:"div",sx:{position:"relative"},children:U.jsx(Qi,{sx:{position:"absolute",top:0,left:0,right:0,zIndex:1200,mt:1},children:o.map(w=>U.jsx(h9,{button:!0,onClick:()=>m(w),children:U.jsx(y9,{primary:w.placePrediction.text.text})},w.placePrediction.placeId))})}),x&&U.jsx(Ps,{size:24,sx:{mt:2}})]})},qq=()=>{const t=ia(),[e,n]=L.useState(null),[r,o]=L.useState(!1),[l,d]=L.useState(""),[x,E]=L.useState(null),m="AIzaSyBMFRZY3yaht4ohrV0SCjsDu43WCaiWqzk";L.useEffect(()=>{(async()=>{const I=Lf.currentUser;if(I){const N=BR(sg(ra,"business_links"),UR("userId","==",I.uid)),M=await jR(N);M.empty?d("Could not find your business record. Please go back to the dashboard and try again."):E(M.docs[0].id)}})()},[]);const w=async()=>{if(!e||!x){d("No business selected or business record not found.");return}o(!0),d("");try{const A=`https://search.google.com/local/writereview?placeid=${e.id}`,I=Xc(ra,"business_links",x);await lf(I,{url:A,placeId:e.id,businessName:e.displayName.text,address:e.formattedAddress,location:{lat:e.location.latitude,lng:e.location.longitude}}),t(`/business/your-qr-code/${x}`)}catch(A){console.error("Failed to save business link: ",A),d("Could not save your business information. Please try again.")}o(!1)};return U.jsx(fq,{apiKey:m,children:U.jsxs(eu,{maxWidth:"md",sx:{py:4},children:[U.jsx(Lt,{variant:"h4",component:"h1",gutterBottom:!0,children:"Link Your Google Business Profile"}),U.jsx(Lt,{variant:"body1",color:"text.secondary",sx:{mb:3},children:"Find your business on Google to generate a direct review link and QR code. This ensures your customers can leave a review with a single scan."}),l&&U.jsx(jc,{severity:"error",sx:{mb:2},children:l}),U.jsxs(Qi,{sx:{p:3,mt:2},children:[U.jsx($q,{onPlaceSelect:n,apiKey:m}),e&&U.jsxs(Gn,{sx:{mt:3},children:[U.jsx(Lt,{variant:"h6",children:"Confirm your business location"}),U.jsxs(Qi,{variant:"outlined",sx:{p:2,mt:1,backgroundColor:"#f5f5f5"},children:[U.jsx(Lt,{variant:"h6",children:e.displayName.text}),U.jsx(Lt,{color:"text.secondary",children:e.formattedAddress})]}),U.jsx(Gn,{sx:{height:"300px",mt:2,borderRadius:1,overflow:"hidden"},children:U.jsx(v4,{defaultCenter:{lat:e.location.latitude,lng:e.location.longitude},defaultZoom:17,gestureHandling:"greedy",disableDefaultUI:!0,children:U.jsx(w4,{position:{lat:e.location.latitude,lng:e.location.longitude}})})})]})]}),U.jsx(Qa,{variant:"contained",onClick:w,disabled:r||!e,fullWidth:!0,sx:{mt:3,py:1.5},children:r?U.jsx(Ps,{size:24}):"Confirm and Next"})]})})};var Wq=Object.defineProperty,y1=Object.getOwnPropertySymbols,C4=Object.prototype.hasOwnProperty,S4=Object.prototype.propertyIsEnumerable,w_=(t,e,n)=>e in t?Wq(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,M2=(t,e)=>{for(var n in e||(e={}))C4.call(e,n)&&w_(t,n,e[n]);if(y1)for(var n of y1(e))S4.call(e,n)&&w_(t,n,e[n]);return t},O2=(t,e)=>{var n={};for(var r in t)C4.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&y1)for(var r of y1(t))e.indexOf(r)<0&&S4.call(t,r)&&(n[r]=t[r]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var Zc;(t=>{const e=class ln{constructor(E,m,w,A){if(this.version=E,this.errorCorrectionLevel=m,this.modules=[],this.isFunction=[],E<ln.MIN_VERSION||E>ln.MAX_VERSION)throw new RangeError("Version value out of range");if(A<-1||A>7)throw new RangeError("Mask value out of range");this.size=E*4+17;let I=[];for(let M=0;M<this.size;M++)I.push(!1);for(let M=0;M<this.size;M++)this.modules.push(I.slice()),this.isFunction.push(I.slice());this.drawFunctionPatterns();const N=this.addEccAndInterleave(w);if(this.drawCodewords(N),A==-1){let M=1e9;for(let k=0;k<8;k++){this.applyMask(k),this.drawFormatBits(k);const V=this.getPenaltyScore();V<M&&(A=k,M=V),this.applyMask(k)}}o(0<=A&&A<=7),this.mask=A,this.applyMask(A),this.drawFormatBits(A),this.isFunction=[]}static encodeText(E,m){const w=t.QrSegment.makeSegments(E);return ln.encodeSegments(w,m)}static encodeBinary(E,m){const w=t.QrSegment.makeBytes(E);return ln.encodeSegments([w],m)}static encodeSegments(E,m,w=1,A=40,I=-1,N=!0){if(!(ln.MIN_VERSION<=w&&w<=A&&A<=ln.MAX_VERSION)||I<-1||I>7)throw new RangeError("Invalid value");let M,k;for(M=w;;M++){const H=ln.getNumDataCodewords(M,m)*8,W=d.getTotalBits(E,M);if(W<=H){k=W;break}if(M>=A)throw new RangeError("Data too long")}for(const H of[ln.Ecc.MEDIUM,ln.Ecc.QUARTILE,ln.Ecc.HIGH])N&&k<=ln.getNumDataCodewords(M,H)*8&&(m=H);let V=[];for(const H of E){n(H.mode.modeBits,4,V),n(H.numChars,H.mode.numCharCountBits(M),V);for(const W of H.getData())V.push(W)}o(V.length==k);const K=ln.getNumDataCodewords(M,m)*8;o(V.length<=K),n(0,Math.min(4,K-V.length),V),n(0,(8-V.length%8)%8,V),o(V.length%8==0);for(let H=236;V.length<K;H^=253)n(H,8,V);let Z=[];for(;Z.length*8<V.length;)Z.push(0);return V.forEach((H,W)=>Z[W>>>3]|=H<<7-(W&7)),new ln(M,m,Z,I)}getModule(E,m){return 0<=E&&E<this.size&&0<=m&&m<this.size&&this.modules[m][E]}getModules(){return this.modules}drawFunctionPatterns(){for(let w=0;w<this.size;w++)this.setFunctionModule(6,w,w%2==0),this.setFunctionModule(w,6,w%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const E=this.getAlignmentPatternPositions(),m=E.length;for(let w=0;w<m;w++)for(let A=0;A<m;A++)w==0&&A==0||w==0&&A==m-1||w==m-1&&A==0||this.drawAlignmentPattern(E[w],E[A]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(E){const m=this.errorCorrectionLevel.formatBits<<3|E;let w=m;for(let I=0;I<10;I++)w=w<<1^(w>>>9)*1335;const A=(m<<10|w)^21522;o(A>>>15==0);for(let I=0;I<=5;I++)this.setFunctionModule(8,I,r(A,I));this.setFunctionModule(8,7,r(A,6)),this.setFunctionModule(8,8,r(A,7)),this.setFunctionModule(7,8,r(A,8));for(let I=9;I<15;I++)this.setFunctionModule(14-I,8,r(A,I));for(let I=0;I<8;I++)this.setFunctionModule(this.size-1-I,8,r(A,I));for(let I=8;I<15;I++)this.setFunctionModule(8,this.size-15+I,r(A,I));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let E=this.version;for(let w=0;w<12;w++)E=E<<1^(E>>>11)*7973;const m=this.version<<12|E;o(m>>>18==0);for(let w=0;w<18;w++){const A=r(m,w),I=this.size-11+w%3,N=Math.floor(w/3);this.setFunctionModule(I,N,A),this.setFunctionModule(N,I,A)}}drawFinderPattern(E,m){for(let w=-4;w<=4;w++)for(let A=-4;A<=4;A++){const I=Math.max(Math.abs(A),Math.abs(w)),N=E+A,M=m+w;0<=N&&N<this.size&&0<=M&&M<this.size&&this.setFunctionModule(N,M,I!=2&&I!=4)}}drawAlignmentPattern(E,m){for(let w=-2;w<=2;w++)for(let A=-2;A<=2;A++)this.setFunctionModule(E+A,m+w,Math.max(Math.abs(A),Math.abs(w))!=1)}setFunctionModule(E,m,w){this.modules[m][E]=w,this.isFunction[m][E]=!0}addEccAndInterleave(E){const m=this.version,w=this.errorCorrectionLevel;if(E.length!=ln.getNumDataCodewords(m,w))throw new RangeError("Invalid argument");const A=ln.NUM_ERROR_CORRECTION_BLOCKS[w.ordinal][m],I=ln.ECC_CODEWORDS_PER_BLOCK[w.ordinal][m],N=Math.floor(ln.getNumRawDataModules(m)/8),M=A-N%A,k=Math.floor(N/A);let V=[];const K=ln.reedSolomonComputeDivisor(I);for(let H=0,W=0;H<A;H++){let te=E.slice(W,W+k-I+(H<M?0:1));W+=te.length;const se=ln.reedSolomonComputeRemainder(te,K);H<M&&te.push(0),V.push(te.concat(se))}let Z=[];for(let H=0;H<V[0].length;H++)V.forEach((W,te)=>{(H!=k-I||te>=M)&&Z.push(W[H])});return o(Z.length==N),Z}drawCodewords(E){if(E.length!=Math.floor(ln.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let m=0;for(let w=this.size-1;w>=1;w-=2){w==6&&(w=5);for(let A=0;A<this.size;A++)for(let I=0;I<2;I++){const N=w-I,k=(w+1&2)==0?this.size-1-A:A;!this.isFunction[k][N]&&m<E.length*8&&(this.modules[k][N]=r(E[m>>>3],7-(m&7)),m++)}}o(m==E.length*8)}applyMask(E){if(E<0||E>7)throw new RangeError("Mask value out of range");for(let m=0;m<this.size;m++)for(let w=0;w<this.size;w++){let A;switch(E){case 0:A=(w+m)%2==0;break;case 1:A=m%2==0;break;case 2:A=w%3==0;break;case 3:A=(w+m)%3==0;break;case 4:A=(Math.floor(w/3)+Math.floor(m/2))%2==0;break;case 5:A=w*m%2+w*m%3==0;break;case 6:A=(w*m%2+w*m%3)%2==0;break;case 7:A=((w+m)%2+w*m%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[m][w]&&A&&(this.modules[m][w]=!this.modules[m][w])}}getPenaltyScore(){let E=0;for(let I=0;I<this.size;I++){let N=!1,M=0,k=[0,0,0,0,0,0,0];for(let V=0;V<this.size;V++)this.modules[I][V]==N?(M++,M==5?E+=ln.PENALTY_N1:M>5&&E++):(this.finderPenaltyAddHistory(M,k),N||(E+=this.finderPenaltyCountPatterns(k)*ln.PENALTY_N3),N=this.modules[I][V],M=1);E+=this.finderPenaltyTerminateAndCount(N,M,k)*ln.PENALTY_N3}for(let I=0;I<this.size;I++){let N=!1,M=0,k=[0,0,0,0,0,0,0];for(let V=0;V<this.size;V++)this.modules[V][I]==N?(M++,M==5?E+=ln.PENALTY_N1:M>5&&E++):(this.finderPenaltyAddHistory(M,k),N||(E+=this.finderPenaltyCountPatterns(k)*ln.PENALTY_N3),N=this.modules[V][I],M=1);E+=this.finderPenaltyTerminateAndCount(N,M,k)*ln.PENALTY_N3}for(let I=0;I<this.size-1;I++)for(let N=0;N<this.size-1;N++){const M=this.modules[I][N];M==this.modules[I][N+1]&&M==this.modules[I+1][N]&&M==this.modules[I+1][N+1]&&(E+=ln.PENALTY_N2)}let m=0;for(const I of this.modules)m=I.reduce((N,M)=>N+(M?1:0),m);const w=this.size*this.size,A=Math.ceil(Math.abs(m*20-w*10)/w)-1;return o(0<=A&&A<=9),E+=A*ln.PENALTY_N4,o(0<=E&&E<=2568888),E}getAlignmentPatternPositions(){if(this.version==1)return[];{const E=Math.floor(this.version/7)+2,m=this.version==32?26:Math.ceil((this.version*4+4)/(E*2-2))*2;let w=[6];for(let A=this.size-7;w.length<E;A-=m)w.splice(1,0,A);return w}}static getNumRawDataModules(E){if(E<ln.MIN_VERSION||E>ln.MAX_VERSION)throw new RangeError("Version number out of range");let m=(16*E+128)*E+64;if(E>=2){const w=Math.floor(E/7)+2;m-=(25*w-10)*w-55,E>=7&&(m-=36)}return o(208<=m&&m<=29648),m}static getNumDataCodewords(E,m){return Math.floor(ln.getNumRawDataModules(E)/8)-ln.ECC_CODEWORDS_PER_BLOCK[m.ordinal][E]*ln.NUM_ERROR_CORRECTION_BLOCKS[m.ordinal][E]}static reedSolomonComputeDivisor(E){if(E<1||E>255)throw new RangeError("Degree out of range");let m=[];for(let A=0;A<E-1;A++)m.push(0);m.push(1);let w=1;for(let A=0;A<E;A++){for(let I=0;I<m.length;I++)m[I]=ln.reedSolomonMultiply(m[I],w),I+1<m.length&&(m[I]^=m[I+1]);w=ln.reedSolomonMultiply(w,2)}return m}static reedSolomonComputeRemainder(E,m){let w=m.map(A=>0);for(const A of E){const I=A^w.shift();w.push(0),m.forEach((N,M)=>w[M]^=ln.reedSolomonMultiply(N,I))}return w}static reedSolomonMultiply(E,m){if(E>>>8||m>>>8)throw new RangeError("Byte out of range");let w=0;for(let A=7;A>=0;A--)w=w<<1^(w>>>7)*285,w^=(m>>>A&1)*E;return o(w>>>8==0),w}finderPenaltyCountPatterns(E){const m=E[1];o(m<=this.size*3);const w=m>0&&E[2]==m&&E[3]==m*3&&E[4]==m&&E[5]==m;return(w&&E[0]>=m*4&&E[6]>=m?1:0)+(w&&E[6]>=m*4&&E[0]>=m?1:0)}finderPenaltyTerminateAndCount(E,m,w){return E&&(this.finderPenaltyAddHistory(m,w),m=0),m+=this.size,this.finderPenaltyAddHistory(m,w),this.finderPenaltyCountPatterns(w)}finderPenaltyAddHistory(E,m){m[0]==0&&(E+=this.size),m.pop(),m.unshift(E)}};e.MIN_VERSION=1,e.MAX_VERSION=40,e.PENALTY_N1=3,e.PENALTY_N2=3,e.PENALTY_N3=40,e.PENALTY_N4=10,e.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],e.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],t.QrCode=e;function n(x,E,m){if(E<0||E>31||x>>>E)throw new RangeError("Value out of range");for(let w=E-1;w>=0;w--)m.push(x>>>w&1)}function r(x,E){return(x>>>E&1)!=0}function o(x){if(!x)throw new Error("Assertion error")}const l=class _r{constructor(E,m,w){if(this.mode=E,this.numChars=m,this.bitData=w,m<0)throw new RangeError("Invalid argument");this.bitData=w.slice()}static makeBytes(E){let m=[];for(const w of E)n(w,8,m);return new _r(_r.Mode.BYTE,E.length,m)}static makeNumeric(E){if(!_r.isNumeric(E))throw new RangeError("String contains non-numeric characters");let m=[];for(let w=0;w<E.length;){const A=Math.min(E.length-w,3);n(parseInt(E.substring(w,w+A),10),A*3+1,m),w+=A}return new _r(_r.Mode.NUMERIC,E.length,m)}static makeAlphanumeric(E){if(!_r.isAlphanumeric(E))throw new RangeError("String contains unencodable characters in alphanumeric mode");let m=[],w;for(w=0;w+2<=E.length;w+=2){let A=_r.ALPHANUMERIC_CHARSET.indexOf(E.charAt(w))*45;A+=_r.ALPHANUMERIC_CHARSET.indexOf(E.charAt(w+1)),n(A,11,m)}return w<E.length&&n(_r.ALPHANUMERIC_CHARSET.indexOf(E.charAt(w)),6,m),new _r(_r.Mode.ALPHANUMERIC,E.length,m)}static makeSegments(E){return E==""?[]:_r.isNumeric(E)?[_r.makeNumeric(E)]:_r.isAlphanumeric(E)?[_r.makeAlphanumeric(E)]:[_r.makeBytes(_r.toUtf8ByteArray(E))]}static makeEci(E){let m=[];if(E<0)throw new RangeError("ECI assignment value out of range");if(E<128)n(E,8,m);else if(E<16384)n(2,2,m),n(E,14,m);else if(E<1e6)n(6,3,m),n(E,21,m);else throw new RangeError("ECI assignment value out of range");return new _r(_r.Mode.ECI,0,m)}static isNumeric(E){return _r.NUMERIC_REGEX.test(E)}static isAlphanumeric(E){return _r.ALPHANUMERIC_REGEX.test(E)}getData(){return this.bitData.slice()}static getTotalBits(E,m){let w=0;for(const A of E){const I=A.mode.numCharCountBits(m);if(A.numChars>=1<<I)return 1/0;w+=4+I+A.bitData.length}return w}static toUtf8ByteArray(E){E=encodeURI(E);let m=[];for(let w=0;w<E.length;w++)E.charAt(w)!="%"?m.push(E.charCodeAt(w)):(m.push(parseInt(E.substring(w+1,w+3),16)),w+=2);return m}};l.NUMERIC_REGEX=/^[0-9]*$/,l.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,l.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let d=l;t.QrSegment=l})(Zc||(Zc={}));(t=>{(e=>{const n=class{constructor(o,l){this.ordinal=o,this.formatBits=l}};n.LOW=new n(0,1),n.MEDIUM=new n(1,0),n.QUARTILE=new n(2,3),n.HIGH=new n(3,2),e.Ecc=n})(t.QrCode||(t.QrCode={}))})(Zc||(Zc={}));(t=>{(e=>{const n=class{constructor(o,l){this.modeBits=o,this.numBitsCharCount=l}numCharCountBits(o){return this.numBitsCharCount[Math.floor((o+7)/17)]}};n.NUMERIC=new n(1,[10,12,14]),n.ALPHANUMERIC=new n(2,[9,11,13]),n.BYTE=new n(4,[8,16,16]),n.KANJI=new n(8,[8,10,12]),n.ECI=new n(7,[0,0,0]),e.Mode=n})(t.QrSegment||(t.QrSegment={}))})(Zc||(Zc={}));var Zu=Zc;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var Yq={L:Zu.QrCode.Ecc.LOW,M:Zu.QrCode.Ecc.MEDIUM,Q:Zu.QrCode.Ecc.QUARTILE,H:Zu.QrCode.Ecc.HIGH},A4=128,_4="L",T4="#FFFFFF",I4="#000000",R4=!1,N4=1,Xq=4,Kq=0,Qq=.1;function M4(t,e=0){const n=[];return t.forEach(function(r,o){let l=null;r.forEach(function(d,x){if(!d&&l!==null){n.push(`M${l+e} ${o+e}h${x-l}v1H${l+e}z`),l=null;return}if(x===r.length-1){if(!d)return;l===null?n.push(`M${x+e},${o+e} h1v1H${x+e}z`):n.push(`M${l+e},${o+e} h${x+1-l}v1H${l+e}z`);return}d&&l===null&&(l=x)})}),n.join("")}function O4(t,e){return t.slice().map((n,r)=>r<e.y||r>=e.y+e.h?n:n.map((o,l)=>l<e.x||l>=e.x+e.w?o:!1))}function Zq(t,e,n,r){if(r==null)return null;const o=t.length+n*2,l=Math.floor(e*Qq),d=o/e,x=(r.width||l)*d,E=(r.height||l)*d,m=r.x==null?t.length/2-x/2:r.x*d,w=r.y==null?t.length/2-E/2:r.y*d,A=r.opacity==null?1:r.opacity;let I=null;if(r.excavate){let M=Math.floor(m),k=Math.floor(w),V=Math.ceil(x+m-M),K=Math.ceil(E+w-k);I={x:M,y:k,w:V,h:K}}const N=r.crossOrigin;return{x:m,y:w,h:E,w:x,excavation:I,opacity:A,crossOrigin:N}}function Jq(t,e){return e!=null?Math.max(Math.floor(e),0):t?Xq:Kq}function D4({value:t,level:e,minVersion:n,includeMargin:r,marginSize:o,imageSettings:l,size:d,boostLevel:x}){let E=Vt.useMemo(()=>{const M=(Array.isArray(t)?t:[t]).reduce((k,V)=>(k.push(...Zu.QrSegment.makeSegments(V)),k),[]);return Zu.QrCode.encodeSegments(M,Yq[e],n,void 0,void 0,x)},[t,e,n,x]);const{cells:m,margin:w,numCells:A,calculatedImageSettings:I}=Vt.useMemo(()=>{let N=E.getModules();const M=Jq(r,o),k=N.length+M*2,V=Zq(N,d,M,l);return{cells:N,margin:M,numCells:k,calculatedImageSettings:V}},[E,d,l,r,o]);return{qrcode:E,margin:w,cells:m,numCells:A,calculatedImageSettings:I}}var eW=(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})(),L4=Vt.forwardRef(function(e,n){const r=e,{value:o,size:l=A4,level:d=_4,bgColor:x=T4,fgColor:E=I4,includeMargin:m=R4,minVersion:w=N4,boostLevel:A,marginSize:I,imageSettings:N}=r,k=O2(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:V}=k,K=O2(k,["style"]),Z=N?.src,H=Vt.useRef(null),W=Vt.useRef(null),te=Vt.useCallback(ue=>{H.current=ue,typeof n=="function"?n(ue):n&&(n.current=ue)},[n]),[se,z]=Vt.useState(!1),{margin:j,cells:F,numCells:J,calculatedImageSettings:Y}=D4({value:o,level:d,minVersion:w,boostLevel:A,includeMargin:m,marginSize:I,imageSettings:N,size:l});Vt.useEffect(()=>{if(H.current!=null){const ue=H.current,re=ue.getContext("2d");if(!re)return;let ie=F;const he=W.current,Ne=Y!=null&&he!==null&&he.complete&&he.naturalHeight!==0&&he.naturalWidth!==0;Ne&&Y.excavation!=null&&(ie=O4(F,Y.excavation));const Te=window.devicePixelRatio||1;ue.height=ue.width=l*Te;const We=l/J*Te;re.scale(We,We),re.fillStyle=x,re.fillRect(0,0,J,J),re.fillStyle=E,eW?re.fill(new Path2D(M4(ie,j))):F.forEach(function(ae,ge){ae.forEach(function(me,Re){me&&re.fillRect(Re+j,ge+j,1,1)})}),Y&&(re.globalAlpha=Y.opacity),Ne&&re.drawImage(he,Y.x+j,Y.y+j,Y.w,Y.h)}}),Vt.useEffect(()=>{z(!1)},[Z]);const O=M2({height:l,width:l},V);let q=null;return Z!=null&&(q=Vt.createElement("img",{src:Z,key:Z,style:{display:"none"},onLoad:()=>{z(!0)},ref:W,crossOrigin:Y?.crossOrigin})),Vt.createElement(Vt.Fragment,null,Vt.createElement("canvas",M2({style:O,height:l,width:l,ref:te,role:"img"},K)),q)});L4.displayName="QRCodeCanvas";var tW=Vt.forwardRef(function(e,n){const r=e,{value:o,size:l=A4,level:d=_4,bgColor:x=T4,fgColor:E=I4,includeMargin:m=R4,minVersion:w=N4,boostLevel:A,title:I,marginSize:N,imageSettings:M}=r,k=O2(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:V,cells:K,numCells:Z,calculatedImageSettings:H}=D4({value:o,level:d,minVersion:w,boostLevel:A,includeMargin:m,marginSize:N,imageSettings:M,size:l});let W=K,te=null;M!=null&&H!=null&&(H.excavation!=null&&(W=O4(K,H.excavation)),te=Vt.createElement("image",{href:M.src,height:H.h,width:H.w,x:H.x+V,y:H.y+V,preserveAspectRatio:"none",opacity:H.opacity,crossOrigin:H.crossOrigin}));const se=M4(W,V);return Vt.createElement("svg",M2({height:l,width:l,viewBox:`0 0 ${Z} ${Z}`,ref:n,role:"img"},k),!!I&&Vt.createElement("title",null,I),Vt.createElement("path",{fill:x,d:`M0,0 h${Z}v${Z}H0z`,shapeRendering:"crispEdges"}),Vt.createElement("path",{fill:E,d:se,shapeRendering:"crispEdges"}),te)});tW.displayName="QRCodeSVG";function C_(){const{docId:t}=kM(),e=ia(),[n,r]=L.useState(!0),[o,l]=L.useState(""),[d,x]=L.useState(""),[E,m]=L.useState(""),[w,A]=L.useState(null),I=L.useRef(null),[N,M]=L.useState(!1),k=L.useCallback(()=>{const H=`${window.location.origin}/review?business_id=${t}&t=${Date.now()}`;x(H),M(!0)},[t]);L.useEffect(()=>{if(N&&I.current){const H=I.current.querySelector("canvas");if(H){const W=H.toDataURL("image/png"),te=c$(g$,`qrcodes/${t}.png`);a$(te,W,"data_url").then(async()=>{const se=await l$(te);m(se),await lf(Xc(ra,"business_links",t),{qrCodeUrl:se,qrCodeValue:d})}).catch(se=>{console.error("Error uploading QR code:",se),l("Failed to save the new QR code.")}).finally(()=>{M(!1)})}else M(!1)}},[N,t,d]),L.useEffect(()=>{(async()=>{if(!t){l("No business ID provided."),r(!1);return}r(!0);try{const W=Xc(ra,"business_links",t),te=await dE(W);if(te.exists()){const se=te.data();A(se),se.qrCodeUrl&&se.qrCodeValue?(x(se.qrCodeValue),m(se.qrCodeUrl)):k()}else l("Business link not found.")}catch(W){console.error("Error fetching QR Code:",W),l("Failed to load QR code data.")}finally{r(!1)}})()},[t,k]);const V=()=>{const H=document.createElement("a");H.href=E,H.download=`${w?.businessName?.replace(/\s+/g,"-")||"business"}-qr-code.png`,document.body.appendChild(H),H.click(),document.body.removeChild(H)},K=()=>{navigator.clipboard.writeText(d)},Z=()=>{e("/business/add-business-link")};return U.jsxs(eu,{maxWidth:"sm",sx:{py:4,textAlign:"center"},children:[U.jsx(Lt,{variant:"h4",component:"h1",gutterBottom:!0,children:"Your QR Code"}),U.jsx(Lt,{variant:"body1",color:"text.secondary",sx:{mb:3},children:"Print this QR code and display it at your business location for customers to scan."}),o&&U.jsx(jc,{severity:"error",sx:{mb:2},children:o}),U.jsx(Qi,{sx:{p:4,display:"inline-block"},children:n?U.jsx(Ps,{}):U.jsxs(Gn,{sx:{position:"relative",width:256,height:256},children:[d&&U.jsx(Gn,{ref:I,sx:{display:"none"},children:U.jsx(L4,{value:d,size:256})}),N?U.jsx(Gn,{sx:{display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:"100%"},children:U.jsx(Ps,{})}):E?U.jsx("img",{src:E,alt:"QR Code",width:256,height:256}):U.jsx(Lt,{variant:"caption",children:"QR Code not available. Try refreshing."})]})}),w&&U.jsxs(Gn,{sx:{mt:2,color:"text.secondary"},children:[U.jsxs(Lt,{variant:"subtitle1",component:"div",sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:[U.jsx(F7,{sx:{mr:1,fontSize:"1.2rem"}})," ",w.businessName]}),U.jsx(Lt,{variant:"caption",children:w.address})]}),U.jsxs(Gn,{sx:{mt:3,display:"flex",justifyContent:"center",gap:2},children:[U.jsx(Qa,{variant:"contained",startIcon:U.jsx(k7,{}),onClick:V,disabled:!E||n||N,children:"Download"}),U.jsx(Qa,{variant:"outlined",startIcon:U.jsx(L7,{}),onClick:K,disabled:!d||n||N,children:"Copy Link"}),U.jsx(bo,{onClick:k,disabled:n||N,children:U.jsx(uI,{})}),U.jsx(bo,{onClick:Z,disabled:n||N,children:U.jsx(B7,{})})]}),N&&U.jsx(Lt,{sx:{mt:2},variant:"caption",children:"Generating new QR Code..."})]})}function nW(){return U.jsxs(eu,{maxWidth:"md",sx:{mt:4},children:[U.jsx(Lt,{variant:"h4",component:"h1",gutterBottom:!0,children:"Analytics"}),U.jsx(Lt,{variant:"body1",children:"This page is under construction."})]})}function rW(){const[t,e]=L.useState(!1),[n,r]=L.useState(""),[o,l]=L.useState(""),[d,x]=L.useState({fullName:"",businessName:"",description:"",highlightTabs:[]}),[E,m]=L.useState(null),[w,A]=L.useState(null);L.useEffect(()=>{(async()=>{e(!0);const W=Lf.onAuthStateChanged(async te=>{if(te)try{const se=Xc(ra,"users",te.uid),z=await dE(se);let j={};z.exists()&&(m(se),j=z.data());const F=BR(sg(ra,"business_links"),UR("userId","==",te.uid)),J=await jR(F);let Y={};if(!J.empty){const O=J.docs[0];A(O.ref),Y=O.data()}x({fullName:j.fullName||"",businessName:Y.businessName||"",description:Y.description||"",highlightTabs:Y.highlightTabs||[]})}catch(se){console.error("Error fetching data:",se),r("Failed to fetch profile data.")}finally{e(!1)}else e(!1),r("You must be logged in to view this page.")});return()=>W()})()},[]);const I=H=>{const{name:W,value:te}=H.target;x({...d,[W]:te})},N=async()=>{e(!0),r(""),l("");try{E&&await lf(E,{fullName:d.fullName}),w&&await lf(w,{businessName:d.businessName,description:d.description,highlightTabs:d.highlightTabs}),l("Profile updated successfully!")}catch(H){r(H.message)}e(!1)},M=async()=>{if(!w){r("Business profile not found. Cannot update tabs.");return}e(!0),r(""),l("");try{const H=await p4(d.description);x({...d,highlightTabs:H}),await lf(w,{highlightTabs:H}),l("Highlight tabs have been regenerated and saved!")}catch(H){console.error("Error generating highlight tabs:",H),r("Failed to regenerate and save highlight tabs.")}e(!1)},k=H=>{const W=d.highlightTabs.filter(te=>te!==H);x({...d,highlightTabs:W})},V=()=>{if(K&&!d.highlightTabs.includes(K)){const H=[...d.highlightTabs,K];x({...d,highlightTabs:H}),Z("")}},[K,Z]=L.useState("");return t?U.jsx(Gn,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"80vh"},children:U.jsx(Ps,{})}):U.jsxs(eu,{maxWidth:"md",sx:{py:4},children:[U.jsx(Lt,{variant:"h4",component:"h1",gutterBottom:!0,children:"Profile Settings"}),n&&U.jsx(jc,{severity:"error",sx:{mb:2},children:n}),o&&U.jsx(jc,{severity:"success",sx:{mb:2},children:o}),U.jsxs(Qi,{sx:{p:3,mt:2},children:[U.jsx(Lt,{variant:"h6",component:"h2",gutterBottom:!0,children:"Your Information"}),U.jsx(fs,{label:"Your Full Name",name:"fullName",value:d.fullName,onChange:I,fullWidth:!0,margin:"normal"}),U.jsx(fs,{label:"Business Name",name:"businessName",value:d.businessName,onChange:I,fullWidth:!0,margin:"normal"}),U.jsx(fs,{label:"Business Description",name:"description",value:d.description,onChange:I,fullWidth:!0,multiline:!0,rows:4,margin:"normal"})]}),U.jsxs(Qi,{sx:{p:3,mt:4},children:[U.jsxs(Gn,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[U.jsx(Lt,{variant:"h6",component:"h2",gutterBottom:!0,children:"Review Highlight Tabs"}),U.jsx(bo,{onClick:M,disabled:t||!d.description,children:U.jsx(uI,{})})]}),U.jsx(Lt,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"These tabs will be shown to customers to help them write their review."}),U.jsx(Gn,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:d.highlightTabs&&d.highlightTabs.map((H,W)=>U.jsx(A0,{label:H,onDelete:()=>k(H)},W))}),U.jsxs(Gn,{sx:{display:"flex",mt:2,gap:1},children:[U.jsx(fs,{label:"Add new tab",value:K,onChange:H=>Z(H.target.value),size:"small"}),U.jsx(Qa,{onClick:V,variant:"outlined",startIcon:U.jsx(lI,{}),children:"Add"})]})]}),U.jsx(Qa,{variant:"contained",color:"primary",onClick:N,disabled:t,sx:{mt:4,py:1.5},children:t?U.jsx(Ps,{size:24}):"Save Changes"})]})}const iW=()=>U.jsxs(Gn,{sx:{p:4,textAlign:"center"},children:[U.jsx(Lt,{variant:"h4",children:"Subscription & Billing"}),U.jsx(Lt,{variant:"body1",children:"This feature is coming soon!"})]});function sW(){const t=ro(),e=["/business/login","/business/signup"].includes(t.pathname);return U.jsxs(U.Fragment,{children:[!e&&U.jsx(K$,{}),U.jsx(Gn,{sx:{pt:e?0:"64px"},children:U.jsxs(k_,{children:[U.jsx(Ki,{index:!0,element:U.jsx(P_,{to:"login",replace:!0})}),U.jsx(Ki,{path:"login",element:U.jsx(Q$,{})}),U.jsx(Ki,{path:"signup",element:U.jsx(J$,{})}),U.jsx(Ki,{path:"dashboard",element:U.jsx(Dc,{children:U.jsx(eq,{})})}),U.jsx(Ki,{path:"add-business-link",element:U.jsx(Dc,{children:U.jsx(qq,{})})}),U.jsx(Ki,{path:"your-qr-code",element:U.jsx(Dc,{children:U.jsx(C_,{})})}),U.jsx(Ki,{path:"your-qr-code/:docId",element:U.jsx(Dc,{children:U.jsx(C_,{})})}),U.jsx(Ki,{path:"analytics",element:U.jsx(Dc,{children:U.jsx(nW,{})})}),U.jsx(Ki,{path:"profile-settings",element:U.jsx(Dc,{children:U.jsx(rW,{})})}),U.jsx(Ki,{path:"billing",element:U.jsx(Dc,{children:U.jsx(iW,{})})})]})})]})}const oW=L1({palette:{primary:{main:"#1A73E8"},secondary:{main:"#4285F4"}},typography:{fontFamily:"Roboto, sans-serif",h4:{fontWeight:"bold"},h5:{fontWeight:"bold"},subtitle1:{fontWeight:"medium"}},components:{MuiButton:{styleOverrides:{root:{borderRadius:"8px",textTransform:"none"}}},MuiTextField:{styleOverrides:{root:{"& .MuiOutlinedInput-root":{borderRadius:"8px"}}}}}});function aW(){const t=ro(),e=!t.pathname.startsWith("/business")&&t.pathname!=="/review";return U.jsxs(sL,{theme:oW,children:[U.jsx(tk,{}),e&&U.jsx(X$,{}),U.jsxs(k_,{children:[U.jsx(Ki,{path:"/business/*",element:U.jsx(sW,{})}),U.jsx(Ki,{path:"/",element:U.jsx(NO,{})}),U.jsx(Ki,{path:"/scan-qr",element:U.jsx(x6,{})}),U.jsx(Ki,{path:"/review",element:U.jsx(Y$,{})})]})]})}oM.createRoot(document.getElementById("root")).render(U.jsx(L.StrictMode,{children:U.jsx(EO,{children:U.jsx(aW,{})})}));
